{"meta":{"title":"Timbok's Blog","subtitle":"Timbok's BLOG","description":"ä¸€ä¸ªå‰ç«¯çš„æŠ€æœ¯åšå®¢ï¼Œå¶å°”ä¹Ÿä¼šåˆ†äº«ä¸€äº›å¥½çš„æ–‡ç« å’Œè¡Œä¸šè¶£äº‹ã€‚","author":"Timbok","url":"https://timbok.github.io"},"pages":[{"title":"æ–‡ç« åˆ†ç±»","date":"2018-11-29T08:08:09.000Z","updated":"2020-04-15T12:16:58.184Z","comments":false,"path":"categories/index.html","permalink":"https://timbok.github.io/categories/index.html","excerpt":"","text":""},{"title":"ä¸ªäººç®€å†","date":"2019-01-04T16:00:00.000Z","updated":"2020-09-14T07:14:22.302Z","comments":true,"path":"introduce/index.html","permalink":"https://timbok.github.io/introduce/index.html","excerpt":"","text":"Timbok(timbok.yang@qq.com)ä¸ªäººä¿¡æ¯ å­¦å†ï¼šæœ¬ç§‘ ä¸“ä¸šï¼šè½¯ä»¶å·¥ç¨‹ èŒä¸šï¼šå‰ç«¯æ”»åŸç‹® å‘é‡ï¼šèŒ‚ç›› æŠ€æœ¯åšå®¢ï¼šhttps://timbok.top åœ°ç‚¹ï¼š ä¸Šæµ· é¡¹ç›®ç»å† â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ æŠ€èƒ½åˆ—è¡¨ ç†Ÿæ‚‰vueJSã€Reactç­‰ä¸»æµMVCã€MVVMæ¡†æ¶ï¼› æŒæ¡localStorageã€sessionStorageç­‰å‰ç«¯å­˜å‚¨æ–¹æ¡ˆï¼Œè®°å½•ç”¨æˆ·æ“ä½œä¹ æƒ¯æˆ–å¸¸ç”¨æ•°æ®ï¼Œä»è€Œé™ä½HTTPè¯·æ±‚ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼› ç†Ÿç»ƒä½¿ç”¨SVNã€gitç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œè¿›è¡Œä»£ç ç®¡ç†ï¼Œå®ç°æ•æ·å¼€å‘ï¼› ç†Ÿç»ƒä½¿ç”¨Bootstarpæ¡†æ¶ï¼Œé€šè¿‡æ …æ ¼ç³»ç»Ÿå¿«é€Ÿå¸ƒå±€å“åº”å¼é¡µé¢ä»¥é€‚åº” ä¸åŒè®¾å¤‡ï¼› ç†Ÿç»ƒä½¿ç”¨Ajaxï¼Œå®ç°å¼‚æ­¥é¡µé¢æ— åˆ·æ–°æŠ½å–æ•°æ®ï¼ŒåŒæ­¥æ ¡éªŒæ•°æ®ï¼› ç†Ÿç»ƒä½¿ç”¨HTMLã€CSSã€JavaScriptç­‰å‰ç«¯æŠ€æœ¯ï¼Œå®Œæˆç½‘é¡µé™æ€å¸ƒå±€ï¼Œ å¼€å‘å…¼å®¹ä¸»æµæµè§ˆå™¨çš„é¡µé¢ï¼Œä»¥åŠå®ç°é¡µé¢çš„äº¤äº’ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼› äº†è§£node.jsï¼Œåˆ©ç”¨å…¶æ­å»ºç®€å•çš„æœåŠ¡å™¨ã€‚ ä¸ªäººçˆ±å¥½ åƒé¥­ã€ç¡è§‰ã€æ‰“è±†è±† ç©æ¸¸æˆ è¿åŠ¨"},{"title":"ç•™è¨€æ¿","date":"2019-01-04T16:00:00.000Z","updated":"2020-04-15T12:16:58.185Z","comments":true,"path":"message/index.html","permalink":"https://timbok.github.io/message/index.html","excerpt":"","text":"æ¬¢è¿ç•™è¨€ï¼Œç›¸äº’äº¤æµã€‚ğŸ™„ğŸ™„ğŸ™„"},{"title":"Daily Sharing","date":"2019-01-04T16:00:00.000Z","updated":"2020-07-17T02:39:29.063Z","comments":true,"path":"share/index.html","permalink":"https://timbok.github.io/share/index.html","excerpt":"","text":"å¥½æ–‡æ¨èæŠ€æœ¯ lodashçš„debounce,bindå’Œes7çš„@è£…é¥°å™¨ thisã€applyã€callã€bind æ‰‹æŠŠæ‰‹æ•™ä½ æ’¸ä¸€ä¸ªç®€æ˜“çš„ webpack JavaScriptå¼€å‘è€…åº”æ‡‚çš„33ä¸ªæ¦‚å¿µ å¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„å‡½æ•° ç‹¼å”ï¼šå¦‚ä½•æ­£ç¡®çš„å­¦ä¹ Node.js ä¸ƒå¤©å­¦ä¼šNode.js æ¯æ—¥ä¸€é“é¢è¯•é¢˜ Javascript é¢è¯•ä¸­ç»å¸¸è¢«é—®åˆ°çš„ä¸‰ä¸ªé—®é¢˜ï¼ å¨±ä¹ å…è´¹çš„åœ¨çº¿å½±è§†ç½‘ç«™æ±‡æ€» å…è´¹ä¸‹è½½ç”µå½± å…è´¹ä¸‹è½½winè½¯ä»¶ ä¸‹è½½å„ç§éŸ³æ•ˆ ä¸‹è½½å¥½çœ‹çš„å­—ä½“"}],"posts":[{"title":"ä¸€ä¸ªå…¥é—¨æ€»ç»“","slug":"ä¸€ä¸ªå…¥é—¨æ€»ç»“","date":"2020-10-08T02:48:14.000Z","updated":"2021-01-27T02:37:48.998Z","comments":true,"path":"2020/10/08/ä¸€ä¸ªå…¥é—¨æ€»ç»“/","link":"","permalink":"https://timbok.github.io/2020/10/08/ä¸€ä¸ªå…¥é—¨æ€»ç»“/","excerpt":"","text":"åŸºç¡€å­¦ä¹ èµ„æ–™HTML5/CSS3 HTMLï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ JavaScriptï¼ˆES5ï¼‰ JavaScriptæ•™ç¨‹ ES6 ES6 å…¥é—¨æ•™ç¨‹ Vue Vue.js åŸºç¡€å­¦ä¹ å®Œåï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¡†æ¶ï¼Œæ¨èVueï¼ˆæœ¬èœé¸Ÿæ›´ç²¾é€šReactï¼‰Vueæ–‡æ¡£å›½äººå†™çš„ï¼Œå¥½ç†è§£ï¼å¸‚åœºéœ€æ±‚ä¹Ÿå¤§ï¼ åœ¨å­¦ä¹ åŸºç¡€èµ„æ–™çš„æ—¶å€™ä¸€å®šè¦åšç¬”è®°ï¼Œåˆ‡ä¸å¯å›«å›µåæ£ï¼ç¬”è®°å¯ä»¥ä½¿ç”¨mdæ¥å†™ï¼mdè¯­æ³•æ•™ç¨‹ MarkdownåŸºæœ¬è¯­æ³•æœ‰é“äº‘ç¬”è®°æ”¯æŒmdï¼Œå»ºè®®ä½¿ç”¨ åœ¨å­¦ä¹ ä¸­é™¤äº†ç¬”è®°ï¼Œè‚¯å®šè¿˜æœ‰ä¸€äº›ä»£ç å®ä¾‹ã€‚è¿™æ—¶å€™å¯ä»¥é¡ºå¸¦æŠŠgitå­¦äº†åœ¨GitHub/ç äº‘ç­‰ç½‘ç«™å»ºç«‹ä¸€ä¸ªç§äººä»“åº“ï¼ŒæŠŠä½ çš„ä»£ç æ¯å¤©çš„ä»£ç æäº¤åˆ°æ¯å¤©å»ºç«‹çš„åˆ†æ”¯ï¼Œç„¶åç»Ÿä¸€åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚ Git Git - Book Gitä¸ç”¨ç‰¹æ„å­¦ï¼Œå“ªé‡Œä¸ä¼šï¼Œå»æŸ¥çœ‹äº†è§£æ¸…æ¥šï¼ è®ºå›æ˜é‡‘ æ˜é‡‘ - juejin.im - ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº é€‚åˆæœ‰ä¸€å®šåŸºç¡€å»çœ‹æ–‡æ¡£æ€å¦ SegmentFault æ€å¦ æœ‰ä¸€äº›ä¼˜è´¨çš„å…¥é—¨æ•™ç¨‹stackoverflow å„ç§ç–‘éš¾æ‚ç—‡éƒ½æœ‰è§£ç­”çš„ç¥å¥‡ç½‘ç«™ éœ€è¦æ¢¯å­github Github å…¨çƒæœ€å¤§åŒäººç½‘ç«™ä¸ç”¨æˆ‘å¤šè¯´äº†å§è®ºå›ä¸ç”¨å¤šåˆ·ï¼Œå†™æŠŠåŸºç¡€å­¦å¥½ æ€»ç»“å­¦è®¡ç®—æœºæŒºå¥½çš„ï¼Œå°±æ˜¯å¤´æœ‰ç‚¹å†·ï¼","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]},{"title":"JavaScript4ç§å¸¸ç”¨çš„æ•°ç»„å»é‡","slug":"JavaScript4ç§å¸¸ç”¨çš„æ•°ç»„å»é‡","date":"2020-06-18T02:22:57.000Z","updated":"2020-06-18T03:04:29.157Z","comments":true,"path":"2020/06/18/JavaScript4ç§å¸¸ç”¨çš„æ•°ç»„å»é‡/","link":"","permalink":"https://timbok.github.io/2020/06/18/JavaScript4ç§å¸¸ç”¨çš„æ•°ç»„å»é‡/","excerpt":"","text":"æ•°ç»„å»é‡é¢è¯•ä¸­æˆ–è€…å¼€å‘ç»å¸¸ä¼šé—®åˆ°æ•°ç»„å»é‡ï¼Œæ•´ç†äº†æˆ‘çŸ¥é“çš„å››ç§ã€‚è¿˜æœ‰ä»€ä¹ˆæ–°æ–¹æ³•ï¼Œæ–°æ“ä½œï¼Œæ¬¢è¿è¡¥å……ï¼ 1var arr = [1, 1, '1', '1', 'true', 'true', true, true, null, null, undefined, undefined, NaN, NaN, &#123;'a': 1&#125;, &#123;'a': 1&#125;] 1. ES6å»é‡{}ä¸èƒ½å»é‡12Array.from(new Set(arr))// (9) [1, \"1\", \"true\", true, null, undefined, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;] 2. åŒé‡éå†å»é‡{}ã€NaNä¸èƒ½å»é‡ï¼Œå¯åšç‰¹æ®Šæ“ä½œå®ç°1234567891011function unique(arr = []) &#123; for(let i = 0; i &lt; arr.length; i++) &#123; for(let j = i + 1; j &lt; arr.length; j++) &#123; if(arr[i] === arr[j]) &#123; arr.splice(j, 1); j--; &#125; &#125; &#125;&#125;// (10) [1, \"1\", \"true\", true, null, undefined, NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;] 3. indexOf æˆ–è€… includes å»é‡éœ€è¦æ³¨æ„çš„æ˜¯ includes å¯ä»¥å»é™¤NaNï¼Œè€Œ indexOf ä¸å¯ä»¥ã€‚ arr.indexOf(NaN) === -1 1234567891011function unique(arr = []) &#123; let newArr = []; for(let i = 0; i &lt; arr.length; i++) &#123; debugger; if(!newArr.includes(arr[i]) || newArr.indexOf(arr[i]) === -1) &#123; newArr.push(arr[i]); &#125; &#125; return newArr;&#125;// (10) [1, \"1\", \"true\", true, null, undefined, NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;] 4. filterå»é‡åŸç†ï¼šindexOfåªä¼šè¿”å›åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„å…ƒç´ ä½ç½® 1234arr.filter((item, index, arr) =&gt; &#123; return arr.indexOf(item) === index;&#125;)(8) [1, \"1\", \"true\", true, null, undefined, &#123;â€¦&#125;, &#123;â€¦&#125;]","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"commitæ ¼å¼åŒ–ä»£ç å¹¶æ ¡éªŒ","slug":"commitæ ¼å¼åŒ–ä»£ç å¹¶æ ¡éªŒ","date":"2020-05-08T03:13:18.000Z","updated":"2020-05-08T03:14:06.362Z","comments":true,"path":"2020/05/08/commitæ ¼å¼åŒ–ä»£ç å¹¶æ ¡éªŒ/","link":"","permalink":"https://timbok.github.io/2020/05/08/commitæ ¼å¼åŒ–ä»£ç å¹¶æ ¡éªŒ/","excerpt":"","text":"commitæ ¼å¼åŒ–ä»£ç å¹¶æ ¡éªŒå€ŸåŠ© git hooks ä¸­çš„ pre-commit å®ç° å®‰è£… husky å’Œ lint-stagedyarn add husky lint-staged --dev é…ç½® husky å’Œ lint-stagedåœ¨package.jsonä¸­ä¿®æ”¹ 123456789101112\"husky\": &#123; \"hooks\": &#123; \"pre-commit\": \"lint-staged\" &#125;&#125;,\"lint-staged\": &#123; \"src/**/*.&#123;js,jsx,ts,tsx&#125;\": \"eslint --quiet --fix --ext .js\", \"src/**/*.less\": \"stylelint --syntax less\", \"src/**/*.&#123;js,jsx,ts,tsx,less&#125;\": [ \"prettier --write\" ]&#125; git hooks æ–‡æ¡£","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]},{"title":"åŸå‹å’ŒåŸå‹é“¾","slug":"åŸå‹å’ŒåŸå‹é“¾","date":"2020-05-08T03:05:27.000Z","updated":"2020-05-08T03:05:49.616Z","comments":true,"path":"2020/05/08/åŸå‹å’ŒåŸå‹é“¾/","link":"","permalink":"https://timbok.github.io/2020/05/08/åŸå‹å’ŒåŸå‹é“¾/","excerpt":"","text":"åŸå‹å’ŒåŸå‹é“¾åŸå‹åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰æ˜¯å…è®¸æ‹¥æœ‰å±æ€§çš„ã€‚æ‰€æœ‰çš„å‡½æ•°ä¼šæœ‰ä¸€ä¸ªç‰¹åˆ«çš„å±æ€§ â€”â€” prototypeï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯åŸå‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ åŸå‹å¯¹è±¡å°±ç›¸å½“äºä¸€ä¸ªå…¬å…±çš„åŒºåŸŸï¼Œæ‰€æœ‰åŒä¸€ä¸ªç±»çš„å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä¸­å…±æœ‰çš„å†…å®¹ï¼Œç»Ÿä¸€è®¾ç½®åˆ°åŸå‹å¯¹è±¡ä¸­ 1234567891011function Person(name, age) &#123; this.name = name; this.age = age; this.sayName = function() &#123; return this.name; &#125;&#125;var timbok = new Person('timbok', 18);var lucy = new Person('lucy', 20);console.log(timbok.sayName === lucy.sayName); // false å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºåŒä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ new ç”Ÿæˆå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½ä¼šå¼€å‡ºæ–°çš„ä¸€å—å †åŒºï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¸­ timbok å’Œ lucyçš„sayNameä¸ç›¸ç­‰ã€‚ å½“ä½¿ç”¨prototypeæ—¶ 1234567Person.prototype.eat = function() &#123; console.log('åƒ');&#125;var timbok = new Person('timbok', 18);var lucy = new Person('lucy', 20);console.log(timbok.eat === lucy.eat); // true åŸå‹é“¾åœ¨JavaScriptä¸­ä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´ä¹Ÿæœ‰å…³ç³»ï¼Œå¹¶ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ã€‚å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨JavaScriptä¸­æ˜¯é€šè¿‡prototypeå¯¹è±¡æŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘Objectå¯¹è±¡ä¸ºæ­¢ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåŸå‹æŒ‡å‘çš„é“¾æ¡ï¼Œä¸“ä¸šæœ¯è¯­ç§°ä¹‹ä¸ºåŸå‹é“¾ã€‚ 123Person.prototype.constructor === Person // truePerson.prototype === timbok.__proto__ // true å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»åŸå‹å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ™å»åŸå‹çš„åŸå‹ä¸­å¯»æ‰¾,ç›´åˆ°æ‰¾åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼ŒObjectå¯¹è±¡çš„åŸå‹æ²¡æœ‰åŸå‹ï¼Œå¦‚æœåœ¨ObjectåŸå‹ä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›undefinedã€‚ 123456Person.prototype.a = 123;var person = new Person()console.log(person.a) // 123console.log(person.b) // undefined person.a: å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾a -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°person.__proto__ï¼Œä¹Ÿå°±æ˜¯ Person.prototypeå†…æ‰¾ -&gt; æ‰¾åˆ°äº† person.b: å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾b -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°person.__proto__å†…æ‰¾ -&gt; æŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ -&gt; æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚Objectä¸ºæ­¢ -&gt; æ‰¾ä¸åˆ°å°±undefined è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦è¦æƒ³å¼„æ‡‚newï¼Œå¾—å…ˆäº†è§£ä¸€ä¸‹ä½•ä¸ºæ„é€ å‡½æ•°ï¼Ÿ æ„é€ å‡½æ•°æ„é€ å‡½æ•°ä¸å…¶ä»–å‡½æ•°çš„å”¯ä¸€åŒºåˆ«ï¼Œå°±åœ¨äºè°ƒç”¨å®ƒä»¬çš„æ–¹å¼ä¸åŒã€‚ä¸è¿‡ï¼Œæ„é€ å‡½æ•°æ¯•ç«Ÿä¹Ÿæ˜¯å‡½æ•°ï¼Œä¸å­˜åœ¨å®šä¹‰æ„é€ å‡½æ•°çš„ç‰¹æ®Šè¯­æ³•ã€‚ä»»ä½•å‡½æ•°ï¼Œåªè¦é€šè¿‡ new æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•° ç”¨ä»¥ä¸‹çš„ä¾‹å­æ¥æ¨¡ä»¿ var person = new Person() çš„è¿‡ç¨‹ 12345678910111213141516171819202122// 1. éœ€è¦ä¸€ä¸ªåˆ›é€ å™¨function Creator() &#123; this.name='creator' console.log(\"åˆ›é€ å™¨\");&#125;// 2. æ–°å»ºå˜é‡ï¼Œå¼€è¾Ÿå†…å­˜var person = &#123;&#125;;// 3. é€šè¿‡ __proto__ æŒ‡å‘Creatorçš„åŸå‹person.__proto__ = Creator.prototype// 4. call person ä½¿å…¶å¯ä»¥æ‰©å±•nameCreator.call(person) // åˆ›é€ å™¨// 5.åœ¨åŸå‹ä¸Šå¢åŠ æ–¹æ³•Creator.prototype.action = function() &#123; console.log('åˆ›é€ åŠ¨ä½œ')&#125;person.action() // åˆ›é€ åŠ¨ä½œconsole.log(person) // Creator &#123;name: 1&#125; å…³äº thisã€applyã€callã€bind å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚ å†™åœ¨æœ€åä¸ªäººæ€»ç»“ï¼Œå¦‚æœ‰ä¸æ­£ç¡®ï¼Œæ¬¢è¿æŒ‡æ­£ï¼","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"typescriptå­¦ä¹ å°è®°","slug":"typescriptå­¦ä¹ å°è®°","date":"2020-05-01T02:20:15.000Z","updated":"2020-05-08T03:08:11.850Z","comments":true,"path":"2020/05/01/typescriptå­¦ä¹ å°è®°/","link":"","permalink":"https://timbok.github.io/2020/05/01/typescriptå­¦ä¹ å°è®°/","excerpt":"","text":"Tipså¯é€‰å‚æ•°?: 1234567interface Person &#123; gender?: string; // å¯é€‰å±æ€§&#125;function sayHello(person: string, age?: number): string &#123; return `Hello, $&#123;person&#125;. I am $&#123;age&#125;`;&#125; æŠ¥é”™ç±»å‹â€œReadonly&lt;{}&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt;â€ä¸Šä¸å­˜åœ¨å±æ€§â€œhistoryâ€ã€‚ts(2339)tsç›´æ¥å¼•ç”¨è·¯ç”±ä¼šæŠ¥å¦‚ä¸Šçš„é”™ 1const &#123; history: &#123; location: &#123; pathname &#125; &#125; &#125; = this.props; å¼•ç”¨ä¸‹ RouteComponentProps å³å¯ 12345678import &#123; RouteComponentProps &#125; from 'react-router-dom';export default class Home extends Component&lt;RouteComponentProps&gt; &#123; render() &#123; const &#123; history: &#123; location: &#123; pathname &#125; &#125; &#125; = this.props; return &lt;div className=&#123;style.test&#125;&gt;è¿™æ˜¯&#123;pathname&#125;&lt;/div&gt;; &#125;&#125; æ‰¾ä¸åˆ°æ¨¡å—â€œ./index.module.lessâ€ã€‚ts(2307)åœ¨ global.d.ts é‡Œå£°æ˜ï¼š 1234declare module '*.module.less' &#123; const classes: &#123; readonly [key: string]: string &#125;; export default classes;&#125; æ³¨æ„ï¼šå‡½æ•°çš„å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å¿…éœ€å åŸºæœ¬ç±»å‹ç©ºå€¼ voidå£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º undefined å’Œ nullï¼šlet unusable: void = undefined; Null å’Œ Undefinedåœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ null å’Œ undefined æ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹ï¼š 12let u: undefined = undefined;let n: null = null; ä¸ void çš„åŒºåˆ«æ˜¯ï¼Œundefined å’Œ null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ undefined ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ï¼š 12// è¿™æ ·ä¸ä¼šæŠ¥é”™let num: number = undefined; è”åˆç±»å‹è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚ è”åˆç±»å‹ä½¿ç”¨ | åˆ†éš”æ¯ä¸ªç±»å‹ã€‚1234let num: number | string;num = 6;num = 'six'; å‡½æ•°é‡è½½123456789function reverse(x: number): number;function reverse(x: string): string;function reverse(x: number | string): number | string &#123; if (typeof x === 'number') &#123; return Number(x.toString().split('').reverse().join('')); &#125; else if (typeof x === 'string') &#123; return x.split('').reverse().join(''); &#125;&#125; ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡å¤å®šä¹‰äº†å¤šæ¬¡å‡½æ•° reverseï¼Œå‰å‡ æ¬¡éƒ½æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚åœ¨ç¼–è¾‘å™¨çš„ä»£ç æç¤ºä¸­ï¼Œå¯ä»¥æ­£ç¡®çš„çœ‹åˆ°å‰ä¸¤ä¸ªæç¤ºã€‚ æ³¨æ„ï¼ŒTypeScript ä¼šä¼˜å…ˆä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…ï¼Œæ‰€ä»¥å¤šä¸ªå‡½æ•°å®šä¹‰å¦‚æœæœ‰åŒ…å«å…³ç³»ï¼Œéœ€è¦ä¼˜å…ˆæŠŠç²¾ç¡®çš„å®šä¹‰å†™åœ¨å‰é¢ã€‚ ç±»å‹æ–­è¨€ è”åˆç±»å‹å¯ä»¥è¢«æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹ çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±» ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º any any å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹ å£°æ˜æ–‡ä»¶å…¨å±€å˜é‡çš„å£°æ˜æ–‡ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§è¯­æ³•ï¼š declare var å£°æ˜å…¨å±€å˜é‡ declare function å£°æ˜å…¨å±€æ–¹æ³• declare class å£°æ˜å…¨å±€ç±» declare enum å£°æ˜å…¨å±€æšä¸¾ç±»å‹ declare namespace å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡ interface å’Œ type å£°æ˜å…¨å±€ç±»å‹ npm åŒ…å‘å¸ƒåˆ° @types é‡Œã€‚æˆ‘ä»¬åªéœ€è¦å°è¯•å®‰è£…ä¸€ä¸‹å¯¹åº”çš„ @types åŒ…å°±çŸ¥é“æ˜¯å¦å­˜åœ¨è¯¥å£°æ˜æ–‡ä»¶ï¼Œå®‰è£…å‘½ä»¤æ˜¯ npm install @types/foo --save-devã€‚è¿™ç§æ¨¡å¼ä¸€èˆ¬æ˜¯ç”±äº npm åŒ…çš„ç»´æŠ¤è€…æ²¡æœ‰æä¾›å£°æ˜æ–‡ä»¶ï¼Œæ‰€ä»¥åªèƒ½ç”±å…¶ä»–äººå°†å£°æ˜æ–‡ä»¶å‘å¸ƒåˆ° @types é‡Œäº†ã€‚ ç±»å‹åˆ«åç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚ä½¿ç”¨type 12345678type stringOrNumber = string | Function;function getName(n: stringOrNumber): stringOrNumber &#123; if (typeof n === 'string') &#123; return n; &#125; else &#123; return n(); &#125;&#125; å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ç”¨æ¥çº¦æŸå–å€¼åªèƒ½æ˜¯æŸå‡ ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªã€‚ 123456789type EventNames = 'click' | 'scroll' | 'mousemove';function handleEvent(ele: Element, event: EventNames) &#123; // do something&#125;handleEvent(document.getElementById('hello'), 'scroll'); // æ²¡é—®é¢˜handleEvent(document.getElementById('world'), 'dbclick'); // æŠ¥é”™ï¼Œevent ä¸èƒ½ä¸º 'dbclick'// index.ts(7,47): error TS2345: Argument of type '\"dbclick\"' is not assignable to parameter of type 'EventNames'. æšä¸¾æšä¸¾ï¼ˆEnumï¼‰ç±»å‹ç”¨äºå–å€¼è¢«é™å®šåœ¨ä¸€å®šèŒƒå›´å†…çš„åœºæ™¯ æšä¸¾æˆå‘˜ä¼šè¢«èµ‹å€¼ä¸ºä» 0 å¼€å§‹é€’å¢çš„æ•°å­—ï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹æšä¸¾å€¼åˆ°æšä¸¾åè¿›è¡Œåå‘æ˜ å°„ï¼š 1234567891011enum Days &#123;Sun, Mon, Tue, Wed, Thu, Fri, Sat&#125;;console.log(Days[\"Sun\"] === 0); // trueconsole.log(Days[\"Mon\"] === 1); // trueconsole.log(Days[\"Tue\"] === 2); // trueconsole.log(Days[\"Sat\"] === 6); // trueconsole.log(Days[0] === \"Sun\"); // trueconsole.log(Days[1] === \"Mon\"); // trueconsole.log(Days[2] === \"Tue\"); // trueconsole.log(Days[6] === \"Sat\"); // true äº‹å®ä¸Šï¼Œä¸Šé¢çš„ä¾‹å­ä¼šè¢«ç¼–è¯‘ä¸ºï¼š 12345678910var Days;(function (Days) &#123; Days[Days[\"Sun\"] = 0] = \"Sun\"; Days[Days[\"Mon\"] = 1] = \"Mon\"; Days[Days[\"Tue\"] = 2] = \"Tue\"; Days[Days[\"Wed\"] = 3] = \"Wed\"; Days[Days[\"Thu\"] = 4] = \"Thu\"; Days[Days[\"Fri\"] = 5] = \"Fri\"; Days[Days[\"Sat\"] = 6] = \"Sat\";&#125;)(Days || (Days = &#123;&#125;)); æšä¸¾é¡¹åªèƒ½è¢«èµ‹å€¼ä¸ºå¸¸æ•° ç±»å®ç°æ¥å£å®ç°ï¼ˆimplementsï¼‰æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™ä¸åŒç±»ä¹‹é—´å¯ä»¥æœ‰ä¸€äº›å…±æœ‰çš„ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠç‰¹æ€§æå–æˆæ¥å£ï¼ˆinterfacesï¼‰ï¼Œç”¨ implements å…³é”®å­—æ¥å®ç°ã€‚è¿™ä¸ªç‰¹æ€§å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œé—¨æ˜¯ä¸€ä¸ªç±»ï¼Œé˜²ç›—é—¨æ˜¯é—¨çš„å­ç±»ã€‚å¦‚æœé˜²ç›—é—¨æœ‰ä¸€ä¸ªæŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç»™é˜²ç›—é—¨æ·»åŠ ä¸€ä¸ªæŠ¥è­¦æ–¹æ³•ã€‚è¿™æ—¶å€™å¦‚æœæœ‰å¦ä¸€ä¸ªç±»ï¼Œè½¦ï¼Œä¹Ÿæœ‰æŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥è€ƒè™‘æŠŠæŠ¥è­¦å™¨æå–å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œé˜²ç›—é—¨å’Œè½¦éƒ½å»å®ç°å®ƒï¼š 123456789101112131415161718interface Alarm &#123; alert(): void;&#125;class Door &#123;&#125;class SecurityDoor extends Door implements Alarm &#123; alert() &#123; console.log('SecurityDoor alert'); &#125;&#125;class Car implements Alarm &#123; alert() &#123; console.log('Car alert'); &#125;&#125; æ³›å‹æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚ 123456789function createArray&lt;T&gt;(length: number, value: T): Array&lt;T&gt; &#123; let result: T[] = []; for (let i = 0; i &lt; length; i++) &#123; result[i] = value; &#125; return result;&#125;createArray&lt;string&gt;(3, 'x'); // ['x', 'x', 'x'] ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ååæ·»åŠ äº† &lt;T&gt;ï¼Œå…¶ä¸­ T ç”¨æ¥æŒ‡ä»£ä»»æ„è¾“å…¥çš„ç±»å‹ï¼Œåœ¨åé¢çš„è¾“å…¥ value: T å’Œè¾“å‡º Array&lt;T&gt; ä¸­å³å¯ä½¿ç”¨äº†ã€‚ èµ„æ–™: https://ts.xcatliu.com/","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"Hookå­¦ä¹ å°è®°","slug":"Hookå­¦ä¹ å°è®°","date":"2020-04-18T02:26:16.000Z","updated":"2020-05-08T03:13:04.615Z","comments":true,"path":"2020/04/18/Hookå­¦ä¹ å°è®°/","link":"","permalink":"https://timbok.github.io/2020/04/18/Hookå­¦ä¹ å°è®°/","excerpt":"","text":"HookHook æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚ Hookæ˜¯ä»€ä¹ˆHook æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©ä½ â€œé’©å…¥â€ React çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼ŒuseState æ˜¯å…è®¸ä½ åœ¨ React å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  state çš„ Hookã€‚ æ³¨æ„ å¯ä»¥æŠŠ useEffect Hook çœ‹åš componentDidMountï¼ŒcomponentDidUpdate å’Œ componentWillUnmount è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚ useEffect ä¼šåœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œ ä¸ºä»€ä¹ˆè¦åœ¨ effect ä¸­è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ è¿™æ˜¯ effect å¯é€‰çš„æ¸…é™¤æœºåˆ¶ã€‚æ¯ä¸ª effect éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœä½ çš„ effect è¿”å›ä¸€ä¸ªå‡½æ•°ï¼ŒReact å°†ä¼šåœ¨æ‰§è¡Œæ¸…é™¤æ“ä½œæ—¶è°ƒç”¨å®ƒ Hook è§„åˆ™åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hookä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookï¼Œ ç¡®ä¿æ€»æ˜¯åœ¨ä½ çš„ React å‡½æ•°çš„æœ€é¡¶å±‚è°ƒç”¨ä»–ä»¬ã€‚ åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hookä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚ å¢åŠ Eslint æ ¡éªŒä»¥ä¸Šä¸¤æ¡è§„åˆ™npm install eslint-plugin-react-hooks --save-dev 123456789101112// ä½ çš„ ESLint é…ç½®&#123; \"plugins\": [ // ... \"react-hooks\" ], \"rules\": &#123; // ... \"react-hooks/rules-of-hooks\": \"error\", // æ£€æŸ¥ Hook çš„è§„åˆ™ \"react-hooks/exhaustive-deps\": \"warn\" // æ£€æŸ¥ effect çš„ä¾èµ– &#125;&#125; React Hooks è¯¦è§£","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"Reactå†·é—¨ä½†å¾ˆå¥½ç”¨çš„çŸ¥è¯†ç‚¹","slug":"Reactå†·é—¨ä½†å¾ˆå¥½ç”¨çš„çŸ¥è¯†ç‚¹","date":"2019-08-27T13:00:03.000Z","updated":"2020-04-15T12:16:58.179Z","comments":true,"path":"2019/08/27/Reactå†·é—¨ä½†å¾ˆå¥½ç”¨çš„çŸ¥è¯†ç‚¹/","link":"","permalink":"https://timbok.github.io/2019/08/27/Reactå†·é—¨ä½†å¾ˆå¥½ç”¨çš„çŸ¥è¯†ç‚¹/","excerpt":"","text":"ä»‹ç»æœ€è¿‘åœ¨é‡è¯»Reactå®˜æ–¹æ–‡æ¡£ï¼Œç›˜ç‚¹ä¸€äº›ä¸å¸¸ç”¨ä½†æœ‰ç”¨çš„çŸ¥è¯†ç‚¹ã€‚å¦‚æœæœ‰å•¥è¯´çš„ä¸å¥½çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£ï¼ æ¨èä¸ªç¿»è¯‘çš„ä¸é”™çš„Reactæ–‡æ¡£ getSnapshotBeforeUpdate()getSnapshotBeforeUpdate()ä¸ºReactç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œ åœ¨render()ä¹‹å‰è°ƒç”¨ã€‚å®ƒä½¿å¾—ç»„ä»¶èƒ½åœ¨å‘ç”Ÿæ›´æ”¹ä¹‹å‰ä» DOM ä¸­æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œæ»šåŠ¨ä½ç½®ï¼‰ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•è¿”å›å€¼å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ componentDidUpdate()ã€‚ å¤„ç†èŠå¤©æ»šåŠ¨çš„ç¤ºä¾‹ï¼š1234567891011121314151617181920212223242526272829303132class ScrollingList extends React.Component &#123; constructor(props) &#123; super(props); this.listRef = React.createRef(); &#125; getSnapshotBeforeUpdate(prevProps, prevState) &#123; // æˆ‘ä»¬æ˜¯å¦åœ¨ list ä¸­æ·»åŠ æ–°çš„ items ï¼Ÿ // æ•è·æ»šåŠ¨ä½ç½®ä»¥ä¾¿æˆ‘ä»¬ç¨åè°ƒæ•´æ»šåŠ¨ä½ç½®ã€‚ if (prevProps.list.length &lt; this.props.list.length) &#123; const list = this.listRef.current; return list.scrollHeight - list.scrollTop; &#125; return null; &#125; componentDidUpdate(prevProps, prevState, snapshot) &#123; // å¦‚æœæˆ‘ä»¬ snapshot æœ‰å€¼ï¼Œè¯´æ˜æˆ‘ä»¬åˆšåˆšæ·»åŠ äº†æ–°çš„ itemsï¼Œ // è°ƒæ•´æ»šåŠ¨ä½ç½®ä½¿å¾—è¿™äº›æ–° items ä¸ä¼šå°†æ—§çš„ items æ¨å‡ºè§†å›¾ã€‚ //ï¼ˆè¿™é‡Œçš„ snapshot æ˜¯ getSnapshotBeforeUpdate çš„è¿”å›å€¼ï¼‰ if (snapshot !== null) &#123; const list = this.listRef.current; list.scrollTop = list.scrollHeight - snapshot; &#125; &#125; render() &#123; return ( &lt;div ref=&#123;this.listRef&#125;&gt;&#123;/* ...contents... */&#125;&lt;/div&gt; ); &#125;&#125; forceUpdate()é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ç»„ä»¶çš„ state æˆ– props å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç»„ä»¶å°†é‡æ–°æ¸²æŸ“ã€‚å¦‚æœ render() æ–¹æ³•ä¾èµ–äºå…¶ä»–æ•°æ®ï¼Œåˆ™å¯ä»¥è°ƒç”¨ forceUpdate() å¼ºåˆ¶è®©ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ è°ƒç”¨ forceUpdate() å°†è‡´ä½¿ç»„ä»¶è°ƒç”¨ render() æ–¹æ³•ï¼Œæ­¤æ“ä½œä¼šè·³è¿‡è¯¥ç»„ä»¶çš„ shouldComponentUpdate()ã€‚ä½†å…¶å­ç»„ä»¶ä¼šè§¦å‘æ­£å¸¸çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ŒåŒ…æ‹¬ shouldComponentUpdate() æ–¹æ³•ã€‚å¦‚æœæ ‡è®°å‘ç”Ÿå˜åŒ–ï¼ŒReact ä»å°†åªæ›´æ–° DOMã€‚ ç®€å•æ¥è¯´forceUpdate()æ–¹æ³•å¯ä»¥å¼ºåˆ¶æ›´æ–°ç»„ä»¶ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ï¼ keykeyé¡¾åæ€ä¹‰ä¸ºç»„ä»¶çš„æ ‡è¯†ï¼Œå½“keyæ”¹å˜æ—¶ç»„ä»¶ä¼šé‡æ–°æ³¨å†Œï¼ä½†æˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„è¿˜æ˜¯éå†ï¼ 1234567const todos = [1, 2, 3, 4, 5];const todoItems = todos.map((todo, index) =&gt; // Only do this if items have no stable IDs &lt;li key=&#123;index&#125;&gt; &#123;todo.text&#125; &lt;/li&gt;); å…¶å®ç”¨indexä½œä¸ºKeyæœ‰é—®é¢˜ï¼Œå¯ä»¥çœ‹è¿™ç¯‡åšå®¢ çŠ¶æ€æå‡å®˜æ–¹è§£é‡Šï¼šé€šå¸¸ï¼Œå¤šä¸ªç»„ä»¶éœ€è¦åæ˜ ç›¸åŒçš„å˜åŒ–æ•°æ®ï¼Œè¿™æ—¶æˆ‘ä»¬å»ºè®®å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…±åŒçˆ¶ç»„ä»¶ä¸­å»ã€‚ ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸¤ä¸ªå­ç»„ä»¶éƒ½ä½¿ç”¨çˆ¶ç»„ä»¶çš„ä¸€ä¸ªå‚æ•°ï¼Œé€šè¿‡propsæŠŠæ”¹å‚æ•°ä¼ å…¥å­ç»„ä»¶ï¼Œå¹¶æŠŠæ”¹å˜è¯¥å‚æ•°çš„æ–¹æ³•ä¸€å¹¶ä¼ å…¥å­ç»„ä»¶ï¼Œé€šè¿‡è°ƒç”¨è¯¥æ–¹æ³•æ”¹å˜çˆ¶ç»„ä»¶å…±ç”¨çš„å‚æ•°ï¼ ä¸¾ä¸ªä¾‹å­ğŸŒ° ç°åœ¨æœ‰ComponentAä»¥åŠComponentBï¼Œä»–ä»¬å„æœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œå½“æˆ‘åœ¨å…¶ä¸­ä¸€ä¸ªè¾“å…¥æ¡†è¾“å…¥è‹±æ–‡å•è¯æ—¶ï¼Œåœ¨å¦ä¸€ä¸ªç»„ä»¶å±•ç¤ºè½¬æ¢åçš„å¤§å°å†™ã€‚ 12345678910111213141516class ComponentA extends React.Component &#123; // å½“inputè¾“å…¥æ—¶ï¼Œåœ¨å¦ä¸€ä¸ªç»„ä»¶æ˜¾ç¤ºå¤§çš„å¤§å°å†™è½¬æ¢ handleChange(e) =&gt; &#123; const &#123; onChangeWordUpper &#125; = this.props; onChangeWordUpper(e.target.value); &#125;; render() &#123; const &#123; word &#125; = this.props; return ( &lt;h2&gt;ComponentA enter: &#123;word&#125;&lt;/h2&gt; &lt;input onChange=&#123;this.handleChange&#125; /&gt; ); &#125;&#125;` 12345678910111213141516class ComponentB extends React.Component &#123; // å½“inputè¾“å…¥æ—¶ï¼Œåœ¨å¦ä¸€ä¸ªç»„ä»¶æ˜¾ç¤ºå¤§çš„å¤§å°å†™è½¬æ¢ handleChange(e) =&gt; &#123; const &#123; onChangeWordLower &#125; = this.props; onChangeWordLower(e.target.value); &#125;; render() &#123; const &#123; word &#125; = this.props; return ( &lt;h2&gt;ComponentB enter: &#123;word&#125;&lt;/h2&gt; &lt;input onChange=&#123;this.handleChange&#125; /&gt; ); &#125;&#125;` çˆ¶ç»„ä»¶componentFather 123456789101112131415161718192021222324252627282930313233class ComponentFather extends React.Component &#123; state = &#123; word: ''; &#125; // è½¬æ¢ä¸ºå¤§å†™ onChangeWordUpper(value) =&gt; &#123; const word = value.toUpperCase() this.setState(&#123; word &#125;); &#125; // è½¬æ¢ä¸ºå°å†™ onChangeWordLower(value) =&gt; &#123; const word = value.toLowerCase()() this.setState(&#123; word &#125;); &#125; render() &#123; const &#123; word &#125; = this.state; const componentAProps = &#123; word, onChangeWordUpper: this.onChangeWordUpper, &#125;; const componentBProps = &#123; word, onChangeWordUpper: this.onChangeWordLower, &#125;; return ( &lt;ComponentA &#123;...componentAProps&#125; /&gt; &lt;ComponentB &#123;...componentBProps&#125; /&gt; ); &#125;&#125; FragmentsFragmentså¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰ï¼ React ä¸­çš„ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯ä¸€ä¸ªç»„ä»¶è¿”å›å¤šä¸ªå…ƒç´ ã€‚Fragments å…è®¸ä½ å°†å­åˆ—è¡¨åˆ†ç»„ï¼Œè€Œæ— éœ€å‘ DOM æ·»åŠ é¢å¤–èŠ‚ç‚¹ 1234&lt;React.Fragment&gt; &lt;div&gt;somethings&lt;/div&gt; &lt;div&gt;somethings&lt;/div&gt;&lt;/React.Fragment&gt; å¯ä»¥ç®€å†™ä¸º 1234&lt;&gt; &lt;div&gt;somethings&lt;/div&gt; &lt;div&gt;somethings&lt;/div&gt;&lt;/&gt; children propå½“ä¸€ä¸ªç»„ä»¶æ— æ³•çŸ¥æ™“å­ç»„ä»¶çš„å†…å®¹æ—¶ï¼Œchildren propå°±å¾ˆæœ‰ç”¨ã€‚ å®ƒå¯ä»¥æŠŠå­ç»„ä»¶æ•´ä¸ªä¼ é€’ä¸‹å»ï¼ ä¸¾ä¸ªä¾‹å­ğŸŒ°1234567891011121314151617// çˆ¶ç»„ä»¶function Header(props) &#123; return ( &lt;div&gt; &#123;props.children&#125; &lt;/div&gt; );&#125;function Page() &#123; return ( &lt;Header&gt; &lt;h1&gt;children - 1&lt;/h1&gt; &lt;h1&gt;children - 2&lt;/h1&gt; &lt;/Header&gt; );&#125; è¿™æ ·Headerç»„ä»¶æ¥å—çš„childrenå°±æ˜¯ä¸¤ä¸ªh1æ ‡ç­¾ ContextContextåº”è¯¥æ˜¯å¾ˆå¸¸ç”¨çš„Apiï¼Œé˜²æ­¢æœ‰äººæ²¡ä½¿ç”¨è¿‡å¹¶å·©å›ºä¸€ä¸‹æˆ‘çš„çŸ¥è¯†ç‚¹ï¼Œè¿˜æ˜¯å†™ä¸€ä¸‹ã€‚ ä¸¾ä¸ªä¾‹å­ğŸŒ°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657import React, &#123; createContext &#125; from \"react\";import ReactDOM from \"react-dom\";const ThemeContext = createContext(\"red\");class App extends React.Component &#123; state = &#123; color: \"green\" &#125;; handleChangeColor = () =&gt; &#123; if(this.state.color === 'green') &#123; this.setState(&#123; color: \"red\" &#125;); &#125; else &#123; this.setState(&#123; color: \"green\" &#125;); &#125; &#125;; render() &#123; // ä½¿ç”¨ä¸€ä¸ª Provider æ¥å°†å½“å‰çš„ color ä¼ é€’ç»™ä»¥ä¸‹çš„ç»„ä»¶æ ‘ã€‚ // æ— è®ºå¤šæ·±ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–è¿™ä¸ªå€¼ã€‚ // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† â€œdarkâ€ ä½œä¸ºå½“å‰çš„å€¼ä¼ é€’ä¸‹å»ã€‚ return ( &lt;ThemeContext.Provider value=&#123;this.state.color&#125;&gt; &lt;Toolbar /&gt; &lt;br /&gt; &lt;button onClick=&#123;this.handleChangeColor&#125;&gt;changeColor&lt;/button&gt; &lt;/ThemeContext.Provider&gt; ); &#125;&#125;// ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ color äº†ã€‚function Toolbar(props) &#123; return &lt;ThemedSpan /&gt;;&#125;class ThemedSpan extends React.Component &#123; // æŒ‡å®š contextType è¯»å–å½“å‰çš„ color contextã€‚ // React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ color Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚ // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„ color å€¼ä¸º â€œgreenâ€ã€‚ static contextType = ThemeContext; render() &#123; return &lt;Span color=&#123;this.context&#125; /&gt;; &#125;&#125;class Span extends React.Component &#123; static contextType = ThemeContext; render() &#123; return ( &lt;span style=&#123;&#123; backgroundColor: this.props.color &#125;&#125;&gt;&#123;this.context&#125;&lt;/span&gt; ); &#125;&#125;ReactDOM.render(&lt;App /&gt;, document.getElementById(\"container\")); æ³¨æ„äº‹é¡¹ï¼šProviderçš„valueæˆ‘æ”¾åœ¨äº†stateé‡Œã€‚è¿™æ ·å½“valueæ›´æ–°æ—¶ä¸ä¼šå¯¼è‡´å…¶ä»–ç»„ä»¶æ¸²æŸ“ã€‚ å‡è®¾ï¼Œvalueä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚12345// badconst obj = &#123;a: 1&#125;;&lt;ThemeContext.Provider value=&#123;obj&#125;&gt; &lt;Toolbar /&gt;&lt;/ThemeContext.Provider&gt; å½“objæ”¹å˜ï¼Œä½†obj.a è¿˜æ˜¯ 1ï¼Œå®é™…ä¸Šï¼Œaçš„valueå¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯obj !== objã€‚ ä½†æ˜¯this.state.obj === this.state.obj 1234// good&lt;ThemeContext.Provider value=&#123;this.state.obj&#125;&gt; &lt;Toolbar /&gt;&lt;/ThemeContext.Provider&gt; codesandboxåœ°å€ æœªå®Œå¾…ç»­","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"stompJså‡ºç°TextEncoder is not definedè§£å†³æ–¹æ³•","slug":"stompJså‡ºç°TextEncoder is not definedè§£å†³æ–¹æ³•","date":"2019-08-12T08:48:12.000Z","updated":"2020-04-15T12:16:58.181Z","comments":true,"path":"2019/08/12/stompJså‡ºç°TextEncoder is not definedè§£å†³æ–¹æ³•/","link":"","permalink":"https://timbok.github.io/2019/08/12/stompJså‡ºç°TextEncoder is not definedè§£å†³æ–¹æ³•/","excerpt":"","text":"ä»‹ç»ä¸Šå‘¨åœ¨å®ç°ä¸€ä¸ªèŠå¤©çš„ä¸šåŠ¡æ—¶ï¼Œæµ‹è¯•å‘ç°è¯¥åŠŸèƒ½åœ¨IEå’ŒEdgeä¸‹æ˜¯ä¸èƒ½å®ç°ã€‚åœ¨æŸ¥çœ‹æŠ¥é”™ä¹‹åå‘ç°æŠ¥é”™ Unhandled promise rejection ReferenceError: &#39;TextEncoder&#39; is not definedã€‚åŸæ¥æ˜¯stompJsä½¿ç”¨äº†TextEncoderæ–¹æ³•ï¼Œä½†IEå’ŒEdgeçš„JavaScriptè¿è¡Œç¯å¢ƒä¸æ”¯æŒè¯¥æ–¹æ³•ã€‚æˆ‘æ‰¾åˆ°äº†ä»¥ä¸‹å‡ ç§æ–¹æ³•ã€‚åªé’ˆå¯¹SPAåº”ç”¨ æ­£æ–‡In NodeJså¦‚æœä½ çš„NodeJsç‰ˆæœ¬å‡åˆ°äº†v11ï¼Œé‚£ä¹ˆnodeçš„è¿è¡Œç¯å¢ƒæ˜¯æ”¯æŒTextEncoderæ–¹æ³•çš„ã€‚ä½†æ˜¯å¦‚æœä½ çš„é¡¹ç›®çš„nodeJsç‰ˆæœ¬ä½äºv11ï¼Œå¯ä»¥å®‰è£…moduletext-encodinã€‚ $ npm install text-encoding åŠ åœ¨å…¥å£æ–‡ä»¶123456// These have been added in NodeJS v11, so good idea is to check firstif (typeof TextEncoder !== &apos;function&apos;) &#123; const TextEncodingPolyfill = require(&apos;text-encoding&apos;); window.TextEncoder = TextEncodingPolyfill.TextEncoder; window.TextDecoder = TextEncodingPolyfill.TextDecoder;&#125; WebSocketå› ä¸ºç¬¬ä¸€ç§æ–¹æ³•è§£å†³äº†æˆ‘çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€ä¸‹æ–¹æ³•æ²¡æœ‰å»å®è·µã€‚ æ®äº†è§£æœ‰ä¸¤ä¸ªå¤‡ç”¨åº“websocketå’Œwså¯ä»¥ä½¿ç”¨ã€‚ websocket $ npm install websocket åœ¨å…¨å±€å¯¹è±¡globalä¸­æ·»åŠ  Object.assign(global, { WebSocket: require(&#39;websocket&#39;).w3cwebsocket }); ws $ npm install ws Object.assign(global, { WebSocket: require(&#39;ws&#39;) });","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"Macå®ç°iTerm2 å…ç™»å½•sshæœåŠ¡å™¨","slug":"Macå®ç°iTerm2 å…ç™»å½•sshæœåŠ¡å™¨","date":"2019-07-23T03:43:09.000Z","updated":"2020-04-15T12:16:58.178Z","comments":true,"path":"2019/07/23/Macå®ç°iTerm2 å…ç™»å½•sshæœåŠ¡å™¨/","link":"","permalink":"https://timbok.github.io/2019/07/23/Macå®ç°iTerm2 å…ç™»å½•sshæœåŠ¡å™¨/","excerpt":"","text":"æ²¡å›¾è‡ªå·±æƒ³è±¡åœ¨ä½ ç”µè„‘çš„ä»»æ„ä½ç½®åˆ›å»ºè‡ªåŠ¨ç™»å½•çš„è„šæœ¬ touch itermSsh.sh vim itermSsh.sh shell12345678910#!/usr/bin/expect -fset user _userset host _hostset password _passwordset timeout -1spawn ssh $user@$hostexpect &quot;*assword:*&quot;send &quot;$password\\r&quot;interactexpect eof tipï¼šæ›¿æ¢_userç”¨æˆ·å, _hostæœåŠ¡å™¨åœ°å€, _passwordå¯†ç  æ‰“å¼€iTermçš„Preferences -&gt; åˆ‡æ¢åˆ°Profiles Tab -&gt; new profile -&gt; åœ¨Commandé‚£ä¸€ä¸ªè¾“å…¥æ¡†å†…å†™ä¸ŠitermSsh.shçš„è·¯å¾„å°±å¯ä»¥ã€‚ ç„¶ånew Tabçš„æ—¶å€™é€‰æ‹©ä½ åˆ›å»ºçš„profile","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]},{"title":"Summary and Prospect","slug":"Summary and Prospect","date":"2019-07-09T02:33:10.000Z","updated":"2020-04-15T12:16:58.179Z","comments":true,"path":"2019/07/09/Summary and Prospect/","link":"","permalink":"https://timbok.github.io/2019/07/09/Summary and Prospect/","excerpt":"","text":"ç›®çš„è®°å½•è‡ªå·±çš„ç›®æ ‡ä»¥åŠå®Œæˆçš„äº‹ä»¶ï¼ ğŸ“ Time - 20182018æ€»ç»“ é¢è¯•æˆåŠŸï¼Œå¼€å§‹å·¥ä½œ å­¦ä¹ äº†Reactã€Gitã€ES6ç­‰æŠ€æœ¯ å†™äº†äº”ç¯‡å¾ˆæ°´çš„æŠ€æœ¯åšå®¢ åœ¨æ˜é‡‘é˜…è¯»äº†1345ç¯‡æ–‡ç«  å¯ä»¥ç”¨å·¥èµ„å…»æ´»è‡ªå·± è®¤è¯†äº†å¾ˆå¤šä¼˜ç§€çš„äºº 2019å±•æœ› é¡ºåˆ©æ¯•ä¸š æé«˜å­¦ä¹ èƒ½åŠ› å­¦ä¹ ä¸€é—¨åç«¯è¯­è¨€ å¤šå†™æŠ€æœ¯åšå®¢ å¤´å‘ä¾æ—§èŒ‚å¯† ğŸ“ Time - 20192019å¹´ä¸­å›é¡¾ æ¯•ä¸šè¯ âœ… å­¦ä½è¯ âœ… é©¾é©¶è¯ âœ… å¤´å‘ä¾æ—§èŒ‚å¯† âœ… æé«˜å­¦ä¹ èƒ½åŠ› âŒ å­¦ä¹ ä¸€é—¨åç«¯è¯­è¨€ âŒ å¤šå†™æŠ€æœ¯åšå®¢ âŒ","categories":[{"name":"æ‚è®°å’Œéšç¬”","slug":"æ‚è®°å’Œéšç¬”","permalink":"https://timbok.github.io/categories/æ‚è®°å’Œéšç¬”/"}],"tags":[]},{"title":"ä¸€æ£µå¼€èŠ±çš„æ ‘","slug":"ä¸€æ£µå¼€èŠ±çš„æ ‘","date":"2019-06-04T07:56:44.000Z","updated":"2020-04-15T12:16:58.183Z","comments":true,"path":"2019/06/04/ä¸€æ£µå¼€èŠ±çš„æ ‘/","link":"","permalink":"https://timbok.github.io/2019/06/04/ä¸€æ£µå¼€èŠ±çš„æ ‘/","excerpt":"","text":"ã€Šä¸€æ£µå¼€èŠ±çš„æ ‘ã€‹ - å¸­æ…•è“‰å¦‚ä½•è®©ä½ é‡è§æˆ‘åœ¨æˆ‘æœ€ç¾ä¸½çš„æ—¶åˆ» ä¸ºè¿™æˆ‘å·²åœ¨ä½›å‰æ±‚äº†äº”ç™¾å¹´æ±‚ä½›è®©æˆ‘ä»¬ç»“ä¸€æ®µå°˜ç¼˜ä½›æ–¼æ˜¯æŠŠæˆ‘åŒ–åšä¸€æ£µæ ‘é•¿åœ¨ä½ å¿…ç»çš„è·¯æ— é˜³å…‰ä¸‹æ…é‡åœ°å¼€æ»¡äº†èŠ±æœµæœµéƒ½æ˜¯æˆ‘å‰ä¸–çš„ç›¼æœ› å½“ä½ èµ°è¿‘è¯·ä½ ç»†å¬é‚£é¢¤æŠ–çš„å¶æ˜¯æˆ‘ç­‰å¾…çš„çƒ­æƒ… è€Œå½“ä½ ç»ˆæ–¼æ— è§†åœ°èµ°è¿‡åœ¨ä½ èº«å¾Œè½äº†ä¸€åœ°çš„æœ‹å‹å•Šé‚£ä¸æ˜¯èŠ±ç“£é‚£æ˜¯æˆ‘å‡‹é›¶çš„å¿ƒ ã€Šä¸€æ£µå¼€èŠ±çš„æ ‘ã€‹æ˜¯ä¸­å›½è¯—äººå¸­æ…•è“‰1980å¹´åˆ›ä½œçš„ä¸€é¦–ç°ä»£è¯—æ­Œã€‚è¯—çš„å¼€ç¯‡åˆ»ç”»äº†ä¸»äººå…¬æ›²å¾®æ·±å©‰çš„å†…å¿ƒï¼Œè¡¨è¾¾å‡ºå¥¹å¯¹çˆ±æƒ…çš„ç¾å¥½æœŸæ˜ï¼›è¯—çš„ç¬¬äºŒèŠ‚ç´§æ‰¿ä¸ŠèŠ‚è¯—æ„ï¼Œå°†å°‘å¥³ç—´ç—´ç­‰å¾…æ„ä¸­äººçš„å¿ƒå¢ƒå¹»åŒ–ä¸ºé•¿åœ¨å¿…ç»ä¹‹è·¯æ—çš„ä¸€æ£µå¼€èŠ±çš„æ ‘ï¼›è¯—çš„æœ€åä¸€èŠ‚è¡¨è¾¾äº†è¿™ä½å°‘å¥³ä¸€ç‰‡ç—´å¿ƒï¼Œç©ºè‡ªå‡‹é›¶çš„å¤±è½ä¹‹æƒ…ã€‚è¿™é¦–è¯—å¯Œæœ‰çœŸæƒ…ç¾ï¼Œå¨“å¨“é“æ¥å´é¥±å«è¯šæŒšï¼›æå…·ç”»é¢æ„Ÿçš„æ„è±¡ç¾ï¼›è¿˜æå…·å£°éŸµè°å’Œä¹‹ç¾ï¼Œæ˜¯ä¸€é¦–ç²¾è‡´æ„Ÿäººçš„ç¾ä¸½å°è¯—ã€‚","categories":[{"name":"è¯—æ­Œä¸è¿œæ–¹","slug":"è¯—æ­Œä¸è¿œæ–¹","permalink":"https://timbok.github.io/categories/è¯—æ­Œä¸è¿œæ–¹/"}],"tags":[]},{"title":"nodeJsè¯»ä¹¦ç¬”è®°","slug":"nodeJsè¯»ä¹¦ç¬”è®°","date":"2019-04-01T06:28:29.000Z","updated":"2020-04-15T12:16:58.180Z","comments":true,"path":"2019/04/01/nodeJsè¯»ä¹¦ç¬”è®°/","link":"","permalink":"https://timbok.github.io/2019/04/01/nodeJsè¯»ä¹¦ç¬”è®°/","excerpt":"","text":"æ ¸å¿ƒæ¦‚å¿µ Chrome V8 æ˜¯ Google å‘å¸ƒçš„å¼€æº JavaScript å¼•æ“ï¼Œé‡‡ç”¨ C/C++ ç¼–å†™ï¼Œåœ¨ Google çš„ Chrome æµè§ˆå™¨ä¸­è¢«ä½¿ç”¨ã€‚Chrome V8 å¼•æ“å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åµŒå…¥åˆ° C/C++ åº”ç”¨ç¨‹åºä¸­æ‰§è¡Œã€‚ Event Loop äº‹ä»¶å¾ªç¯ï¼ˆç”± libuv æä¾›ï¼‰ Thread Pool çº¿ç¨‹æ± ï¼ˆç”± libuv æä¾›ï¼‰ äº‹ä»¶å¾ªç¯å’Œçº¿æ€§æ± è´Ÿè´£æ‰€æœ‰I/Oä»»åŠ¡çš„åˆ†å‘ä¸æ‰§è¡Œ Node.jsåœ¨æ¥å—ä»»åŠ¡çš„æ—¶å€™æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†åœ¨æ‰§è¡Œå…·ä½“ä»»åŠ¡çš„æ—¶å€™æ˜¯å¤šçº¿ç¨‹çš„ã€‚ NodeJSæ˜¯ä¸€ä¸ªJSè„šæœ¬è§£æå™¨ï¼Œä»»ä½•æ“ä½œç³»ç»Ÿä¸‹å®‰è£…NodeJSæœ¬è´¨ä¸Šåšçš„äº‹æƒ…éƒ½æ˜¯æŠŠNodeJSæ‰§è¡Œç¨‹åºå¤åˆ¶åˆ°ä¸€ä¸ªç›®å½•ï¼Œç„¶åä¿è¯è¿™ä¸ªç›®å½•åœ¨ç³»ç»ŸPATHç¯å¢ƒå˜é‡ä¸‹ï¼Œä»¥ä¾¿ç»ˆç«¯ä¸‹å¯ä»¥ä½¿ç”¨nodeå‘½ä»¤ã€‚ æ¨¡å—ç³»ç»Ÿexports123exports.hello = ()=&gt;&#123; // todo&#125; module é€šè¿‡moduleå¯¹è±¡å¯ä»¥è®¿é—®åˆ°å½“å‰æ¨¡å—çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œä½†æœ€å¤šçš„ç”¨é€”æ˜¯æ›¿æ¢å½“å‰æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡ã€‚ä¾‹å¦‚æ¨¡å—å¯¼å‡ºå¯¹è±¡é»˜è®¤æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œå¦‚æœæƒ³æ”¹æˆä¸€ä¸ªå‡½æ•°çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ã€‚1234567891011//hello.js function Hello() &#123; var name; this.setName = function(thyName) &#123; name = thyName; &#125;; this.sayHello = function() &#123; console.log('Hello ' + name); &#125;; &#125;; module.exports = Hello; 12// other.jsvar hello = require('./hello'); require1var hello = require('./hello'); æ–‡ä»¶ç³»ç»Ÿ åœ¨fsæ¨¡å—ä¸­ï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å®ç° APIåç§°æœ‰Syncçš„ï¼Œçš†ä¸ºåŒæ­¥æ–¹æ³•ã€‚ä¾‹: writeFileSync å®˜æ–¹æ–‡æ¡£ æ˜é‡‘å­¦ä¹ æ–‡æ¡£ æ–‡ä»¶åˆ©ç”¨æ–‡ä»¶è¯»å†™æ¨¡ä»¿å¤åˆ¶ï¼Œå¦‚ä¸‹ï¼š12345678910111213141516171819const fs = require('fs');function copy(buffer, src) &#123; fs.writeFile(src, buffer, (err)=&gt;&#123; if(!err) &#123; console.log('å¤åˆ¶æˆåŠŸ'); &#125; &#125;);&#125;function main(src, copyToSrc) &#123; fs.readFile(src, (err, data) =&gt; &#123; if(!err) &#123; copy(data, copyToSrc); &#125; &#125;)&#125;main('../package.json', 'test.txt'); ç›´æ¥ä½¿ç”¨fsçš„å¤åˆ¶apiï¼Œå¦‚ä¸‹ï¼š1234567891011function copyFun(src, copyToSrc) &#123; fs.copyFile(src, copyToSrc, err =&gt; &#123; if(err) &#123; console.log(err); &#125; else &#123; console.log('å¤åˆ¶æˆåŠŸ'); &#125; &#125;);&#125;copyFun('../package.json', 'test.txt'); æ–‡ä»¶å¤¹123456789101112131415161718192021222324252627282930// æ“ä½œæ–‡ä»¶å¤¹const fs = require('fs');// æŸ¥çœ‹æ–‡ä»¶æ“ä½œæƒé™function accessFun() &#123; fs.access('../19-03-04', err=&gt;&#123; if(err) &#123; console.log('ä¸å¯è®¿é—®'); &#125; else &#123; console.log('å¯è¯»å¯å†™'); &#125; &#125;)&#125;// è¯»å–æ–‡ä»¶ç›®å½•ä¸‹çš„æ–‡ä»¶function readdirFun() &#123; fs.readdir('../19-03-04', (err, data) =&gt; &#123; if(!err) &#123; console.log(data); &#125; &#125;);&#125;// ç”¨asyncå°†åŒæ­¥æ–¹æ³•å˜æˆå¼‚æ­¥async function readdirSyncFun() &#123; const data = await fs.readdirSync('../19-03-04'); console.log(data);&#125;readdirFun(); è¿›ç¨‹ processå¦‚ä½•ç©è½¬å­è¿›ç¨‹ processæ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å±æ€§ stdin æ ‡å‡†è¾“å…¥å¯è¯»æµ stdout æ ‡å‡†è¾“å…¥å¯å†™æµ stderr æ ‡å‡†é”™è¯¯è¾“å‡ºæµ argv ç»ˆç«¯è¾“å…¥å‚æ•°æ•°ç»„ env æ“ä½œç³»ç»Ÿç¯å¢ƒä¿¡æ¯ pid åº”ç”¨ç¨‹åºè¿›ç¨‹id 123456789process.stdin.on('data', (chunk) =&gt; &#123; process.stdout.write('æ¥æ”¶çš„æ•°æ®ï¼š' + chunk);&#125;)âœ node process.jsâœ 123æ¥æ”¶çš„æ•°æ®ï¼š123âœ dataæ¥æ”¶çš„æ•°æ®ï¼šdata","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"å¦‚ä½•ç»™åšå®¢åŠ ä¸ŠéŸ³ä¹","slug":"å¦‚ä½•ç»™åšå®¢åŠ ä¸ŠéŸ³ä¹","date":"2019-03-03T09:23:19.000Z","updated":"2020-04-15T12:16:58.183Z","comments":true,"path":"2019/03/03/å¦‚ä½•ç»™åšå®¢åŠ ä¸ŠéŸ³ä¹/","link":"","permalink":"https://timbok.github.io/2019/03/03/å¦‚ä½•ç»™åšå®¢åŠ ä¸ŠéŸ³ä¹/","excerpt":"","text":"ä»‹ç»ä»Šå¤©åœ¨é€›æŠ€æœ¯å¤§ä½¬çš„åšå®¢çš„æ—¶å€™ï¼Œå‘ç°ä»–ä»¬çš„æœ‰çš„ç”Ÿæ´»å‘çš„åšå®¢æ”¾ä¸Šäº†è‡ªå·±å–œæ¬¢çš„éŸ³ä¹ï¼Œè¿™è®©æˆ‘å¿ƒç¥å‘å¾€ã€‚ä»¥æˆ‘çš„å¥½å¥‡å¿ƒåŠ çˆ±æŠ˜è…¾çš„ä¸ªæ€§ï¼Œå¿…è¦ç»™æˆ‘çš„åšå®¢æ¥ä¸€ä¸ªè¿™ä¸ªåŠŸèƒ½ã€‚ğŸ˜¬ æ­£æ–‡åå¤šåˆ†é’Ÿçš„ç™¾åº¦åŠ Googleï¼Œçœ‹åˆ°äº†ä¸¤ç§å¯è¡Œçš„æ–¹æ³•ã€‚ æ–¹æ³•ä¸€å®‰è£… hexo-tag-aplayer npm install â€“save hexo-tag-aplayer åœ¨ä½ éœ€è¦çš„åœ°æ–¹å¼•å…¥1&#123;% aplayer &quot;æ­Œæ›²åç§°&quot; &quot;ä½œè€…&quot; &quot;éŸ³ä¹_url&quot; &quot;å°é¢å›¾ç‰‡_url&quot; &quot;autoplay&quot; %&#125; å‚æ•°åˆ—è¡¨ title : æ›²ç›®æ ‡é¢˜ author: æ›²ç›®ä½œè€… url: éŸ³ä¹æ–‡ä»¶ URL åœ°å€ picture_url: (å¯é€‰) éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€ narrow: ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼ autoplay: (å¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½ width:xxx: (å¯é€‰) æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%) lrc:xxx: ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€ æ³¨æ„ï¼šè¿™é‡Œçš„urlæ¨èæ”¾åœ¨ä¸ƒç‰›ä¸Šï¼ŒåŠ è½½é€Ÿåº¦å€å¿«ã€‚ğŸ˜€ åœ¨è¯¥æ’ä»¶çš„GitHubä¸Šè¿˜æ¨èäº†å¦ä¸€ç§æ›´ä¾¿æ·çš„æ–¹æ³•ã€‚ä½¿ç”¨MeingJS ä»¥ä¸‹æ˜¯GitHubåŸè¯ MetingJS æ˜¯åŸºäºMeting API çš„ APlayer è¡ç”Ÿæ’­æ”¾å™¨ï¼Œå¼•å…¥ MetingJS åï¼Œæ’­æ”¾å™¨å°†æ”¯æŒå¯¹äº QQéŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹ã€è™¾ç±³ã€é…·ç‹—ã€ç™¾åº¦ç­‰å¹³å°çš„éŸ³ä¹æ’­æ”¾ã€‚ å¦‚æœæƒ³åœ¨æœ¬æ’ä»¶ä¸­ä½¿ç”¨ MetingJSï¼Œè¯·åœ¨ Hexo é…ç½®æ–‡ä»¶ _config.yml ä¸­è®¾ç½®ï¼š12aplayer: meting: true æ¥ç€å°±å¯ä»¥é€šè¿‡ åœ¨æ–‡ç« ä¸­ä½¿ç”¨ MetingJS æ’­æ”¾å™¨äº†ï¼š 12345&lt;!-- ç®€å•ç¤ºä¾‹ (id, server, type) --&gt;&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;&lt;!-- è¿›é˜¶ç¤ºä¾‹ --&gt;&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125; å…·ä½“è¯·å‰å¾€ hexo-tag-aplayer æŸ¥çœ‹ æ–¹æ³•äºŒåˆ©ç”¨ç½‘æ˜“äº‘æä¾›çš„éŸ³ä¹iframeæ ‡ç­¾ï¼Œåœ¨ejsæ¨¡æ¿é‡Œé…ç½®ã€‚è¿™æ ·çš„å¥½å¤„å°±æ˜¯æ·»åŠ æ­Œæ›²çš„ä½ç½®æ›´è‡ªç”±ã€‚ ç”±äºç½‘æ˜“äº‘æœ‰çš„æ­Œæ›²æ²¡æœ‰iframeï¼Œåšä¸»æ²¡æœ‰ä½¿ç”¨è¯¥æ–¹æ³• æ€»ç»“æƒ³å…ˆçœ‹åŠ ä¸ŠéŸ³ä¹æ•ˆæœçš„è¯·æŸ¥çœ‹ã€‚","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://timbok.github.io/categories/Hexo/"}],"tags":[]},{"title":"å‘¨æ°ä¼¦çš„æ­Œ","slug":"Jay","date":"2019-03-03T08:48:04.000Z","updated":"2020-04-15T12:16:58.177Z","comments":true,"path":"2019/03/03/Jay/","link":"","permalink":"https://timbok.github.io/2019/03/03/Jay/","excerpt":"","text":"ç½‘æ˜“äº‘æ²¡æœ‰Jayï¼Œä½†æ˜¯åˆä¸æƒ³æ‰“å¼€å…¶ä»–éŸ³ä¹æ’­æ”¾å™¨ã€‚å°±æŠŠå‘¨æ°ä¼¦çš„æ­Œéƒ½æ”¾åœ¨åšå®¢ä¸Šï¼Œæƒ³å¬å°±æ¥ã€‚","categories":[{"name":"è¯—æ­Œä¸è¿œæ–¹","slug":"è¯—æ­Œä¸è¿œæ–¹","permalink":"https://timbok.github.io/categories/è¯—æ­Œä¸è¿œæ–¹/"}],"tags":[]},{"title":"ç»™ä½ çš„ç™¾åº¦ç”»ä¸ªå¦†","slug":"ç™¾åº¦ç¾åŒ–","date":"2019-02-28T12:49:46.000Z","updated":"2020-04-15T12:16:58.184Z","comments":true,"path":"2019/02/28/ç™¾åº¦ç¾åŒ–/","link":"","permalink":"https://timbok.github.io/2019/02/28/ç™¾åº¦ç¾åŒ–/","excerpt":"","text":"ä»‹ç»ç°åœ¨å¾ˆå¤šç½‘ç«™åšçš„ç®€å•ä¾¿æ·ï¼Œæ¯”å¦‚æ˜é‡‘ï¼ˆğŸ™ˆèˆ”ç‹—åº”æœ‰å°½æœ‰ï¼‰,ä½†æ˜¯ç™¾åº¦ä¾ç„¶æ˜¯åå¹´å‰çš„ç”»é£ï¼Œè€Œä¸”ä¸ç®¡ä½ æœç´¢ä»€ä¹ˆéƒ½å……æ–¥ç€å„ç§å¹¿å‘Šï¼Œä½“éªŒæå·®ã€‚ä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·ç»™ç™¾åº¦ç¾åŒ–ä¸€ä¸‹ã€‚ğŸ˜ Tips: è¿™å…¶å®æ˜¯ä¸ªæ’ä»¶æ¨èåšï¼ŒæŠ€æœ¯å…šå‹¿å–·ã€‚ å®‰è£…å¯åŠ è½½æœ¬åœ°CSSçš„Chromeæ’ä»¶Chromeä¸Šæ­¤ç§æ’ä»¶æœ‰å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯Stylish ä¸‹è½½ç¾åŒ–è§„åˆ™è¿™ä¸ªæ’ä»¶çš„å®˜ç½‘æœ‰å¾ˆå¤šå¤§ä½¬å†™å¥½çš„ç¾åŒ–è§„åˆ™ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ã€‚ é™¤äº†ç™¾åº¦ï¼Œä½ è¿˜å¯ä»¥ä¸‹è½½è…¾è®¯ã€æ–°æµªã€è°·æ­Œã€ä¼˜é…·ç­‰ç¾åŒ–è§„åˆ™ã€‚ åœ¨æ­¤æ’ä»¶ä¸Šæ–°å»ºä¸€ä¸ªCSSæ ·å¼ å¦‚æœä½ ä¸æƒ³åšä¼¸æ‰‹å…šï¼Œä¸”ä½ æœ‰ä¸€ç‚¹ç‚¹CSSåŠŸåº•ï¼Œé‚£ä¹ˆä½ å¯ä»¥è‡ªå®šä¹‰æ ·å¼ã€‚ ä½ æƒ³æƒ³ä½ å¥³æœ‹å‹è§‰å¾—æŸç½‘é¡µçš„ä¸€ä¸ªæ¨¡å—å¾ˆä¸‘ï¼Œæƒ³è®©å®ƒæ¶ˆå¤±ã€‚ä½ ç«™èµ·æ¥å¯¹å¥¹è¯´ï¼šæ— çŸ¥åˆæ„šè ¢çš„å¥³äººï¼Œè®©æˆ‘æ¥å¸®ä½ æå®šå§ã€‚ğŸ¤” ç„¶åä½ ä»30å—çš„èƒŒåŒ…é‡Œæå‡ºä½ çš„mbpï¼Œæ‰¾åˆ°æ¨¡å—çš„ç±»åï¼Œdispaly: none,ä¸‰æ­¥æå®šã€‚ğŸ¤” æœ€åå¯¹å¥³æœ‹å‹è¯´ï¼Œä½ ä¸å–œæ¬¢çš„æˆ‘éƒ½è®©å¥¹æ¶ˆå¤±ã€‚ğŸ¤” å¯æ˜¯ä½ æ²¡æœ‰å¥³æœ‹å‹ã€‚ æ˜¯ä½ æ²¡æœ‰å¥³æœ‹å‹ ä½ æ²¡æœ‰å¥³æœ‹å‹ã€‚ æ²¡æœ‰å¥³æœ‹å‹ã€‚ åœ¨æ·±è‰²æ¡†å†…ä½ å°±å¯ä»¥ç¼–å†™è‡ªå·±çš„æ ·å¼äº†ã€‚ ä»¥ä¸‹æ˜¯æˆ‘ç¼–å†™çš„ç™¾åº¦ç¾åŒ–è§„åˆ™ï¼Œç®€æ˜“çš„ç¾åŒ–äº†ä¸€ä¸‹ç™¾åº¦ç„¶åå±è”½äº†ä¸€äº›å¹¿å‘Šã€‚å–œæ¬¢â¤å¯ä»¥ä½¿ç”¨å“Ÿã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101/* å»é™¤é¦–é¡µå¹¿å‘Š */.s-mancacrd-main &#123; display: none;&#125;#s_top_wrap &#123; display: none;&#125;.no-qrcode-layer &#123; display: none;&#125;/* å»é™¤æœç´¢ç»“æœå¹¿å‘Š */#content_left &gt; .result-op &#123; display: none;&#125;/* ç¾åŒ–æœç´¢ç»“æœ */.result &#123; padding: 30px; border-radius: 5px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2);&#125;.result:hover &#123; padding: 30px; border-radius: 5px; box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);&#125;.result &gt; div &#123; margin-top: 10px;&#125;#u &gt; a &#123; text-decoration: none;&#125;.s_form &#123; zoom: 1; height: auto; padding: 5px 0 15px 15px;&#125;#s_tab &#123; background: #f8f8f8; line-height: 36px; height: 38px; padding: 80px 0 0 127px; float: none; zoom: 1;&#125;#content_left &#123; padding-left: 127px;&#125;.s_ipt_wr &#123; height: 40px;&#125;.s_btn &#123; height: 42px&#125;.s_ipt &#123; margin: 9px 0 0 7px;&#125;#result_logo &#123; margin: 9px 0 0;&#125;.ipt_rec:after &#123; display: none;&#125;.ipt_rec &#123; width: 0px; height: 0px;&#125;.nums &#123; margin: 0px 0 0 127px; height: 42px; line-height: 42px;&#125;#content_right &#123; margin-top: 80px;&#125;.cr-title-sub &#123; text-decoration: none;&#125;#head .bdsug &#123; top: 42px;&#125;/* æœç´¢æ¡† */.bdsug li &#123; padding: 5px;&#125;.bdsug li:hover &#123; padding: 8px;&#125; æ•ˆæœå¯¹æ¯”ï¼š æ€»ç»“å¥½äº†ã€‚åˆæ°´äº†ä¸€ç¯‡æ–‡ç« ã€‚ğŸš£ å–œæ¬¢è¯·ç‚¹èµã€‚å½³äºå£å·´ï¼Ÿ","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]},{"title":"JavaScripté—¯å…³ç¬”è®°","slug":"JavaScripté—¯å…³ç¬”è®°","date":"2019-02-23T01:20:27.000Z","updated":"2020-05-08T03:06:27.166Z","comments":true,"path":"2019/02/23/JavaScripté—¯å…³ç¬”è®°/","link":"","permalink":"https://timbok.github.io/2019/02/23/JavaScripté—¯å…³ç¬”è®°/","excerpt":"","text":"ä»‹ç»é€šè¿‡Array/Object/Function/ApiåŸºç¡€ç±»å‹ç¼–å†™ã€‚ çœ‹åˆ°è‡ªå·±ä¸äº†è§£çš„æˆ–è€…æ¯”è¾ƒæ–°é¢–çš„ç”¨æ³•ä¾¿ä¼šå†™ä¸Šã€‚ ä¸å®šæ—¶æ›´æ–°å†…å®¹ã€‚ æœ¬æ–‡é¦–å‘äºæˆ‘çš„ä¸ªäººç½‘ç«™: Timbok.top ç›®å½• Array è¿­ä»£æ–¹æ³• splitå’Œjoin splice from Object objectæ˜ å°„ Function promise async-await è·å–å‡½æ•°å‚æ•°å Api å¯é€‰é“¾ é€—å·è¡¨è¾¾å¼ åŸå‹å’ŒåŸå‹é“¾ Arrayè¿­ä»£æ–¹æ³• every()æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å› trueï¼Œåˆ™è¿”å› true 12345const arr = [1,2,3,4];const result = arr.every((item, index, arr)=&gt;&#123; return item &gt; 2;&#125;);console.log(result); // false some()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å› trueï¼Œåˆ™è¿”å› true 12345const arr = [1, 2, 3, 4];const result = arr.some((item, index, arr)=&gt;&#123; return item &gt; 2;&#125;);console.log(result); // true filter()æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å› true çš„é¡¹ç»„æˆçš„æ•°ç»„ 12345const arr = [1, 2, 3, 4];const result = arr.filter((item, index)=&gt;&#123; return item &gt; 2;&#125;);console.log(result); // [3, 4] map()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ 12345const arr = [1, 2, 3, 4];const result = arr.map((item, index)=&gt;&#123; return item * index;&#125;);console.log(result); // [0, 2, 6, 12] forEach()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œæœ¬è´¨ä¸Šä¸ä½¿ç”¨ for å¾ªç¯è¿­ä»£æ•°ç»„ä¸€æ · 1234const arr = [1, 2, 3, 4];const result = arr.forEach((item, index)=&gt;&#123; // æ‰§è¡ŒæŸäº›æ“ä½œ&#125;); reduce() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆè®¡ç®—ä¸ºä¸€ä¸ªå€¼ã€‚å¯¹ç©ºæ•°ç»„æ˜¯ä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°çš„ã€‚ arr.reduce(callback,[initialValue]) callback ï¼ˆæ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼‰ previousValue ï¼ˆä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒè¿”å›çš„å€¼ï¼Œæˆ–è€…æ˜¯æä¾›çš„åˆå§‹å€¼ï¼ˆinitialValueï¼‰ï¼‰ currentValue ï¼ˆæ•°ç»„ä¸­å½“å‰è¢«å¤„ç†çš„å…ƒç´ ï¼‰ index ï¼ˆå½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼‰ array ï¼ˆè°ƒç”¨ reduce çš„æ•°ç»„ï¼‰ initialValue ï¼ˆä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ï¼‰ æ— è¿”å›å€¼12345const arr = [1, 2, 3];arr.reduce((pev, item)=&gt;&#123; console.log(pev, item);&#125;, 0);// è¿è¡Œç»“æœä¾æ¬¡ä¸ºï¼š0 1; undefined 2; undefined 3; æœ‰è¿”å›å€¼12345678// pevä¸ºä¸Šæ¬¡è¿­ä»£returnçš„å€¼const arr = [1, 2, 3, 4];const result = arr.reduce((pev, item)=&gt;&#123; console.log(pev); return pev + item;&#125;, 0);console.log(result); // 10// pevè¿è¡Œç»“æœä¾æ¬¡ä¸ºï¼š0, 1, 3, 6 splitå’Œjoinsplit(): ç”¨äºæŠŠä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚12const string = '1, 2, 3, 4, 5';string.split(','); // [\"1\", \"2\", \"3\", \"4\", \"5\"] å¦‚æœstringä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„123const string = '';string.split(','); // [\"\"]string.split(); // [\"\"] join(): ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚123const array = [1, 2, 3, 4, 5];array.join(); // '1,2,3,4,5' é»˜è®¤ç”¨ï¼Œåˆ†å‰²array.join('|'); // \"1|2|3|4|5\" é»˜è®¤ç”¨ï¼Œåˆ†å‰² splicesplice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ã€‚ æ³¨é‡Šï¼šè¯¥æ–¹æ³•ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚ arrayObject.splice(index,howmany,item1,.....,itemX) å‚æ•° æè¿° index å¿…éœ€ã€‚æ•´æ•°ï¼Œè§„å®šæ·»åŠ /åˆ é™¤é¡¹ç›®çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„ç»“å°¾å¤„è§„å®šä½ç½®ã€‚ howmany å¿…éœ€ã€‚è¦åˆ é™¤çš„é¡¹ç›®æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸ä¼šåˆ é™¤é¡¹ç›®ã€‚ item1, â€¦, itemX å¯é€‰ã€‚å‘æ•°ç»„æ·»åŠ çš„æ–°é¡¹ç›®ã€‚ ä¸¾ä¸ªä¾‹å­ğŸŒ°12345678var arr = [];//å¢åŠ arr.splice(0, 1, 1); // arr = [1]arr.splice(1, 1, 2); // arr = [1, 2]arr.splice(2, 1, 3); // arr = [1, 2, 3]// åˆ é™¤arr.splice(2, 1); // arr = [1, 2] fromMDNé‡Šä¹‰ï¼šArray.from() æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ ç”¨æ³•ï¼š å°†å­—ç¬¦ä¸²æ‹†æˆæ•°ç»„ 12Array.from('foo'); // [\"f\", \"o\", \"o\"] å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„ 123456789let array = &#123; 0: 'name', 1: 'age', 2: 'sex', 3: ['user1','user2','user3'], 'length': 4&#125;let arr = Array.from(array )console.log(arr) // ['name','age','sex',['user1','user2','user3']] ç”¨lengthç”Ÿæˆæ•°ç»„ 12Array.from(&#123; length: 4 &#125;, (...arg) =&gt; arg[1])// [0, 1, 2, 3] Objectobjectæ˜ å°„å®šä¹‰ä¸€ä¸ªobjectä½œä¸ºé…ç½®å¯¹è±¡æ¥å­˜æ”¾ä¸åŒçŠ¶æ€ï¼Œé€šè¿‡é“¾è¡¨æŸ¥æ‰¾ 123456789101112const statusMap = &#123; 1:()=&gt;&#123; console.log('a1') &#125;, 2:()=&gt;&#123; console.log('b2') &#125; /* n.... */&#125;// æ‰§è¡Œlet a = 1 statusMap[a]() // a1 è¿™æ ·æ¯”è¾ƒæ¸…æ™°ï¼Œå°†æ¡ä»¶é…ç½®ä¸å…·ä½“æ‰§è¡Œåˆ†ç¦»ã€‚å¦‚æœè¦å¢åŠ å…¶ä»–çŠ¶æ€ï¼Œåªä¿®æ”¹é…ç½®å¯¹è±¡å³å¯ã€‚ FunctionpromiseECMAscript 6 åŸç”Ÿæä¾›äº† Promise å¯¹è±¡ã€‚ Promise å¯¹è±¡ä»£è¡¨äº†æœªæ¥å°†è¦å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æ¥ä¼ é€’å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚ Promise å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹: 1ã€å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚ fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚ rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚ åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯ Promise è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯ã€Œæ‰¿è¯ºã€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚ 2ã€ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promise å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä» Pending å˜ä¸º Resolved å’Œä» Pending å˜ä¸º Rejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹ Promise å¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚ ç®€å•å®ç°ï¼š12345678function _promise(params) &#123; return new Promise((resolve, reject)=&gt;&#123; params&gt;0 ? resolve('æ­£æ•°') : reject('è´Ÿæ•°'); &#125;);&#125;_promise(1).then(res=&gt;console.log(res)) // æ­£æ•°_promise(-1).catch(res=&gt;console.log(res)) // è´Ÿæ•° Promise.allPromise.allå¯ä»¥å°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœæ•°ç»„ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›æœ€å…ˆè¢«rejectå¤±è´¥çŠ¶æ€çš„å€¼ã€‚ 123456789101112131415161718192021let p1 = new Promise((resolve, reject) =&gt; &#123; resolve('æˆåŠŸäº†')&#125;)let p2 = new Promise((resolve, reject) =&gt; &#123; resolve('success')&#125;)let p3 = Promise.reject('å¤±è´¥')Promise.all([p1, p2]).then((result) =&gt; &#123; console.log(result) //['æˆåŠŸäº†', 'success']&#125;).catch((error) =&gt; &#123; console.log(error)&#125;)Promise.all([p1,p3,p2]).then((result) =&gt; &#123; console.log(result)&#125;).catch((error) =&gt; &#123; console.log(error) // 'å¤±è´¥'&#125;) éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒPromise.allè·å¾—çš„æˆåŠŸç»“æœçš„æ•°ç»„é‡Œé¢çš„æ•°æ®é¡ºåºå’ŒPromise.allæ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œå³p1çš„ç»“æœåœ¨å‰ï¼Œå³ä¾¿p1çš„ç»“æœè·å–çš„æ¯”p2è¦æ™šã€‚è¿™å¸¦æ¥äº†ä¸€ä¸ªç»å¤§çš„å¥½å¤„ï¼šåœ¨å‰ç«¯å¼€å‘è¯·æ±‚æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œå¶å°”ä¼šé‡åˆ°å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè·å–å’Œä½¿ç”¨æ•°æ®çš„åœºæ™¯ï¼Œä½¿ç”¨Promise.allæ¯«æ— ç–‘é—®å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ Promise.raceé¡¾åæ€ä¹‰ï¼ŒPromse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚ 1234567891011121314151617let p1 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve('success') &#125;,1000)&#125;)let p2 = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('failed') &#125;, 500)&#125;)Promise.race([p1, p2]).then((result) =&gt; &#123; console.log(result)&#125;).catch((error) =&gt; &#123; console.log(error) // æ‰“å¼€çš„æ˜¯ 'failed'&#125;) async-awaitES2017 æ ‡å‡†å¼•å…¥äº†async å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚ async å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯ï¼Œå®ƒå…¶å®å°±æ˜¯promise å’ŒGenerator å‡½æ•°çš„è¯­æ³•ç³–ã€‚ asyncasync ç”¨æ¥è¡¨ç¤ºå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå®šä¹‰çš„å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚ 12345678async function test() &#123; return 123;&#125;test().then(res =&gt; &#123; console.log(res);// 123&#125;);è‹¥ async å®šä¹‰çš„å‡½æ•°æœ‰è¿”å›å€¼ï¼Œreturn 123;ç›¸å½“äºPromise.resolve(123),æ²¡æœ‰å£°æ˜å¼çš„ returnåˆ™ç›¸å½“äºæ‰§è¡Œäº†Promise.resolve(); awaitawait å¯ä»¥ç†è§£ä¸ºæ˜¯ async wait çš„ç®€å†™ã€‚await å¿…é¡»å‡ºç°åœ¨ async å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚ 1234function notAsyncFunc() &#123; await Math.random();&#125;notAsyncFunc();//Uncaught SyntaxError: Unexpected identifier await åé¢å¯ä»¥è·Ÿä»»ä½•çš„JS è¡¨è¾¾å¼ã€‚è™½ç„¶è¯´ await å¯ä»¥ç­‰å¾ˆå¤šç±»å‹çš„ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒæœ€ä¸»è¦çš„æ„å›¾æ˜¯ç”¨æ¥ç­‰å¾… Promise å¯¹è±¡çš„çŠ¶æ€è¢« resolvedã€‚å¦‚æœawaitçš„æ˜¯ promiseå¯¹è±¡ä¼šé€ æˆå¼‚æ­¥å‡½æ•°åœæ­¢æ‰§è¡Œå¹¶ä¸”ç­‰å¾… promise çš„è§£å†³,å¦‚æœç­‰çš„æ˜¯æ­£å¸¸çš„è¡¨è¾¾å¼åˆ™ç«‹å³æ‰§è¡Œã€‚ 1234567891011121314151617181920function sleep(second) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(' enough sleep~'); &#125;, second); &#125;)&#125;function normalFunc() &#123; console.log('normalFunc');&#125;async function awaitDemo() &#123; await normalFunc(); console.log('something, ~~'); let result = await sleep(2000); console.log(result);// ä¸¤ç§’ä¹‹åä¼šè¢«æ‰“å°å‡ºæ¥&#125;awaitDemo();// normalFunc// VM4036:13 something, ~~// VM4036:15 enough sleep~ å¸Œæœ›é€šè¿‡ä¸Šé¢çš„ demoï¼Œå¤§å®¶å¯ä»¥ç†è§£æˆ‘ä¸Šé¢çš„è¯ã€‚ é”™è¯¯å¤„ç†ä¸Šè¿°çš„ä»£ç å¥½åƒç»™çš„éƒ½æ˜¯resolveçš„æƒ…å†µï¼Œé‚£ä¹ˆrejectçš„æ—¶å€™æˆ‘ä»¬è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ 1234567891011121314151617181920212223242526function sleep(second) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('want to sleep~'); &#125;, second); &#125;)&#125;async function errorDemo() &#123; let result = await sleep(1000); console.log(result);&#125;errorDemo();// VM706:11 Uncaught (in promise) want to sleep~// ä¸ºäº†å¤„ç†Promise.reject çš„æƒ…å†µæˆ‘ä»¬åº”è¯¥å°†ä»£ç å—ç”¨ try catch åŒ…è£¹ä¸€ä¸‹async function errorDemoSuper() &#123; try &#123; let result = await sleep(1000); console.log(result); &#125; catch (err) &#123; console.log(err); &#125;&#125;errorDemoSuper();// want to sleep~// æœ‰äº† try catch ä¹‹åæˆ‘ä»¬å°±èƒ½å¤Ÿæ‹¿åˆ° Promise.reject å›æ¥çš„æ•°æ®äº†ã€‚ æœ€åä¸€ç‚¹ï¼Œawaitå¿…é¡»åœ¨asyncå‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­çš„ã€‚ å‚è€ƒæ–‡ç«  è·å–å‡½æ•°å‚æ•°å12345678910111213function getParameterName(fn) &#123; if(typeof fn !== 'object' &amp;&amp; typeof fn !== 'function' ) return; const COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg; const DEFAULT_PARAMS = /=[^,)]+/mg; const FAT_ARROWS = /=&gt;.*$/mg; let code = fn.prototype ? fn.prototype.constructor.toString() : fn.toString(); code = code .replace(COMMENTS, '') .replace(FAT_ARROWS, '') .replace(DEFAULT_PARAMS, ''); let result = code.slice(code.indexOf('(') + 1, code.indexOf(')')).match(/([^\\s,]+)/g); return result === null ? [] :result;&#125; ç¤ºä¾‹ 123function example(x, y) &#123; return x, y &#125;;getParameterName(example); // [\"x\", \"y\"] Apiå¯é€‰é“¾?.MDNé‡Šä¹‰ å¯é€‰é“¾æ“ä½œç¬¦?.èƒ½å¤Ÿå»è¯»å–ä¸€ä¸ªè¢«è¿æ¥å¯¹è±¡çš„æ·±å±‚æ¬¡çš„å±æ€§çš„å€¼è€Œæ— éœ€æ˜ç¡®æ ¡éªŒé“¾æ¡ä¸Šæ¯ä¸€ä¸ªå¼•ç”¨çš„æœ‰æ•ˆæ€§ åŸºæœ¬ä½¿ç”¨123let prop = obj?.prop// ç­‰åŒäºlet prop = obj &amp;&amp; obj.prop å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨ å‡½æ•°è°ƒç”¨æ—¶å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œä½¿ç”¨å¯é€‰é“¾å¯ä»¥ä½¿è¡¨è¾¾å¼è‡ªåŠ¨è¿”å›undefinedè€Œä¸æ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚1props.onSearch?.() æ³¨æ„ï¼šå¯é€‰é“¾åœ¨èµ‹å€¼æ—¶æ— æ•ˆ12let object = &#123;&#125;;object?.property = 1; // Uncaught SyntaxError: Invalid left-hand side in assignment é€—å·è¡¨è¾¾å¼MDNé‡Šä¹‰ï¼šå¯¹å®ƒçš„æ¯ä¸ªæ“ä½œæ•°æ±‚å€¼ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªæ“ä½œæ•°çš„å€¼ã€‚ ä¾‹12345678910var a = (1, 2, 3);console.log(a); // 3// ...function num() &#123; var a, b, c = 1, 2, 3; return a, b, c;&#125;num() // 3 åŸå‹å’ŒåŸå‹é“¾åŸå‹åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰æ˜¯å…è®¸æ‹¥æœ‰å±æ€§çš„ã€‚æ‰€æœ‰çš„å‡½æ•°ä¼šæœ‰ä¸€ä¸ªç‰¹åˆ«çš„å±æ€§ â€”â€” prototypeï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯åŸå‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ åŸå‹å¯¹è±¡å°±ç›¸å½“äºä¸€ä¸ªå…¬å…±çš„åŒºåŸŸï¼Œæ‰€æœ‰åŒä¸€ä¸ªç±»çš„å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä¸­å…±æœ‰çš„å†…å®¹ï¼Œç»Ÿä¸€è®¾ç½®åˆ°åŸå‹å¯¹è±¡ä¸­ 1234567891011function Person(name, age) &#123; this.name = name; this.age = age; this.sayName = function() &#123; return this.name; &#125;&#125;var timbok = new Person('timbok', 18);var lucy = new Person('lucy', 20);console.log(timbok.sayName === lucy.sayName); // false å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºåŒä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ new ç”Ÿæˆå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½ä¼šå¼€å‡ºæ–°çš„ä¸€å—å †åŒºï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¸­ timbok å’Œ lucyçš„sayNameä¸ç›¸ç­‰ã€‚ å½“ä½¿ç”¨prototypeæ—¶ 1234567Person.prototype.eat = function() &#123; console.log('åƒ');&#125;var timbok = new Person('timbok', 18);var lucy = new Person('lucy', 20);console.log(timbok.eat === lucy.eat); // true åŸå‹é“¾åœ¨JavaScriptä¸­ä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´ä¹Ÿæœ‰å…³ç³»ï¼Œå¹¶ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ã€‚å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨JavaScriptä¸­æ˜¯é€šè¿‡prototypeå¯¹è±¡æŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘Objectå¯¹è±¡ä¸ºæ­¢ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåŸå‹æŒ‡å‘çš„é“¾æ¡ï¼Œä¸“ä¸šæœ¯è¯­ç§°ä¹‹ä¸ºåŸå‹é“¾ã€‚ 123Person.prototype.constructor === Person // truePerson.prototype === timbok.__proto__ // true å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»åŸå‹å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ™å»åŸå‹çš„åŸå‹ä¸­å¯»æ‰¾,ç›´åˆ°æ‰¾åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼ŒObjectå¯¹è±¡çš„åŸå‹æ²¡æœ‰åŸå‹ï¼Œå¦‚æœåœ¨ObjectåŸå‹ä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›undefinedã€‚ 123456Person.prototype.a = 123;var person = new Person()console.log(person.a) // 123console.log(person.b) // undefined person.a: å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾a -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°person.__proto__ï¼Œä¹Ÿå°±æ˜¯ Person.prototypeå†…æ‰¾ -&gt; æ‰¾åˆ°äº† person.b: å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾b -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°person.__proto__å†…æ‰¾ -&gt; æŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ -&gt; æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚Objectä¸ºæ­¢ -&gt; æ‰¾ä¸åˆ°å°±undefined è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦è¦æƒ³å¼„æ‡‚newï¼Œå¾—å…ˆäº†è§£ä¸€ä¸‹ä½•ä¸ºæ„é€ å‡½æ•°ï¼Ÿ æ„é€ å‡½æ•°æ„é€ å‡½æ•°ä¸å…¶ä»–å‡½æ•°çš„å”¯ä¸€åŒºåˆ«ï¼Œå°±åœ¨äºè°ƒç”¨å®ƒä»¬çš„æ–¹å¼ä¸åŒã€‚ä¸è¿‡ï¼Œæ„é€ å‡½æ•°æ¯•ç«Ÿä¹Ÿæ˜¯å‡½æ•°ï¼Œä¸å­˜åœ¨å®šä¹‰æ„é€ å‡½æ•°çš„ç‰¹æ®Šè¯­æ³•ã€‚ä»»ä½•å‡½æ•°ï¼Œåªè¦é€šè¿‡ new æ“ä½œç¬¦æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•° ç”¨ä»¥ä¸‹çš„ä¾‹å­æ¥æ¨¡ä»¿ var person = new Person() çš„è¿‡ç¨‹ 12345678910111213141516171819202122// 1. éœ€è¦ä¸€ä¸ªåˆ›é€ å™¨function Creator() &#123; this.name='creator' console.log(\"åˆ›é€ å™¨\");&#125;// 2. æ–°å»ºå˜é‡ï¼Œå¼€è¾Ÿå†…å­˜var person = &#123;&#125;;// 3. é€šè¿‡ __proto__ æŒ‡å‘Creatorçš„åŸå‹person.__proto__ = Creator.prototype// 4. call person ä½¿å…¶å¯ä»¥æ‰©å±•nameCreator.call(person) // åˆ›é€ å™¨// 5.åœ¨åŸå‹ä¸Šå¢åŠ æ–¹æ³•Creator.prototype.action = function() &#123; console.log('åˆ›é€ åŠ¨ä½œ')&#125;person.action() // åˆ›é€ åŠ¨ä½œconsole.log(person) // Creator &#123;name: 1&#125; å…³äº thisã€applyã€callã€bind å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"MacBookå¸¸ç”¨å¿«æ·é”®","slug":"MacBookå¿«æ·é”®","date":"2019-02-18T12:31:13.000Z","updated":"2020-04-15T12:16:58.178Z","comments":true,"path":"2019/02/18/MacBookå¿«æ·é”®/","link":"","permalink":"https://timbok.github.io/2019/02/18/MacBookå¿«æ·é”®/","excerpt":"","text":"Macå¸¸ç”¨å¿«æ·é”®Finder å¿«æ·é”® ä½œç”¨ å¤‡æ³¨ Shift + Command + G å‰å¾€æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å¤¹ åŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ Shift + Command + . æ˜¾ç¤ºéšè—æ–‡ä»¶ã€æ–‡ä»¶å¤¹ å†æŒ‰ä¸€æ¬¡ï¼Œæ¢å¤éšè— Command + â†‘ è¿”å›ä¸Šä¸€å±‚ Command + â†“ è¿›å…¥å½“å‰æ–‡ä»¶å¤¹ ç¼–è¾‘åˆ é™¤æ–‡å­—ï¼š å¿«æ·é”® ä½œç”¨ å¤‡æ³¨ delete åˆ é™¤å…‰æ ‡çš„å‰ä¸€ä¸ªå­—ç¬¦ ç›¸å½“äº Windows é”®ç›˜ä¸Šçš„é€€æ ¼é”® fn + delete åˆ é™¤å…‰æ ‡çš„åä¸€ä¸ªå­—ç¬¦ option + delete åˆ é™¤å…‰æ ‡ä¹‹å‰çš„ä¸€ä¸ªå•è¯ è‹±æ–‡æœ‰æ•ˆ command + delete åˆ é™¤å…‰æ ‡ä¹‹å‰çš„æ•´è¡Œå†…å®¹ ã€èã€‘ command + delete åœ¨finderä¸­åˆ æ‰è¯¥æ–‡ä»¶ shift + command + delete æ¸…ç©ºå›æ”¶ç«™ å‰ªåˆ‡æ–‡ä»¶ï¼š é¦–å…ˆé€‰ä¸­æ–‡ä»¶ï¼ŒæŒ‰Command+Cå¤åˆ¶æ–‡ä»¶ï¼›ç„¶åæŒ‰ã€ŒCommandï¼‹Optionï¼‹Vã€å‰ªåˆ‡æ–‡ä»¶ã€‚ å¤‡æ³¨ï¼šCommand+Xåªèƒ½å‰ªåˆ‡æ–‡å­—æ–‡æœ¬ï¼Œä¸è¦æ··æ·†äº†ã€‚ Macç”¨æˆ·å¿…é¡»çŸ¥é“çš„15ç»„å¿«æ·é”® å‚è€ƒé“¾æ¥ï¼šã€Šè½»æ¾ç©Macã€‹ç¬¬6æœŸï¼šMacç”¨æˆ·å¿…é¡»çŸ¥é“çš„15ç»„å¿«æ·é”® ã€Œspaceã€é”®ï¼šå¿«é€Ÿé¢„è§ˆé€‰ä¸­æ–‡ä»¶åï¼Œ ä¸éœ€è¦å¯åŠ¨ä»»ä½•åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨ã€Œspaceã€ç©ºæ ¼é”®å¯è¿›è¡Œå¿«é€Ÿé¢„è§ˆï¼Œå†æ¬¡æŒ‰ä¸‹ã€Œspaceã€ç©ºæ ¼é”®å–æ¶ˆé¢„è§ˆã€‚ å¯ä»¥é¢„è§ˆmp3ã€è§†é¢‘ã€pdfç­‰æ–‡ä»¶ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥é€‰ä¸­å¤šå¼ å›¾ç‰‡ï¼Œ ç„¶åæŒ‰ã€Œspaceã€é”®ï¼Œå°±å¯ä»¥åŒæ—¶å¯¹æ¯”é¢„è§ˆå¤šå¼ å›¾ç‰‡ã€‚è¿™ä¸€ç‚¹ï¼Œå¾ˆèµã€‚ æ”¹åé€‰ä¸­æ–‡ä»¶/æ–‡ä»¶å¤¹åï¼ŒæŒ‰enteré”®ï¼Œå°±å¯ä»¥æ”¹åäº†ã€‚ ã€Œcommand + Iã€é”®ï¼šæŸ¥çœ‹æ–‡ä»¶å±æ€§ é€‰ä¸­æ–‡ä»¶åï¼ŒæŒ‰ã€Œcommand + Iã€é”®ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„å„ç§å±æ€§ã€‚ é€‰ä¸­æ–‡ä»¶å¤¹åï¼ŒæŒ‰ã€Œcommand + Iã€é”®ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å¤¹çš„å¤§å°ã€‚ã€èã€‘ åˆ‡æ¢è¾“å…¥æ³•ã€Œcontrol + spaceã€ æ‰“å¼€ spotlight æœç´¢æ¡†spotlightæ˜¯ç³»ç»Ÿè‡ªå¸¦çš„è½¯ä»¶ï¼Œæœç´¢åŠŸèƒ½ä¸æ˜¯å¾ˆå¼ºå¤§ã€‚æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç”¨ç¬¬ä¸‰æ–¹çš„ Alfred è½¯ä»¶ã€‚ ç¼–è¾‘ç›¸å…³Cmd+Cã€Cmd+Vã€Cmd+Xã€Cmd+Aã€Cmd+Zã€‚ ç¿»é¡µå’Œå…‰æ ‡ ã€Œcontrol + â†‘ã€ï¼šå°†å…‰æ ‡å®šä½åˆ°æ–‡ç« çš„æœ€å¼€å¤´ï¼ˆç¿»é¡µåˆ°æ–‡æ¡£çš„æœ€ä¸Šæ–¹ï¼‰ ã€Œcontrol + â†“ã€ï¼šå°†å…‰æ ‡å®šä½åˆ°æ–‡ç« çš„æœ€æœ«å°¾ï¼ˆç¿»é¡µåˆ°æ–‡æ¡£çš„æœ€ä¸‹æ–¹ï¼‰ ã€Œcontrol + â†ã€ï¼šå°†å…‰æ ‡å®šä½åˆ°å½“å‰è¡Œçš„æœ€å·¦ä¾§ ã€Œcontrol + â†’ã€ï¼šå°†å…‰æ ‡å®šä½åˆ°å½“å‰è¡Œçš„æœ€å³ä¾§ ã€Œcommand + shift + Yã€ï¼šå°†æ–‡å­—å¿«é€Ÿä¿å­˜åˆ°ä¾¿ç¬ºé€‰ä¸­ä½ æƒ³è¦çš„å†…å®¹ï¼ˆä¾‹å¦‚æ–‡å­—ã€é“¾æ¥ç­‰ï¼‰ï¼Œç„¶åæŒ‰ä¸‹command + shift + Yã€ï¼Œé‚£ä¹ˆä½ é€‰ä¸­çš„å†…å®¹å°±ä¼šå¿«é€Ÿä¿å­˜åˆ°ç³»ç»Ÿè‡ªå¸¦çš„ã€Œä¾¿ç¬ºã€è½¯ä»¶ä¸­ã€‚ å¦‚æœä½ æƒ³ä¸´æ—¶æ€§çš„ä¿å­˜ä¸€æ®µå†…å®¹ï¼Œè¿™ä¸ªæ“ä½œå¾ˆå®ç”¨ã€‚ ç¨‹åºç›¸å…³ ã€Œcommand + Qã€ï¼šå¿«é€Ÿé€€å‡ºç¨‹åº ã€Œcommand + tabã€ï¼šåˆ‡æ¢ç¨‹åº ã€Œcommand + Hã€ï¼šéšè—å½“å‰åº”ç”¨ç¨‹åºã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å¿«æ·é”®ã€‚ ã€Œcommand + ï¼Œã€ï¼šæ‰“å¼€å½“å‰åº”ç”¨ç¨‹åºçš„ã€Œåå¥½è®¾ç½®ã€ã€‚ çª—å£ç›¸å…³ ã€Œcommand + Nã€ï¼šæ–°å»ºä¸€ä¸ªå½“å‰åº”ç”¨ç¨‹åºçš„çª—å£ ã€Œcommand + `ã€ï¼šåœ¨å½“å‰åº”ç”¨ç¨‹åºçš„ä¸åŒçª—å£ä¹‹é—´åˆ‡æ¢ã€å¾ˆå®ç”¨ã€‘ æˆ‘ä»¬çŸ¥é“ï¼Œã€Œcommand + tabã€æ˜¯åœ¨ä¸åŒçš„è½¯ä»¶ä¹‹é—´åˆ‡æ¢ã€‚ä½†ä½ ä¸çŸ¥é“çš„æ˜¯ï¼Œã€Œcommand + `ã€æ˜¯åœ¨åŒä¸€ä¸ªè½¯ä»¶çš„ä¸åŒçª—å£ä¹‹é—´åˆ‡æ¢ã€‚ ã€Œcommand + Mã€ï¼šå°†å½“å‰çª—å£æœ€å°åŒ– ã€Œcommand + Wã€ï¼šå…³é—­å½“å‰çª—å£ æµè§ˆå™¨ç›¸å…³ ã€Œcommand + Tã€ï¼šæµè§ˆå™¨ä¸­ï¼Œæ–°å»ºä¸€ä¸ªæ ‡ç­¾ ã€Œcommand + Wã€ï¼šå…³é—­å½“å‰æ ‡ç­¾ ã€Œcommand + Rã€ï¼šå¼ºåˆ¶åˆ·æ–°ã€‚ ã€Œcommand + Lã€ï¼šå®šä½åˆ°åœ°å€æ ã€‚ã€é‡è¦ã€‘ æˆªå›¾ç›¸å…³ ã€Œcommand + shift + 3ã€ï¼šæˆªå…¨å±ï¼ˆå¯¹æ•´ä¸ªå±å¹•æˆªå›¾ï¼‰ã€‚ å£°éŸ³ç›¸å…³é€‰ä¸­æ–‡å­—åï¼ŒæŒ‰ä½ã€Œctrl + escã€é”®ï¼Œä¼šå°†æ–‡å­—è¿›è¡Œæœ—è¯»ã€‚ï¼ˆæˆ‘å‘ç°ï¼Œåœ¨è§¦æ§æ¡ç‰ˆçš„macä¸Šï¼Œå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼‰ Dockæ ç›¸å…³ ã€Œoption + command + Dã€ï¼šéšè—dockæ  å¼ºåˆ¶æ¨å‡º å¼ºåˆ¶é€€å‡ºçš„å¿«æ·é”®éå¸¸é‡è¦ ã€Œoption + command + escã€ï¼šæ‰“å¼€å¼ºåˆ¶é€€å‡ºçš„çª—å£ optionç›¸å…³ å¼ºçƒˆæ¨è ã€Œoption + command + Hã€ï¼šéšè—é™¤å½“å‰åº”ç”¨ç¨‹åºä¹‹å¤–çš„å…¶ä»–åº”ç”¨ç¨‹åº åœ¨æ–‡æœ¬ä¸­ï¼ŒæŒ‰ä½ã€Œoptionã€é”®ï¼Œé…åˆé¼ æ ‡çš„é€‰ä¸­ï¼Œå¯ä»¥è¿›è¡Œå—çŠ¶æ–‡å­—é€‰å–ã€‚ ã€Œoption + command + Wã€ï¼šå¿«é€Ÿå…³é—­å½“å‰åº”ç”¨ç¨‹åºçš„æ‰€æœ‰çª—å£ã€‚ã€å¾ˆå®ç”¨ã€‘ æ¯”å¦‚è¯´ï¼Œä½ ä¸€æ¬¡æ€§æ‰“å¼€äº†å¾ˆå¤šæ–‡ä»¶çš„è¯¦æƒ…ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡æ­¤å¿«æ·é”®ï¼Œå°†è¿™äº›çª—å£ä¸€æ¬¡æ€§å…³é—­ã€‚ ã€Œoption + command + Iã€ï¼šæŸ¥çœ‹å¤šä¸ªæ–‡ä»¶çš„æ€»çš„å±æ€§ã€‚ æ‰“å¼€launchpadï¼ŒæŒ‰ä½ã€Œoptionã€é”®ï¼Œå¯ä»¥å¿«é€Ÿå¸è½½åº”ç”¨ç¨‹åºã€‚ åœ¨dockæ ï¼Œå³é”®ç‚¹å‡»è½¯ä»¶å›¾æ ‡ï¼ŒåŒæ—¶æŒ‰ä½ã€Œoptionã€é”®ï¼Œå°±å¯ä»¥å¼ºåˆ¶é€€å‡ºè¯¥è½¯ä»¶ã€‚ã€é‡è¦ã€‘ åœ¨Safariæµè§ˆå™¨ä¸­ï¼ŒæŒ‰ä½ã€Œoption + command + Qã€é€€å‡ºSafariã€‚ç­‰ä¸‹æ¬¡è¿›å…¥Safariçš„æ—¶å€™ï¼Œä¸Šæ¬¡é€€å‡ºæ—¶çš„ç½‘å€ä¼šè‡ªåŠ¨è¢«æ‰“å¼€ã€‚ã€å®ç”¨ã€‘ æ¨èä¸€ä¸ªè½¯ä»¶ï¼šCheatSheetæ‰“å¼€CheatSheetåï¼Œé•¿æŒ‰ command é”®ï¼Œä¼šå¼¹å‡ºå½“å‰åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å¿«æ·é”®ã€‚æˆ‘ä»¬è¿˜å¯ä»¥å¯¹è¿™äº›å¿«æ·é”®è¿›è¡Œä¿å­˜ã€‚","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]},{"title":"TYPESCRIPTæŒ‡å—ï¼ˆè¯‘æ–‡ï¼‰","slug":"TypeScript","date":"2019-01-30T02:39:41.000Z","updated":"2020-04-15T12:16:58.180Z","comments":true,"path":"2019/01/30/TypeScript/","link":"","permalink":"https://timbok.github.io/2019/01/30/TypeScript/","excerpt":"","text":"å‰è¨€ åŸæ–‡åœ°å€ï¼šhttps://flaviocopes.com/typescript/ åŸæ–‡ä½œè€…ï¼šFlavio è¯‘è€…ï¼šTimbok ç¿»è¯‘å·¥å…·ï¼šGoogle Translate æ­£æ–‡ä»€ä¹ˆï¼Ÿéƒ½2019äº†ï¼Œä½ è¿˜ä¸ä¼šTypeScirptï¼Ÿåˆ«æ‹…å¿ƒï¼Œæˆ‘ä¹Ÿä¸ä¼šï¼Œå‰å‡ å¤©çœ‹åˆ°ä¸€ç¯‡å†™çš„å¾ˆå¥½çš„å…¥é—¨æ–‡ç« ï¼Œç¿»è¯‘ä¸€ä¸‹ï¼Œä¸€èµ·å­¦ä¹ ã€‚ TypeScriptæ˜¯2018å¹´å‘å±•æœ€å¿«çš„æŠ€æœ¯ä¹‹ä¸€ã€‚å®ƒæ— å¤„ä¸åœ¨ï¼Œæ¯ä¸ªäººéƒ½åœ¨è°ˆè®ºå®ƒã€‚æœ¬æ–‡å°†æŒ‡å¯¼æ‚¨äº†è§£å…¶å…³é”®æ¦‚å¿µ è¿‡å»å‡ å¹´ä¸­ï¼Œå¾ˆå°‘æœ‰æŠ€æœ¯èƒ½æœ‰TypeScriptè¿™ä¹ˆå¤§çš„å½±å“ã€‚è®©æˆ‘æ·»åŠ ä¸€äº›è¯æ®ï¼Œæ”¯æŒTypeScriptã€‚ åœ¨â€œThe State of JavaScript 2018â€è°ƒæŸ¥ä¸­ï¼Œè¿‘50ï¼…çš„å—è®¿è€…è¡¨ç¤ºä»–ä»¬ä½¿ç”¨TypeScriptï¼Œå¹¶ä¼šå†æ¬¡ä½¿ç”¨å®ƒã€‚è¶…è¿‡30ï¼…çš„äººè¡¨ç¤ºä»–ä»¬æƒ³å­¦ä¹ å®ƒã€‚å¯¹æ­¤æ„Ÿå…´è¶£çš„äººä¸­æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚ TypeScriptæ˜¯ç”±å¾®è½¯åˆ›å»ºçš„ï¼Œå®ƒå¯¹äºåˆ›å»ºç¼–ç¨‹è¯­è¨€å¹¶ä¸é™Œç”Ÿï¼Œå…¶åˆ›å»ºè€…ä¹‹ä¸€æ˜¯Anders Hejlsbergï¼Œä¸€ä½ä»¥Turbo Pascalï¼ˆâ¤ï¸ï¼‰å’ŒDelphiè€Œé—»åçš„ä¸¹éº¦è½¯ä»¶å·¥ç¨‹å¸ˆã€‚æˆ‘æŠŠå¿ƒæ€æ”¾åœ¨Turbo Pascalä¸Šï¼Œå› ä¸ºPascalæ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘ä»¬åœ¨å­¦æ ¡ä½¿ç”¨äº†Turbo Pascalã€‚ å®ƒæ˜¯ä¸€ç§å¼€æºè¯­è¨€ï¼Œåœ¨https://github.com/Microsoft/TypeScriptä¸Šå…¬å¼€å¼€å‘ã€‚ Angularæ˜¯ä½¿ç”¨TypeScriptçš„ï¼Œæ®è¯´Vue.jsä½¿ç”¨TypeScriptåˆ¶ä½œ3.0ç‰ˆæœ¬ã€‚Node.jsçš„åˆ›å»ºè€…Ryan Dahlä¹Ÿè¯´äº†å¾ˆå¤šå…³äºå®ƒçš„äº‹æƒ…ã€‚ æˆ‘è®¤ä¸ºè¿™äº›ä¸œè¥¿æœ‰åŠ©äºä½ æ¸…æ™°è®¤è¯†TypeScriptã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€ç§éšæœºçš„JavaScripté£æ ¼ï¼Œå°†åœ¨ä¸‹ä¸ªæœˆæ¶ˆäº¡ï¼Œå®ƒç»å¯¹ä¼šç•™ä¸‹æ¥ã€‚äº‹å®ä¸Šï¼Œè¿™æ„å‘³ç€æ‚¨å¯èƒ½éœ€è¦åœ¨æœªæ¥çš„é¡¹ç›®æˆ–ä¸‹ä¸€ä¸ªå·¥ä½œä¸­ä½¿ç”¨å®ƒã€‚ä¹Ÿè®¸å®ƒä¼šå¸®åŠ©ä½ æ‰¾åˆ°ä¸€ä»½å·¥ä½œï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶å®ƒã€‚ ç¼–å†™å¹¶ç¼–è¯‘æ‚¨çš„ç¬¬ä¸€ä¸ªTYPESCRIPTæ–‡ä»¶TypeScriptå¼€å§‹å¾ˆå®¹æ˜“ã€‚å¦‚æœæ‚¨æ›¾ç»å†™è¿‡ä¸€è¡ŒJavaScriptï¼Œé‚£ä¹ˆæ‚¨å·²ç»ç¼–å†™äº†TypeScriptä»£ç ï¼ æˆ‘æ‰€åšçš„è¿™ä¸ªå¥‡æ€ªçš„é™ˆè¿°æ˜¯TypeScriptæˆåŠŸçš„åŸå› ä¹‹ä¸€ï¼šå®ƒæ˜¯JavaScriptçš„ä¸¥æ ¼è¶…é›†ã€‚ è¿™æœ‰ç‚¹åƒSCSSçš„CSSã€‚ ç‰¹åˆ«æ˜¯ï¼Œå®ƒæ˜¯ECMAScript 2015ï¼ˆä¹Ÿç§°ä¸ºES6ï¼‰çš„è¶…é›†ã€‚è¿™æ„å‘³ç€ä»»ä½•æœ‰æ•ˆçš„JavaScriptä¹Ÿæ˜¯æœ‰æ•ˆçš„TypeScriptã€‚ TypeScriptçš„è®¸å¤šåŠŸèƒ½éƒ½ç­‰åŒäºJavaScriptã€‚ä¾‹å¦‚å˜é‡ï¼Œæ¨¡å—ç³»ç»Ÿï¼Œè¿­ä»£å™¨ç­‰ã€‚ æ‰€ä»¥ï¼Œæ²¡æœ‰å¿…è¦ç¼–å†™ç»å¯¹çš„ç¬¬ä¸€ä¸ªTypeScriptæ–‡ä»¶ï¼Œå› ä¸ºä½ å·²ç»åœ¨ä½ ä¸çŸ¥é“çš„æƒ…å†µä¸‹å†™è¿‡ï¼Œè®©æˆ‘ä»¬é€šè¿‡æ˜¾å¼åˆ¶ä½œä¸€ä¸ªTypeScriptæ–‡ä»¶æ¥åˆ¶ä½œä¸€ä¸ªâ€œhello worldï¼â€ï¼Œå¹¶å°†å…¶ç¼–è¯‘æˆJavaScriptã€‚ è¿è¡Œnpm install -g typescriptä»¥å…¨å±€å®‰è£…å¯ä½¿ç”¨tscå‘½ä»¤ä½¿ç”¨çš„TypeScriptç¼–è¯‘å™¨ã€‚ åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªapp.tsæ–‡ä»¶ã€‚.tsæ˜¯TypeScriptæ–‡ä»¶æ‰©å±•åã€‚ å†™ä¸‹ç¬¬ä¸€ä¸ªç¨‹åºï¼š12345const greet = () =&gt; &#123; console.log('Hello world!')&#125;greet() è¿™åªæ˜¯æ™®é€šçš„JavaScriptï¼Œä½†å­˜å‚¨åœ¨ä¸€ä¸ª.tsæ–‡ä»¶ä¸­ã€‚ ç°åœ¨ä½¿ç”¨ç¼–è¯‘ç¨‹åºtsc app.tsã€‚ç»“æœå°†æ˜¯ä¸€ä¸ªæ–°çš„JavaScriptæ–‡ä»¶ï¼šapp.jsï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š1234var greet = function () &#123; console.log('Hello world!');&#125;;greet(); TypeScriptä»£ç å·²ç¼–è¯‘ä¸ºJavaScriptã€‚JavaScriptä»£ç ç¨æœ‰æ”¹åŠ¨ï¼Œä¾‹å¦‚ä½ å¯ä»¥æ³¨æ„åˆ°å®ƒæ·»åŠ äº†åˆ†å·ï¼Œvarç”¨æ¥ä»£æ›¿constå’Œä½¿ç”¨å¸¸è§„å‡½æ•°è€Œä¸æ˜¯ç®­å¤´å‡½æ•°ã€‚ å®ƒçœ‹èµ·æ¥åƒæ—§çš„ JavaScriptï¼Œå¯¹å—ï¼Ÿè¿™æ˜¯å› ä¸ºTypeScripté»˜è®¤ç¼–è¯‘ä¸ºES5ï¼Œå› ä¸ºè¿™æ˜¯å‡ ä¹å¯ä»¥ä¿è¯åœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­éƒ½æ”¯æŒçš„ECMAScriptç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥å°†ç¼–è¯‘ç›®æ ‡æ›´æ”¹ä¸ºå…¶ä»–ç‰ˆæœ¬ï¼Œä¾‹å¦‚ç¼–è¯‘ä¸ºES2018ï¼štsc app.ts --target ES2018ï¼š 1234const greet = () =&gt; &#123; console.log('Hello world!');&#125;;greet(); çœ‹ï¼Œè¿™é‡Œå‡ ä¹æ²¡æœ‰æ”¹å˜æˆ‘ä»¬çš„åŸå§‹.tsæ–‡ä»¶ï¼Œé™¤äº†é¢å¤–çš„åˆ†å·ã€‚ æœ‰ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„ç½‘ç«™ï¼Œå¯è®©æ‚¨åœ¨https://www.typescriptlang.org/play/ä¸Šä½¿ç”¨TypeScriptåˆ°JavaScriptç¼–è¾‘ã€‚ ç±»å‹åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ç¼–è¯‘äº†ä¸€ä¸ª.tsæ–‡ä»¶ï¼Œä½†æˆ‘ä»¬åªç¼–è¯‘äº†çº¯JavaScriptã€‚ æ‚¨çœ‹åˆ°äº†TypeScriptçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼šæ‚¨å¯ä»¥ä½¿ç”¨ç°ä»£JavaScriptå¹¶å°†å…¶ç¼–è¯‘ä¸ºES5ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ï¼Œè¿™æ˜¯Babelæ‰€åšçš„ã€‚æˆ‘ä»¬è¿˜æ²¡æœ‰ä½¿ç”¨ä»»ä½•TypeScriptåŠŸèƒ½ã€‚ TypeScriptæä¾›çš„æœ€é‡è¦çš„åŠŸèƒ½æ˜¯ç±»å‹ç³»ç»Ÿï¼šé™æ€ç±»å‹ï¼Œæ¥å£ï¼Œç±»å‹æ¨æ–­ï¼Œæšä¸¾ï¼Œæ··åˆç±»å‹ï¼Œæ³›å‹ï¼Œè”åˆ/äº¤é›†ç±»å‹ï¼Œè®¿é—®ä¿®é¥°ç¬¦ï¼Œç©ºæ£€æŸ¥ã€‚ å¦‚æœä½ æ›¾ç»ä½¿ç”¨è¿‡ç±»å‹è¯­è¨€ï¼Œæ¯”å¦‚Goæˆ–Cï¼Œä½ å·²ç»çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å¦‚æœæ²¡æœ‰ï¼Œå¹¶ä¸”æ‚¨åªä½¿ç”¨Pythonæˆ–Rubyè¿™æ ·çš„åŠ¨æ€è¯­è¨€è¿›è¡Œç¼–ç¨‹ï¼Œè¿™å¯¹æ‚¨æ¥è¯´æ˜¯å…¨æ–°çš„ï¼Œä½†ä¸è¦æ‹…å¿ƒã€‚ ä¾‹å¦‚ï¼Œç±»å‹ç³»ç»Ÿå…è®¸æ‚¨å‘å˜é‡ï¼Œå‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›ç±»å‹æ·»åŠ ç±»å‹ï¼Œä»è€Œä¸ºç¨‹åºæä¾›æ›´ä¸¥æ ¼çš„ç»“æ„ã€‚æˆ‘ä»¬ç¼–è¯‘çš„JavaScriptä»£ç æ²¡æœ‰ç±»å‹ï¼Œå®ƒä»¬åœ¨ç¼–è¯‘é˜¶æ®µä¼šä¸¢å¤±ã€‚ ä»¥ä¸‹æ˜¯åœ¨TypeScriptä¸­å®šä¹‰å­—ç¬¦ä¸²å˜é‡çš„æ–¹æ³•ï¼š1const greeting : string = \"hello!\" ç±»å‹æ¨æ–­è®©æˆ‘ä»¬é¿å…åœ¨æ˜æ˜¾çš„æƒ…å†µä¸‹ç¼–å†™ç±»å‹ï¼š1const greeting = \"hello!\" ç±»å‹ç”±TSç¡®å®šã€‚ è¿™æ˜¯å‡½æ•°æ¥å—ç‰¹å®šç±»å‹çš„å‚æ•°çš„æ–¹å¼ï¼š123const multiply = (a: number, b: number) =&gt; &#123; return a * b&#125; å¦‚æœä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ç»™multiply()ï¼Œç¼–è¯‘å™¨ä¼šç»™ä½ ä¸€ä¸ªé”™è¯¯ã€‚ ä»¥ä¸‹æ˜¯å‡½æ•°å£°æ˜å…¶è¿”å›å€¼çš„æ–¹å¼ï¼š123const multiply = (a: number, b: number): number =&gt; &#123; return a * b&#125; æœ‰æ•ˆç±»å‹æ˜¯ number string boolean enum void null undefined any never Array tuple any æ˜¯ä¸€ç§å…¨èƒ½ç±»å‹ï¼Œå¦‚å…¶åç§°æ‰€ç¤ºï¼Œå¯è¯†åˆ«ä»»ä½•ç±»å‹ã€‚ ç±»ES2015 / ES6ä¸ºJavaScript æ·»åŠ äº†ç±»ï¼Œä½œä¸ºåŸå‹ç»§æ‰¿çš„ç®€å•è¯­æ³•ç³–ã€‚ æ— è®ºå–œæ¬¢ä¸å¦ï¼Œåœ¨å¼•æ“ç›–ä¸‹ï¼ŒJavaScriptä»ç„¶ä½¿ç”¨åŸå‹ç»§æ‰¿ï¼Œå…·æœ‰å…¶ç‹¬ç‰¹çš„åŠŸèƒ½å’Œæ€ªç™–ã€‚ TypeScriptç±»ä¸JavaScriptç±»ç•¥æœ‰ä¸åŒã€‚åŸå› æ˜¯TypeScriptåœ¨JavaScriptä¹‹å‰å¼•å…¥äº†ç±»ï¼ˆå®ƒä»¬æ˜¯åœ¨ES2015 / ES6ä¸­å¼•å…¥çš„ï¼‰ã€‚ å°±åƒåœ¨JavaScriptä¸­ä¸€æ ·ï¼Œæ‚¨ä»¥è¿™ç§æ–¹å¼å£°æ˜ç±»ï¼š123class Car &#123;&#125; é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å­—æ®µéƒ½æ˜¯å…¬å¼€ æ‚¨å¯ä»¥å°†å­—æ®µè®¾ç½®ä¸ºç§æœ‰æˆ–å—ä¿æŠ¤ï¼š12345class Car &#123; public color: string private name: string protected brand: string&#125; å°±åƒåœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­å‘ç”Ÿçš„é‚£æ ·ï¼Œç§æœ‰å­—æ®µåªèƒ½åœ¨å£°æ˜å®ƒä»¬çš„ç±»ä¸­è®¿é—®ã€‚å—ä¿æŠ¤çš„å­—æ®µä¹Ÿåªèƒ½é€šè¿‡æ´¾ç”Ÿç±»æ¥è®¿é—®ã€‚ æ‚¨è¿˜å¯ä»¥å£°æ˜é™æ€å­—æ®µï¼Œå®ƒä»¬æ˜¯ç±»å­—æ®µè€Œä¸æ˜¯å¯¹è±¡å­—æ®µï¼š123class Car &#123; static numberOfWheels = 4&#125; æ‚¨å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–å­—æ®µï¼š123456class Car &#123; color: string constructor(theColor: string) &#123; this.color = theColor &#125;&#125; è¿™ç§ç®€å†™è¯­æ³•ä½¿å…¶æ›´ç®€å•ï¼š123456789class Car &#123; constructor(public color: string) &#123;&#125; printColor() &#123; alert(this.color) &#125;&#125;(new Car('red')).printColor() å­—æ®µä¹Ÿå¯ä»¥æ˜¯åªè¯»çš„ï¼š123class Car &#123; readonly color: string&#125; åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒçš„å€¼åªèƒ½åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®ã€‚ ç±»å…·æœ‰æ–¹æ³•ï¼š123456789class Car &#123; color: string constructor(public color: string) &#123; this.color = color &#125; drive() &#123; console.log('You are driving the car') &#125;&#125; ä¸çº¯JavaScriptä¸€æ ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨newå…³é”®å­—ä»è¿™äº›ç±»åˆ›å»ºå¯¹è±¡ï¼š1const myCar = new Car('red') å¹¶ä¸”æ‚¨å¯ä»¥ä½¿ç”¨extendå…³é”®å­—æ‰©å±•ç°æœ‰ç±»ï¼š123class ElectricCar extends Car &#123; //...&#125; æ‚¨å¯ä»¥åœ¨æ„é€ å‡½æ•°å’Œæ–¹æ³•ä¸­è°ƒç”¨super()æ¥è°ƒç”¨æ‰©å±•ç±»å¯¹åº”çš„æ–¹æ³• ç±»å¯ä»¥å®šä¹‰ä¸ºæŠ½è±¡ï¼Œè¿™æ„å‘³ç€éœ€è¦æœ‰ä¸€ä¸ªæ‰©å±•å®ƒçš„ç±»ï¼Œå¹¶å®ç°å…¶æœ€ç»ˆçš„æŠ½è±¡æ–¹æ³•ï¼š123456789abstract class Car &#123; abstract drive()&#125;class SportsCar extends Car &#123; drive() &#123; console.log('You are driving a sports car') &#125;&#125; è®¿é—®å™¨å­—æ®µå¯ä»¥æœ‰getterå’Œsetterã€‚ä¾‹ï¼š1234567891011class Car &#123; private _color: string get color(): string &#123; return this._color &#125; set color(color: string) &#123; this._color = color &#125;&#125; æ¥å£æ¥å£åŸºäºåŸºæœ¬ç±»å‹æ„å»ºã€‚æ‚¨å¯ä»¥å°†æ¥å£ç”¨ä½œç±»å‹ï¼Œå¹¶ä¸”æ­¤æ¥å£å¯ä»¥åŒ…å«å…¶ä»–ç±»å‹å®šä¹‰ï¼š12345678910interface SetOfNumbers &#123; a: number; b: number;&#125;const multiply = (set: SetOfNumbers) =&gt; &#123; return set.a * set.b&#125;multiply(&#123; a:1, b: 2 &#125;) æ¥å£ä¹Ÿå¯ä»¥æ˜¯ç±»å®ç°çš„æ¥å£ï¼š123456789101112131415interface Car &#123; name: 'string' new (brand: string) drive(): void&#125;class SportsCar implements Car &#123; public name construtor(public brand: string) &#123; //... &#125; drive() &#123; console.log('You are driving a sports car') &#125;&#125; å‡½æ•°ç‰¹ç‚¹å‡½æ•°å¯ä»¥ä½¿ç”¨?æ¥è¡¨æ˜å‚æ•°ç±»å‹å¯é€‰ï¼š123456789class Car &#123; drive(kilometers?: number) &#123; if (kilometers) &#123; console.log(`Drive the car for $&#123;kilometers&#125; kilometers`) &#125; else &#123; console.log(`Drive the car`) &#125; &#125;&#125; å‚æ•°ä¹Ÿå¯ä»¥æœ‰é»˜è®¤å€¼ï¼š12345class Car &#123; drive(kilometers = 10) &#123; console.log(`Drive the car for $&#123;kilometers&#125; kilometers`) &#125;&#125; å‡½æ•°å¯ä»¥ä½¿ç”¨...æ¥å—ä¸åŒæ•°é‡çš„å‚æ•°ï¼š1234567class Car &#123; drive(kilometers = 10, ...occupants: string[]) &#123; console.log(`Drive the car for $&#123;kilometers&#125; kilometers, with those people on it:`) occupants.map((person) =&gt; console.log(person)) &#125;&#125;(new Car()).drive(20, 'Flavio', 'Roger', 'Syd') æšä¸¾æšä¸¾æ˜¯å®šä¹‰å‘½åå¸¸é‡çš„ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•ï¼Œé—æ†¾çš„æ˜¯ï¼Œå®ƒä¸å—JavaScriptæ”¯æŒï¼Œä½†æ˜¯è¢«å…¶ä»–è¯­è¨€æ¨å¹¿ã€‚ TypeScriptä¸ºæˆ‘ä»¬æä¾›äº†æšä¸¾ï¼š123456enum Order &#123; First, Second, Third, Fourth&#125; TSåœ¨å†…éƒ¨ä¸ºæ¯ä¸ªå€¼åˆ†é…å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å¼•ç”¨Order.Firstï¼ŒOrder.Secondä¾æ­¤ç±»æ¨ã€‚ æ‚¨å¯ä»¥æ˜¾å¼åœ°ä¸ºå¸¸é‡æŒ‡å®šå€¼ï¼š123456enum Order &#123; First = 0, Second = 1, Third = 2, Fourth = 3&#125; æˆ–è€…ä¹Ÿä½¿ç”¨å­—ç¬¦ä¸²ï¼š123456enum Order &#123; First = 'FIRST', Second = 'SECOND', Third = 'THIRD', Fourth = 'FOURTH'&#125; æ³›å‹æ³›å‹æ˜¯è®¸å¤šä¸åŒç¼–ç¨‹è¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªä½¿ç”¨ä¸åŒç±»å‹çš„å‡½æ•°ï¼Œæ¥å£æˆ–ç±»ï¼Œè€Œæ— éœ€é¢„å…ˆæŒ‡å®šç±»å‹ã€‚ ä½†æ˜¯åœ¨ç¼–è¯‘æ—¶ï¼Œå¦‚æœä½ å¼€å§‹ä½¿ç”¨ä¸€ä¸ªç±»å‹çš„å‡½æ•°ï¼Œç„¶åä½ æ”¹å˜ç±»å‹ï¼ˆä¾‹å¦‚ä»æ•°å­—åˆ°å­—ç¬¦ä¸²ï¼‰ï¼Œç¼–è¯‘å™¨å°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡çœç•¥ç±»å‹æˆ–ä½¿ç”¨anyç±»å‹æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ä½¿ç”¨æ³›å‹ï¼Œæ‰€æœ‰å·¥å…·éƒ½èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ ç¤ºä¾‹è¯­æ³•ï¼š1234function greet&lt;T&gt;(a : T) &#123; console.log(`Hi $&#123;a&#125;!`)&#125;greet('Flavio') æœ‰è¶£çš„Tç¬¦å·æ ‡è¯†é€šç”¨ç±»å‹ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹extendså…³é”®å­—å°†ç±»å‹é™åˆ¶ä¸ºæŸä¸ªç±»æˆ–æ¥å£ï¼š12345interface Greetable &#123; name: string &#125;function greet&lt;T extends Greetable&gt;(a : T) &#123; alert(`Hi $&#123;a.name&#125;!`)&#125;greet(&#123; name: 'Flavio'&#125;) æ€»ç»“è¿™äº›éƒ½æ˜¯TypeScriptçš„åŸºç¡€çŸ¥è¯†ã€‚è¯¦ç»†å­¦ä¹ åœ°å€ï¼š ä¸­æ–‡æ–‡æ¡£ï¼šhttps://github.com/zhongsp/TypeScript è‹±æ–‡æ–‡æ¡£ï¼šhttp://www.typescriptlang.org/docs/home.html èƒ½åŠ›æœ‰é™ï¼Œæ°´å¹³ä¸€èˆ¬ï¼Œç¿»è¯‘ä¸å¦¥ä¹‹å¤„ï¼Œè¿˜æœ›æŒ‡æ­£ã€‚æ„Ÿè°¢ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"æ¯ä¸ªJavaScriptå¼€å‘äººå‘˜éƒ½åº”è¯¥çŸ¥é“çš„æ–°ES2018åŠŸèƒ½ï¼ˆè¯‘æ–‡ï¼‰","slug":"ES2018","date":"2019-01-13T07:40:24.000Z","updated":"2020-04-15T12:16:58.175Z","comments":true,"path":"2019/01/13/ES2018/","link":"","permalink":"https://timbok.github.io/2019/01/13/ES2018/","excerpt":"","text":"å‰è¨€ åŸæ–‡åœ°å€ï¼šhttps://css-tricks.com/new-es2018-features-every-javascript-developer-should-know/ åŸæ–‡ä½œè€…ï¼šFaraz Kelhini è¯‘è€…ï¼šTimbok ç¿»è¯‘å·¥å…·ï¼šGoogle Translate æ­£æ–‡ECMAScriptæ ‡å‡†çš„ç¬¬ä¹ç‰ˆï¼Œå®˜æ–¹ç§°ä¸ºECMAScript 2018ï¼ˆæˆ–ç®€ç§°ES2018ï¼‰ï¼Œäº2018å¹´6æœˆå‘å¸ƒã€‚ä»ES2016å¼€å§‹ï¼ŒECMAScriptè§„èŒƒçš„æ–°ç‰ˆæœ¬æ¯å¹´å‘å¸ƒè€Œä¸æ˜¯æ¯å‡ å¹´å‘å¸ƒä¸€æ¬¡ï¼Œå¹¶ä¸”æ·»åŠ çš„åŠŸèƒ½å°‘äºä¸»è¦ç‰ˆæœ¬ä»¥å‰ã€‚è¯¥æ ‡å‡†çš„æœ€æ–°ç‰ˆæœ¬é€šè¿‡æ·»åŠ å››ä¸ªæ–°RegExpåŠŸèƒ½ï¼Œrest/spreadå±æ€§ï¼Œasynchronous iterationï¼Œå’ŒPromise.prototype.finallyã€‚æ­¤å¤–ï¼ŒES2018ä»æ ‡è®°æ¨¡æ¿ä¸­åˆ é™¤äº†è½¬ä¹‰åºåˆ—çš„è¯­æ³•é™åˆ¶ã€‚ è¿™äº›æ–°å˜åŒ–å°†åœ¨åé¢çš„å°èŠ‚ä¸­è§£é‡Šã€‚ rest/spreadå±æ€§ES2015æœ€æœ‰è¶£çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯ç‚¹å·®è¿ç®—ç¬¦ã€‚è¯¥è¿ç®—ç¬¦ä½¿å¤åˆ¶å’Œåˆå¹¶æ•°ç»„å˜å¾—æ›´åŠ ç®€å•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿ç®—ç¬¦...ï¼Œè€Œä¸æ˜¯è°ƒç”¨concat()or slice()æ–¹æ³•ï¼š 12345678910111213const arr1 = [10, 20, 30];// make a copy of arr1const copy = [...arr1];console.log(copy); // â†’ [10, 20, 30]const arr2 = [40, 50];// merge arr2 with arr1const merge = [...arr1, ...arr2];console.log(merge); // â†’ [10, 20, 30, 40, 50] åœ¨å¿…é¡»ä½œä¸ºå‡½æ•°çš„å•ç‹¬å‚æ•°ä¼ å…¥æ•°ç»„çš„æƒ…å†µä¸‹ï¼Œæ‰©å±•è¿ç®—ç¬¦ä¹Ÿæ´¾ä¸Šç”¨åœºã€‚ä¾‹å¦‚ï¼š 12345const arr = [10, 20, 30]// equivalent to// console.log(Math.max(10, 20, 30));console.log(Math.max(...arr)); // â†’ 30 ES2018é€šè¿‡å‘å¯¹è±¡æ–‡å­—æ·»åŠ æ‰©å±•å±æ€§æ¥è¿›ä¸€æ­¥æ‰©å±•æ­¤è¯­æ³•ã€‚ä½¿ç”¨spreadå±æ€§ï¼Œæ‚¨å¯ä»¥å°†å¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸Šã€‚è¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š 1234567891011const obj1 = &#123; a: 10, b: 20&#125;;const obj2 = &#123; ...obj1, c: 30&#125;;console.log(obj2); // â†’ &#123;a: 10, b: 20, c: 30&#125; åœ¨æ­¤ä»£ç ä¸­ï¼Œ...è¿ç®—ç¬¦ç”¨äºæ£€ç´¢å±æ€§obj1å¹¶å°†å…¶åˆ†é…ç»™obj2ã€‚åœ¨ES2018ä¹‹å‰ï¼Œå°è¯•è¿™æ ·åšä¼šå¼•å‘é”™è¯¯ã€‚å¦‚æœæœ‰å¤šä¸ªå…·æœ‰ç›¸åŒåç§°çš„å±æ€§ï¼Œåˆ™å°†ä½¿ç”¨æœ€åä¸€ä¸ªå±æ€§ï¼š 1234567891011const obj1 = &#123; a: 10, b: 20&#125;;const obj2 = &#123; ...obj1, a: 30&#125;;console.log(obj2); // â†’ &#123;a: 30, b: 20&#125; Spreadå±æ€§è¿˜æä¾›äº†ä¸€ç§åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„æ–°æ–¹æ³•ï¼Œå¯ä»¥å°†å…¶ç”¨ä½œæ–¹æ³•çš„æ›¿ä»£Object.assign()æ–¹æ³•ï¼š 123456789const obj1 = &#123;a: 10&#125;;const obj2 = &#123;b: 20&#125;;const obj3 = &#123;c: 30&#125;;// ES2018console.log(&#123;...obj1, ...obj2, ...obj3&#125;); // â†’ &#123;a: 10, b: 20, c: 30&#125;// ES2015console.log(Object.assign(&#123;&#125;, obj1, obj2, obj3)); // â†’ &#123;a: 10, b: 20, c: 30&#125; ä½†è¯·æ³¨æ„ï¼Œspreadå±æ€§å¹¶ä¸æ€»æ˜¯äº§ç”Ÿç›¸åŒçš„ç»“æœObject.assign()ã€‚è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š 1234567891011121314Object.defineProperty(Object.prototype, 'a', &#123; set(value) &#123; console.log('set called!'); &#125;&#125;);const obj = &#123;a: 10&#125;;console.log(&#123;...obj&#125;); // â†’ &#123;a: 10&#125;console.log(Object.assign(&#123;&#125;, obj)); // â†’ set called!// â†’ &#123;&#125; åœ¨æ­¤ä»£ç ä¸­ï¼Œè¯¥Object.assign()æ–¹æ³•æ‰§è¡Œç»§æ‰¿çš„setterå±æ€§ã€‚ç›¸åï¼Œä¼ æ’­å±æ€§å®Œå…¨å¿½ç•¥äº†setterã€‚ é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œspreadå±æ€§åªå¤åˆ¶å¯æšä¸¾çš„å±æ€§ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œtypeå±æ€§ä¸ä¼šæ˜¾ç¤ºåœ¨å¤åˆ¶çš„å¯¹è±¡ä¸­ï¼Œå› ä¸ºå…¶enumerableå±æ€§è®¾ç½®ä¸ºfalseï¼š 12345678910const car = &#123; color: 'blue'&#125;;Object.defineProperty(car, 'type', &#123; value: 'coupe', enumerable: false&#125;);console.log(&#123;...car&#125;); // â†’ &#123;color: \"blue\"&#125; å³ä½¿å®ƒä»¬æ˜¯å¯æšä¸¾çš„ï¼Œä¹Ÿä¼šå¿½ç•¥ç»§æ‰¿çš„å±æ€§ï¼š 123456789101112131415161718const car = &#123; color: 'blue'&#125;;const car2 = Object.create(car, &#123; type: &#123; value: 'coupe', enumerable: true, &#125;&#125;);console.log(car2.color); // â†’ blueconsole.log(car2.hasOwnProperty('color')); // â†’ falseconsole.log(car2.type); // â†’ coupeconsole.log(car2.hasOwnProperty('type')); // â†’ trueconsole.log(&#123;...car2&#125;); // â†’ &#123;type: \"coupe\"&#125; åœ¨æ­¤ä»£ç ä¸­ï¼Œcar2ç»§æ‰¿colorå±æ€§carã€‚å› ä¸ºspreadå±æ€§åªå¤åˆ¶å¯¹è±¡çš„è‡ªå·±çš„å±æ€§ï¼Œcoloræ‰€ä»¥ä¸åŒ…å«åœ¨è¿”å›å€¼ä¸­ã€‚ è¯·è®°ä½ï¼Œspreadå±æ€§åªèƒ½ç”Ÿæˆå¯¹è±¡çš„æµ…è¡¨å‰¯æœ¬ã€‚å¦‚æœå±æ€§åŒ…å«å¯¹è±¡ï¼Œåˆ™ä»…å¤åˆ¶å¯¹è±¡çš„å¼•ç”¨ï¼š 12345const obj = &#123;x: &#123;y: 10&#125;&#125;;const copy1 = &#123;...obj&#125;; const copy2 = &#123;...obj&#125;; console.log(copy1.x === copy2.x); // â†’ true è¿™é‡Œcopy1å’Œcopy2çš„xæ˜¯æŒ‡åœ¨å†…å­˜ä¸­çš„åŒä¸€å¯¹è±¡ï¼Œæ‰€ä»¥å…¨ç­‰è¿ç®—è¿”å›trueã€‚ ES2015ä¸­æ·»åŠ çš„å¦ä¸€ä¸ªæœ‰ç”¨åŠŸèƒ½æ˜¯restå‚æ•°ï¼Œå®ƒä½¿JavaScriptç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨å®ƒ...æ¥è¡¨ç¤ºå€¼ä½œä¸ºæ•°ç»„ã€‚ä¾‹å¦‚ï¼š 12345const arr = [10, 20, 30];const [x, ...rest] = arr;console.log(x); // â†’ 10console.log(rest); // â†’ [20, 30] è¿™é‡Œï¼Œarrçš„ç¬¬ä¸€ä¸ªå€¼è¢«åˆ†é…ç»™å¯¹åº”çš„xï¼Œè€Œå‰©ä½™çš„å…ƒç´ è¢«åˆ†é…ç»™restå˜é‡ã€‚è¿™ç§ç§°ä¸ºé˜µåˆ—è§£æ„çš„æ¨¡å¼å˜å¾—å¦‚æ­¤å—æ¬¢è¿ï¼Œä»¥è‡³äºEcmaæŠ€æœ¯å§”å‘˜ä¼šå†³å®šä¸ºå¯¹è±¡å¸¦æ¥ç±»ä¼¼çš„åŠŸèƒ½ï¼š 12345678910const obj = &#123; a: 10, b: 20, c: 30&#125;;const &#123;a, ...rest&#125; = obj;console.log(a); // â†’ 10console.log(rest); // â†’ &#123;b: 20, c: 30&#125; æ­¤ä»£ç ä½¿ç”¨è§£æ„èµ‹å€¼ä¸­çš„å…¶ä½™å±æ€§å°†å‰©ä½™çš„è‡ªèº«å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ã€‚è¯·æ³¨æ„ï¼Œrestå±æ€§å¿…é¡»å§‹ç»ˆå‡ºç°åœ¨å¯¹è±¡çš„æœ«å°¾ï¼Œå¦åˆ™ä¼šå¼•å‘é”™è¯¯ï¼š 1234567const obj = &#123; a: 10, b: 20, c: 30&#125;;const &#123;...rest, a&#125; = obj; // â†’ SyntaxError: Rest element must be last element è¿˜è¦è®°ä½ï¼Œåœ¨å¯¹è±¡ä¸­ä½¿ç”¨å¤šä¸ªrestä¼šå¯¼è‡´é”™è¯¯ï¼Œé™¤éå®ƒä»¬æ˜¯åµŒå¥—çš„ï¼š 123456789101112const obj = &#123; a: 10, b: &#123; x: 20, y: 30, z: 40 &#125;&#125;;const &#123;b: &#123;x, ...rest1&#125;, ...rest2&#125; = obj; // no errorconst &#123;...rest, ...rest2&#125; = obj; // â†’ SyntaxError: Rest element must be last element Support for Rest/Spread Chrome Firefox Safari Edge 60 55 11.1 No Chrome Android Firefox Android iOS Safari Edge Mobile Samsung Internet Android Webview 60 55 11.3 No 8.2 60 Node.js 8.0.0ï¼ˆè¿è¡Œæ—¶éœ€è¦åŠ -harmonyï¼‰ 8.3.0ï¼ˆå®Œå…¨æ”¯æŒï¼‰ Asynchronous Iteration(å¼‚æ­¥è¿­ä»£)è¿­ä»£æ•°æ®é›†æ˜¯ç¼–ç¨‹çš„é‡è¦éƒ¨åˆ†ã€‚æ­¤å‰ES2015ï¼Œæä¾›çš„JavaScriptè¯­å¥å¦‚forï¼Œfor...inå’Œwhileï¼Œå’Œæ–¹æ³•map()ï¼Œfilter()ä»¥åŠforEach()éƒ½ç”¨äºæ­¤ç›®çš„ã€‚ä¸ºäº†ä½¿ç¨‹åºå‘˜èƒ½å¤Ÿä¸€æ¬¡ä¸€ä¸ªåœ°å¤„ç†é›†åˆä¸­çš„å…ƒç´ ï¼ŒES2015å¼•å…¥äº†è¿­ä»£å™¨æ¥å£ã€‚ å¦‚æœå¯¹è±¡å…·æœ‰Symbol.iteratorå±æ€§ï¼Œåˆ™è¯¥å¯¹è±¡æ˜¯å¯è¿­ä»£çš„ã€‚åœ¨ES2015ä¸­ï¼Œå­—ç¬¦ä¸²å’Œé›†åˆå¯¹è±¡ï¼ˆå¦‚Setï¼ŒMapå’ŒArrayï¼‰å¸¦æœ‰Symbol.iteratorå±æ€§ï¼Œå› æ­¤å¯ä»¥è¿­ä»£ã€‚ä»¥ä¸‹ä»£ç ç»™å‡ºäº†å¦‚ä½•ä¸€æ¬¡è®¿é—®å¯è¿­ä»£å…ƒç´ çš„ç¤ºä¾‹ï¼š 1234567const arr = [10, 20, 30];const iterator = arr[Symbol.iterator](); console.log(iterator.next()); // â†’ &#123;value: 10, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 20, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 30, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: undefined, done: true&#125; Symbol.iteratoræ˜¯ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„ç¬¦å·ï¼ŒæŒ‡å®šä¸€ä¸ªè¿”å›è¿­ä»£å™¨çš„å‡½æ•°ã€‚ä¸è¿­ä»£å™¨äº¤äº’çš„ä¸»è¦æ–¹æ³•æ˜¯next()æ–¹æ³•ã€‚æ­¤æ–¹æ³•è¿”å›å…·æœ‰ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼švalueå’Œdoneã€‚valueå±æ€§ä¸ºé›†åˆä¸­ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚doneå±æ€§çš„å€¼ä¸ºtrueæˆ–falseè¡¨ç¤ºé›†åˆæ˜¯å¦è¿­ä»£å®Œæˆã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ™®é€šå¯¹è±¡ä¸å¯è¿­ä»£ï¼Œä½†å¦‚æœåœ¨å…¶ä¸Šå®šä¹‰Symbol.iteratorå±æ€§ï¼Œåˆ™å®ƒå¯ä»¥å˜ä¸ºå¯è¿­ä»£ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324const collection = &#123; a: 10, b: 20, c: 30, [Symbol.iterator]() &#123; const values = Object.keys(this); let i = 0; return &#123; next: () =&gt; &#123; return &#123; value: this[values[i++]], done: i &gt; values.length &#125; &#125; &#125;; &#125;&#125;;const iterator = collection[Symbol.iterator](); console.log(iterator.next()); // â†’ &#123;value: 10, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 20, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 30, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: undefined, done: true&#125; æ­¤å¯¹è±¡æ˜¯å¯è¿­ä»£çš„ï¼Œå› ä¸ºå®ƒå®šä¹‰äº†ä¸€ä¸ªSymbol.iteratorå±æ€§ã€‚è¿­ä»£å™¨ä½¿ç”¨è¯¥Object.keys()æ–¹æ³•è·å–å¯¹è±¡å±æ€§åç§°çš„æ•°ç»„ï¼Œç„¶åå°†å…¶åˆ†é…ç»™valueså¸¸é‡ã€‚å®ƒè¿˜å®šä¹‰äº†ä¸€ä¸ªè®¡æ•°å™¨å˜é‡iï¼Œå¹¶ç»™å®ƒä¸€ä¸ªåˆå§‹å€¼0.å½“æ‰§è¡Œè¿­ä»£å™¨æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«next()æ–¹æ³•çš„å¯¹è±¡ã€‚æ¯æ¬¡è°ƒç”¨next()æ–¹æ³•æ—¶ï¼Œå®ƒéƒ½è¿”å›ä¸€å¯¹{value, done}ï¼Œvalueä¿æŒé›†åˆä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ å¹¶doneä¿æŒä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºè¿­ä»£å™¨æ˜¯å¦å·²è¾¾åˆ°é›†åˆçš„éœ€è¦ã€‚ è™½ç„¶è¿™æ®µä»£ç å®Œç¾æ— ç¼ºï¼Œä½†å´ä¸å¿…è¦ã€‚ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°å¯ä»¥å¤§å¤§ç®€åŒ–è¿‡ç¨‹ï¼š 1234567891011121314151617const collection = &#123; a: 10, b: 20, c: 30, [Symbol.iterator]: function * () &#123; for (let key in this) &#123; yield this[key]; &#125; &#125;&#125;;const iterator = collection[Symbol.iterator](); console.log(iterator.next()); // â†’ &#123;value: 10, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 20, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: 30, done: false&#125;console.log(iterator.next()); // â†’ &#123;value: undefined, done: true&#125; åœ¨è¿™ä¸ªç”Ÿæˆå™¨ä¸­ï¼Œfor...inå¾ªç¯ç”¨äºæšä¸¾é›†åˆå¹¶äº§ç”Ÿæ¯ä¸ªå±æ€§çš„å€¼ã€‚ç»“æœä¸å‰ä¸€ä¸ªç¤ºä¾‹å®Œå…¨ç›¸åŒï¼Œä½†å®ƒå¤§å¤§ç¼©çŸ­äº†ã€‚ è¿­ä»£å™¨çš„ç¼ºç‚¹æ˜¯å®ƒä»¬ä¸é€‚åˆè¡¨ç¤ºå¼‚æ­¥æ•°æ®æºã€‚ES2018çš„è¡¥æ•‘è§£å†³æ–¹æ¡ˆæ˜¯å¼‚æ­¥è¿­ä»£å™¨å’Œå¼‚æ­¥è¿­ä»£ã€‚å¼‚æ­¥è¿­ä»£å™¨ä¸ä¼ ç»Ÿè¿­ä»£å™¨çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¸æ˜¯ä»¥å½¢å¼è¿”å›æ™®é€šå¯¹è±¡{value, done}ï¼Œè€Œæ˜¯è¿”å›å±¥è¡Œçš„æ‰¿è¯º{value, done}ã€‚å¼‚æ­¥è¿­ä»£å®šä¹‰äº†ä¸€ä¸ªè¿”å›å¼‚æ­¥è¿­ä»£å™¨çš„Symbol.asyncIteratoræ–¹æ³•ï¼ˆè€Œä¸æ˜¯Symbol.iteratorï¼‰ã€‚ ä¸€ä¸ªä¾‹å­è®©è¿™ä¸ªæ›´æ¸…æ¥šï¼š 1234567891011121314151617181920212223242526272829303132333435const collection = &#123; a: 10, b: 20, c: 30, [Symbol.asyncIterator]() &#123; const values = Object.keys(this); let i = 0; return &#123; next: () =&gt; &#123; return Promise.resolve(&#123; value: this[values[i++]], done: i &gt; values.length &#125;); &#125; &#125;; &#125;&#125;;const iterator = collection[Symbol.asyncIterator](); console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 10, done: false&#125;&#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 20, done: false&#125; &#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 30, done: false&#125; &#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: undefined, done: true&#125; &#125;)); è¯·æ³¨æ„ï¼Œä¸å¯ä½¿ç”¨promisesçš„è¿­ä»£å™¨æ¥å®ç°ç›¸åŒçš„ç»“æœã€‚è™½ç„¶æ™®é€šçš„åŒæ­¥è¿­ä»£å™¨å¯ä»¥å¼‚æ­¥ç¡®å®šå€¼ï¼Œä½†å®ƒä»ç„¶éœ€è¦åŒæ­¥ç¡®å®šdoneçš„çŠ¶æ€ã€‚ åŒæ ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°ç®€åŒ–è¿‡ç¨‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213141516171819202122232425262728const collection = &#123; a: 10, b: 20, c: 30, [Symbol.asyncIterator]: async function * () &#123; for (let key in this) &#123; yield this[key]; &#125; &#125;&#125;;const iterator = collection[Symbol.asyncIterator](); console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 10, done: false&#125;&#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 20, done: false&#125; &#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: 30, done: false&#125; &#125;));console.log(iterator.next().then(result =&gt; &#123; console.log(result); // â†’ &#123;value: undefined, done: true&#125; &#125;)); é€šå¸¸ï¼Œç”Ÿæˆå™¨å‡½æ•°è¿”å›å¸¦æœ‰next()æ–¹æ³•çš„ç”Ÿæˆå™¨å¯¹è±¡ã€‚å½“è°ƒç”¨next()æ—¶ï¼Œå®ƒè¿”å›ä¸€ä¸ª{valueï¼Œdone}ï¼Œå…¶valueå±æ€§ä¿å­˜äº†yieldå€¼ã€‚å¼‚æ­¥ç”Ÿæˆå™¨æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œé™¤äº†å®ƒè¿”å›ä¸€ä¸ªå±¥è¡Œ{valueï¼Œdone}çš„promiseã€‚ è¿­ä»£å¯è¿­ä»£å¯¹è±¡çš„ä¸€ç§ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨for...ofè¯­å¥ï¼Œä½†æ˜¯for...ofä¸èƒ½ä¸async iterablesä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºvalueå’Œdoneä¸æ˜¯åŒæ­¥ç¡®å®šçš„ã€‚å› æ­¤ï¼ŒES2018æä¾›äº†for...await...ofã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š 123456789101112131415161718192021const collection = &#123; a: 10, b: 20, c: 30, [Symbol.asyncIterator]: async function * () &#123; for (let key in this) &#123; yield this[key]; &#125; &#125;&#125;;(async function () &#123; for await (const x of collection) &#123; console.log(x); &#125;&#125;)();// logs:// â†’ 10// â†’ 20// â†’ 30 åœ¨æ­¤ä»£ç ä¸­ï¼Œfor...await...ofè¯­å¥éšå¼è°ƒç”¨Symbol.asyncIteratoré›†åˆå¯¹è±¡ä¸Šçš„æ–¹æ³•ä»¥è·å–å¼‚æ­¥è¿­ä»£å™¨ã€‚æ¯æ¬¡å¾ªç¯æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨è¿­ä»£å™¨çš„next()æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªpromiseã€‚ä¸€æ—¦è§£æäº†promiseï¼Œå°±ä¼šå°†ç»“æœå¯¹è±¡çš„valueå±æ€§è¯»å–åˆ°xå˜é‡ä¸­ã€‚å¾ªç¯ç»§ç»­ï¼Œç›´åˆ°è¿”å›çš„å¯¹è±¡çš„doneå±æ€§å€¼ä¸ºtrueã€‚ è¯·è®°ä½ï¼Œè¯¥for...await...ofè¯­å¥ä»…åœ¨å¼‚æ­¥ç”Ÿæˆå™¨å’Œå¼‚æ­¥å‡½æ•°ä¸­æœ‰æ•ˆã€‚è¿åæ­¤è§„åˆ™ä¼šå¯¼è‡´ä¸€ä¸ªSyntaxErroræŠ¥é”™ã€‚ next()æ–¹æ³•å¯èƒ½ä¼šè¿”å›æ‹’ç»çš„promiseã€‚è¦ä¼˜é›…åœ°å¤„ç†è¢«æ‹’ç»çš„promiseï¼Œæ‚¨å¯ä»¥å°†for...await...ofè¯­å¥åŒ…è£…åœ¨è¯­å¥ä¸­try...catchï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314151617181920const collection = &#123; [Symbol.asyncIterator]() &#123; return &#123; next: () =&gt; &#123; return Promise.reject(new Error('Something went wrong.')) &#125; &#125;; &#125;&#125;;(async function() &#123; try &#123; for await (const value of collection) &#123;&#125; &#125; catch (error) &#123; console.log('Caught: ' + error.message); &#125;&#125;)();// logs:// â†’ Caught: Something went wrong. Support for Asynchronous Iterators Chrome Firefox Safari Edge 63 57 12 No Chrome Android Firefox Android iOS Safari Edge Mobile Samsung Internet Android Webview 63 57 12 No 8.2 63 Node.js 8.0.0ï¼ˆè¿è¡Œæ—¶éœ€è¦åŠ -harmonyï¼‰ 8.3.0ï¼ˆå®Œå…¨æ”¯æŒï¼‰ Promise.prototype.finallyES2018çš„å¦ä¸€ä¸ªä»¤äººå…´å¥‹çš„è¡¥å……æ˜¯finally()æ–¹æ³•ã€‚ä¸€äº›JavaScriptåº“ä¹‹å‰å·²ç»å®ç°äº†ç±»ä¼¼çš„æ–¹æ³•ï¼Œè¿™åœ¨è®¸å¤šæƒ…å†µä¸‹è¯æ˜æ˜¯æœ‰ç”¨çš„ã€‚è¿™é¼“åŠ±äº†EcmaæŠ€æœ¯å§”å‘˜ä¼šæ­£å¼æ·»åŠ finally()åˆ°è§„èŒƒä¸­ã€‚ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œç¨‹åºå‘˜å°†èƒ½ä¸ç®¡promiseçš„ç»“æœå¦‚ä½•ï¼Œéƒ½èƒ½æ‰§è¡Œä¸€ä¸ªä»£ç å—ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 12345678910fetch('https://www.google.com') .then((response) =&gt; &#123; console.log(response.status); &#125;) .catch((error) =&gt; &#123; console.log(error); &#125;) .finally(() =&gt; &#123; document.querySelector('#spinner').style.display = 'none'; &#125;); finally()æ— è®ºæ“ä½œæ˜¯å¦æˆåŠŸï¼Œå½“æ‚¨éœ€è¦åœ¨æ“ä½œå®Œæˆåè¿›è¡Œä¸€äº›æ¸…ç†æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šæ´¾ä¸Šç”¨åœºã€‚åœ¨æ­¤ä»£ç ä¸­ï¼Œè¯¥finally()æ–¹æ³•åªæ˜¯åœ¨è·å–å’Œå¤„ç†æ•°æ®åéšè—åŠ è½½å¾®è°ƒå™¨ã€‚ä»£ç ä¸æ˜¯åœ¨then()å’Œcatch()æ–¹æ³•ä¸­å¤åˆ¶æœ€ç»ˆé€»è¾‘ï¼Œè€Œæ˜¯åœ¨promiseè¢«fulfilledæˆ–rejectedåæ³¨å†Œè¦æ‰§è¡Œçš„å‡½æ•°ã€‚ ä½ å¯ä»¥ä½¿ç”¨promise.then(funcï¼Œfunc)è€Œä¸æ˜¯promise.finally(func)æ¥å®ç°ç›¸åŒçš„ç»“æœï¼Œä½†ä½ å¿…é¡»åœ¨fulfillmentå¤„ç†ç¨‹åºå’Œrejectionå¤„ç†ç¨‹åºä¸­é‡å¤ç›¸åŒçš„ä»£ç ï¼Œæˆ–è€…ä¸ºå®ƒå£°æ˜ä¸€ä¸ªå˜é‡ï¼š 123456789101112fetch('https://www.google.com') .then((response) =&gt; &#123; console.log(response.status); &#125;) .catch((error) =&gt; &#123; console.log(error); &#125;) .then(final, final);function final() &#123; document.querySelector('#spinner').style.display = 'none';&#125; å’Œthen()å’Œcatch()ä¸€æ ·ï¼Œfinally()æ–¹æ³•æ€»æ˜¯è¿”å›ä¸€ä¸ªpromiseï¼Œå› æ­¤å¯ä»¥é“¾æ¥æ›´å¤šçš„æ–¹æ³•ã€‚é€šå¸¸ï¼Œæ‚¨å¸Œæœ›ä½¿ç”¨finally()ä½œä¸ºæœ€åä¸€ä¸ªé“¾ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚åœ¨å‘å‡ºHTTPè¯·æ±‚æ—¶ï¼Œæœ€å¥½é“¾æ¥å¦ä¸€ä¸ªcatch()ä»¥å¤„ç†finally()ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ã€‚ Support for Promise.prototype.finally Chrome Firefox Safari Edge 63 58 11.1 18 Chrome Android Firefox Android iOS Safari Edge Mobile Samsung Internet Android Webview 63 58 11.1 No 8.2 63 Node.js 10.0.0ï¼ˆå®Œå…¨æ”¯æŒï¼‰ æ–°çš„RegExpåŠŸèƒ½ES2018ä¸ºè¯¥RegExpå¯¹è±¡å¢åŠ äº†å››ä¸ªæ–°åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥æé«˜äº†JavaScriptçš„å­—ç¬¦ä¸²å¤„ç†èƒ½åŠ›ã€‚è¿™äº›åŠŸèƒ½å¦‚ä¸‹ï¼š Sï¼ˆDOTALLï¼‰æ ‡å¿— Named Capture Groups(å‘½åæ•è·ç»„) Lookbehind Assertions(åå‘æ–­è¨€) Unicode Property Escapes(Unicodeå±æ€§è½¬ä¹‰) Sï¼ˆDOTALLï¼‰æ ‡å¿—ç‚¹ï¼ˆ.ï¼‰æ˜¯æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå®ƒåŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰æˆ–å›è½¦ç¬¦ï¼ˆ\\rï¼‰ã€‚åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰çš„è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨å…·æœ‰ä¸¤ä¸ªç›¸åçŸ­å­—çš„å­—ç¬¦ç±»ï¼Œä¾‹å¦‚[\\d\\D]ã€‚æ­¤å­—ç¬¦ç±»å‘Šè¯‰æ­£åˆ™è¡¨è¾¾å¼å¼•æ“æ‰¾åˆ°ä¸€ä¸ªæ•°å­—ï¼ˆ\\dï¼‰æˆ–éæ•°å­—ï¼ˆ\\Dï¼‰çš„å­—ç¬¦ã€‚å› æ­¤ï¼Œå®ƒåŒ¹é…ä»»ä½•å­—ç¬¦ï¼š 1console.log(/one[\\d\\D]two/.test('one\\ntwo')); // â†’ true ES2018å¼•å…¥äº†ä¸€ç§æ¨¡å¼ï¼Œå…¶ä¸­ç‚¹å¯ç”¨äºå®ç°ç›¸åŒçš„ç»“æœã€‚å¯ä»¥ä½¿ç”¨sæ ‡å¿—åœ¨æ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€ä¸Šæ¿€æ´»æ­¤æ¨¡å¼ï¼š 12console.log(/one.two/.test('one\\ntwo')); // â†’ falseconsole.log(/one.two/s.test('one\\ntwo')); // â†’ true ä½¿ç”¨æ ‡å¿—æ¥é€‰æ‹©æ–°è¡Œä¸ºçš„å¥½å¤„æ˜¯å‘åå…¼å®¹æ€§ã€‚å› æ­¤ï¼Œä½¿ç”¨ç‚¹å­—ç¬¦çš„ç°æœ‰æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸å—å½±å“ã€‚ Named Capture Groups(å‘½åæ•è·ç»„)åœ¨ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ï¼Œä½¿ç”¨æ•°å­—æ¥å¼•ç”¨æ•è·ç»„å¯èƒ½ä¼šä»¤äººå›°æƒ‘ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨/(\\d{4})-(\\d{2})-(\\d{2})/ä¸æ—¥æœŸåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ç”±äºç¾å¼è‹±è¯­ä¸­çš„æ—¥æœŸç¬¦å·ä¸è‹±å¼è‹±è¯­ä¸åŒï¼Œå› æ­¤å¾ˆéš¾çŸ¥é“å“ªä¸ªç»„æŒ‡çš„æ˜¯å“ªä¸€å¤©ï¼Œå“ªä¸ªç»„æŒ‡çš„æ˜¯æœˆä»½ï¼š 1234567const re = /(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)/;const match= re.exec('2019-01-10');console.log(match[0]); // â†’ 2019-01-10console.log(match[1]); // â†’ 2019console.log(match[2]); // â†’ 01console.log(match[3]); // â†’ 10 ES2018å¼•å…¥äº†ä½¿ç”¨(?&lt;name&gt;...)è¯­æ³•çš„å‘½åæ•è·ç»„ã€‚å› æ­¤ï¼ŒåŒ¹é…æ—¥æœŸçš„æ¨¡å¼å¯ä»¥ç”¨ä¸é‚£ä¹ˆæ¨¡ç³Šçš„æ–¹å¼ç¼–å†™ï¼š 1234567const re = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/;const match = re.exec('2019-01-10');console.log(match.groups); // â†’ &#123;year: \"2019\", month: \"01\", day: \"10\"&#125;console.log(match.groups.year); // â†’ 2019console.log(match.groups.month); // â†’ 01console.log(match.groups.day); // â†’ 10 æ‚¨å¯ä»¥ä½¿ç”¨\\k&lt;name&gt;è¯­æ³•åœ¨æ¨¡å¼ä¸­ç¨åè°ƒç”¨å‘½åçš„æ•è·ç»„ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨å¥å­ä¸­æŸ¥æ‰¾è¿ç»­çš„é‡å¤å•è¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨/\\b(?&lt;dup&gt;\\w+)\\s+\\k&lt;dup&gt;\\b/ï¼š 12345const re = /\\b(?&lt;dup&gt;\\w+)\\s+\\k&lt;dup&gt;\\b/;const match = re.exec('Get that that cat off the table!'); console.log(match.index); // â†’ 4console.log(match[0]); // â†’ that that è¦å°†å‘½åçš„æ•è·ç»„æ’å…¥åˆ°æ–¹æ³•çš„æ›¿æ¢å­—ç¬¦ä¸²ä¸­replace()ï¼Œæ‚¨éœ€è¦ä½¿ç”¨$&lt;name&gt;æ„é€ ã€‚ä¾‹å¦‚ï¼š 1234567const str = 'red &amp; blue';console.log(str.replace(/(red) &amp; (blue)/, '$2 &amp; $1')); // â†’ blue &amp; redconsole.log(str.replace(/(?&lt;red&gt;red) &amp; (?&lt;blue&gt;blue)/, '$&lt;blue&gt; &amp; $&lt;red&gt;')); // â†’ blue &amp; red Lookbehind Assertions(åå‘æ–­è¨€)ES2018ä¸ºJavaScriptå¸¦æ¥äº†åå‘æ€§æ–­è¨€ï¼Œè¿™äº›æ–­è¨€å·²ç»åœ¨å…¶ä»–æ­£åˆ™è¡¨è¾¾å¼å®ç°ä¸­å¯ç”¨å¤šå¹´ã€‚ä»¥å‰ï¼ŒJavaScriptåªæ”¯æŒè¶…å‰æ–­è¨€ã€‚åå‘æ–­è¨€ç”¨è¡¨ç¤º(?&lt;=...)ï¼Œå¹¶ä½¿æ‚¨èƒ½å¤ŸåŒ¹é…åŸºäºæ¨¡å¼ä¹‹å‰çš„å­å­—ç¬¦ä¸²çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦åœ¨ä¸æ•è·è´§å¸ç¬¦å·çš„æƒ…å†µä¸‹ä»¥ç¾å…ƒï¼Œè‹±é•‘æˆ–æ¬§å…ƒåŒ¹é…äº§å“çš„ä»·æ ¼ï¼Œåˆ™å¯ä»¥ä½¿ç”¨/(?&lt;=\\$|Â£|â‚¬)\\d+(\\.\\d*)?/ï¼š 12345678910const re = /(?&lt;=\\$|Â£|â‚¬)\\d+(\\.\\d*)?/;console.log(re.exec('199')); // â†’ nullconsole.log(re.exec('$199')); // â†’ [\"199\", undefined, index: 1, input: \"$199\", groups: undefined]console.log(re.exec('â‚¬50')); // â†’ [\"50\", undefined, index: 1, input: \"â‚¬50\", groups: undefined] è¿˜æœ‰ä¸€ä¸ªlookbehindçš„å¦å®šç‰ˆæœ¬ï¼Œç”¨(?&lt;!...)ï¼Œåªæœ‰å½“æ¨¡å¼å‰é¢æ²¡æœ‰lookbehindä¸­çš„æ¨¡å¼æ—¶ï¼Œè´Ÿlookbehindæ‰å…è®¸æ‚¨åŒ¹é…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œæ¨¡å¼/(?&lt;!un)available/åŒ¹é…æ²¡æœ‰â€œunâ€å‰ç¼€çš„å¯ç”¨è¯ è¿™æ®µç¿»è¯‘çš„ä¸å¥½ï¼Œæ”¾ä¸ŠåŸæ–‡ There is also a negative version of lookbehind, which is denoted by (?&lt;!...). A negative lookbehind allows you to match a pattern only if it is not preceded by the pattern within the lookbehind. For example, the pattern /(?&lt;!un)available/ matches the word available if it does not have a â€œunâ€ prefix: Unicode Property Escapes(Unicodeå±æ€§è½¬ä¹‰)ES2018æä¾›äº†ä¸€ç§ç§°ä¸ºUnicodeå±æ€§è½¬ä¹‰çš„æ–°ç±»å‹è½¬ä¹‰åºåˆ—ï¼Œå®ƒåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æä¾›å¯¹å®Œæ•´Unicodeçš„æ”¯æŒã€‚å‡è®¾æ‚¨è¦åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…Unicodeå­—ç¬¦ã‰›ã€‚è™½ç„¶ã‰›è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä½†æ˜¯ä½ ä¸èƒ½å°†å®ƒä¸\\dé€Ÿè®°å­—ç¬¦ç±»åŒ¹é…ï¼Œå› ä¸ºå®ƒåªæ”¯æŒASCII [0-9]å­—ç¬¦ã€‚å¦ä¸€æ–¹é¢ï¼ŒUnicodeå±æ€§è½¬ä¹‰å¯ç”¨äºåŒ¹é…Unicodeä¸­çš„ä»»ä½•åè¿›åˆ¶æ•°ï¼š 1234const str = 'ã‰›';console.log(/\\d/u.test(str)); // â†’ falseconsole.log(/\\p&#123;Number&#125;/u.test(str)); // â†’ true åŒæ ·ï¼Œå¦‚æœè¦åŒ¹é…ä»»ä½•Unicodeå­—æ¯å­—ç¬¦ï¼Œä½ å¯ä»¥ä½¿ç”¨\\p{Alphabetic}ï¼š 123456const str = 'Ø¶';console.log(/\\p&#123;Alphabetic&#125;/u.test(str)); // â†’ true// the \\w shorthand cannot match Ø¶ console.log(/\\w/u.test(str)); // â†’ false è¿˜æœ‰ä¸€ä¸ªå¦å®šç‰ˆæœ¬\\p{...}ï¼Œè¡¨ç¤ºä¸º\\P{...}ï¼š 12345console.log(/\\P&#123;Number&#125;/u.test('ã‰›')); // â†’ falseconsole.log(/\\P&#123;Number&#125;/u.test('Ø¶')); // â†’ trueconsole.log(/\\P&#123;Alphabetic&#125;/u.test('ã‰›')); // â†’ trueconsole.log(/\\P&#123;Alphabetic&#125;/u.test('Ø¶')); // â†’ false é™¤äº†å­—æ¯å’Œæ•°å­—ä¹‹å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªå±æ€§å¯ä»¥åœ¨Unicodeå±æ€§è½¬ä¹‰ä¸­ä½¿ç”¨ã€‚æ‚¨å¯ä»¥åœ¨å½“å‰è§„èŒƒææ¡ˆä¸­æ‰¾åˆ°æ”¯æŒçš„Unicodeå±æ€§åˆ—è¡¨ã€‚ Support for New RegExp * Chrome Firefox Safari Edge Sï¼ˆDOTALLï¼‰æ ‡å¿— 62 No 11.1 No å‘½åæ•è·ç»„ 64 No 11.1 No åå‘æ–­è¨€ 62 No No No Unicodeå±æ€§è½¬ä¹‰ 64 No 11.1 No * Chrome Android Firefox Android iOS Safari Edge Mobile Samsung Internet Android Webview Sï¼ˆDOTALLï¼‰æ ‡å¿— 62 No 11.3 No 8.2 62 å‘½åæ•è·ç»„ 64 No 11.3 No No 64 åå‘æ–­è¨€ 62 No No No 8.2 62 Unicodeå±æ€§è½¬ä¹‰ 64 No 11.3 No No 64 Node.js 8.3.0 (è¿è¡Œæ—¶éœ€è¦åŠ -harmony) 8.10.0 (support for s (dotAll) flag and lookbehind assertions) 10.0.0 (å®Œå…¨æ”¯æŒ) æ¨¡æ¿å­—ç¬¦ä¸²å½“æ¨¡æ¿å­—ç¬¦ä¸²ç´§è·Ÿåœ¨è¡¨è¾¾å¼ä¹‹åæ—¶ï¼Œå®ƒè¢«ç§°ä¸ºæ ‡è®°æ¨¡æ¿å­—ç¬¦ä¸²ã€‚å½“æ‚¨æƒ³è¦ä½¿ç”¨å‡½æ•°è§£ææ¨¡æ¿æ–‡å­—æ—¶ï¼Œæ ‡è®°çš„æ¨¡æ¿ä¼šæ´¾ä¸Šç”¨åœºã€‚è¯·è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š 1234567891011function fn(string, substitute) &#123; if(substitute === 'ES6') &#123; substitute = 'ES2015' &#125; return substitute + string[1];&#125;const version = 'ES6';const result = fn`$&#123;version&#125; was a major update`;console.log(result); // â†’ ES2015 was a major update åœ¨æ­¤ä»£ç ä¸­ï¼Œè°ƒç”¨æ ‡è®°è¡¨è¾¾å¼ï¼ˆå®ƒæ˜¯å¸¸è§„å‡½æ•°ï¼‰å¹¶ä¼ é€’æ¨¡æ¿æ–‡å­—ã€‚è¯¥å‡½æ•°åªæ˜¯ä¿®æ”¹å­—ç¬¦ä¸²çš„åŠ¨æ€éƒ¨åˆ†å¹¶è¿”å›å®ƒã€‚ åœ¨ES2018ä¹‹å‰ï¼Œæ ‡è®°çš„æ¨¡æ¿å­—ç¬¦ä¸²å…·æœ‰ä¸è½¬ä¹‰åºåˆ—ç›¸å…³çš„è¯­æ³•é™åˆ¶ã€‚åæ–œæ åè·ŸæŸäº›å­—ç¬¦åºåˆ—è¢«è§†ä¸ºç‰¹æ®Šå­—ç¬¦ï¼š\\xè§£é‡Šä¸ºåå…­è¿›åˆ¶è½¬ä¹‰ç¬¦ï¼Œ\\uè§£é‡Šä¸ºunicodeè½¬ä¹‰ç¬¦ï¼Œ\\åè·Ÿä¸€ä¸ªæ•°å­—è§£é‡Šä¸ºå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚å…¶ç»“æœæ˜¯ï¼Œå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€C:\\xxx\\uuuâ€œæˆ–è€…â€\\ubuntuâ€œè¢«è®¤ä¸ºæ˜¯ç”±è§£é‡Šæ— æ•ˆè½¬ä¹‰åºåˆ—ï¼Œå¹¶ä¼šæŠ›å‡ºSyntaxErrorã€‚ ES2018ä»æ ‡è®°æ¨¡æ¿ä¸­åˆ é™¤äº†è¿™äº›é™åˆ¶ï¼Œè€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯ï¼Œè¡¨ç¤ºæ— æ•ˆçš„è½¬ä¹‰åºåˆ—å¦‚ä¸‹undefined 1234567function fn(string, substitute) &#123; console.log(substitute); // â†’ escape sequences: console.log(string[1]); // â†’ undefined&#125;const str = 'escape sequences:';const result = fn`$&#123;str&#125; \\ubuntu C:\\xxx\\uuu`; è¯·è®°ä½ï¼Œåœ¨å¸¸è§„æ¨¡æ¿æ–‡å­—ä¸­ä½¿ç”¨éæ³•è½¬ä¹‰åºåˆ—ä»ä¼šå¯¼è‡´é”™è¯¯ï¼š 12const result = `\\ubuntu`;// â†’ SyntaxError: Invalid Unicode escape sequence Support for Template Literal Revision Chrome Firefox Safari Edge 62 56 11 No Chrome Android Firefox Android iOS Safari Edge Mobile Samsung Internet Android Webview 62 56 11 No 8.2 62 Node.js 8.3.0 ï¼ˆè¿è¡Œæ—¶éœ€è¦åŠ -harmonyï¼‰ 8.10.0ï¼ˆå®Œå…¨æ”¯æŒï¼‰ æ€»ç»“æˆ‘ä»¬å·²ç»ä»”ç»†ç ”ç©¶äº†ES2018ä¸­å¼•å…¥çš„å‡ ä¸ªå…³é”®ç‰¹æ€§ï¼ŒåŒ…æ‹¬å¼‚æ­¥è¿­ä»£ï¼Œrest/spreadå±æ€§Promise.prototype.finally()ä»¥åŠRegExpå¯¹è±¡çš„æ·»åŠ ã€‚è™½ç„¶å…¶ä¸­ä¸€äº›æµè§ˆå™¨ä¾›åº”å•†å°šæœªå®Œå…¨å®ç°å…¶ä¸­ä¸€äº›åŠŸèƒ½ï¼Œä½†ç”±äºåƒBabelè¿™æ ·çš„JavaScriptè½¬æ¢å™¨ï¼Œå®ƒä»¬ä»Šå¤©ä»ç„¶å¯ä»¥ä½¿ç”¨ã€‚ ECMAScriptæ­£åœ¨è¿…é€Ÿå‘å±•ï¼Œå¹¶ä¸”æ¯éš”ä¸€æ®µæ—¶é—´å°±ä¼šå¼•å…¥æ–°åŠŸèƒ½ï¼Œå› æ­¤è¯·æŸ¥çœ‹å·²å®Œæˆææ¡ˆçš„åˆ—è¡¨ï¼Œäº†è§£æ–°åŠŸèƒ½çš„å…¨éƒ¨å†…å®¹ã€‚ ç¬¬ä¸€æ¬¡ç¿»è¯‘æ–‡ç« ï¼Œèƒ½åŠ›æœ‰é™ï¼Œæ°´å¹³ä¸€èˆ¬ï¼Œç¿»è¯‘ä¸å¦¥ä¹‹å¤„ï¼Œè¿˜æœ›æŒ‡æ­£ã€‚æ„Ÿè°¢ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"reactæ‰“æ€ªç¬”è®°","slug":"reactæ‰“æ€ªç¬”è®°","date":"2018-12-19T08:39:01.000Z","updated":"2020-04-15T12:16:58.181Z","comments":true,"path":"2018/12/19/reactæ‰“æ€ªç¬”è®°/","link":"","permalink":"https://timbok.github.io/2018/12/19/reactæ‰“æ€ªç¬”è®°/","excerpt":"","text":"ä»‹ç»æœ¬æ–‡ä¸ºå­¦ä¹ reactä¸­çš„è®°å½•ã€‚ Tips: å½“ç»„ä»¶çš„propsæˆ–stateæœ‰å˜åŒ–ï¼Œæ‰§è¡Œrenderå‡½æ•°ã€‚ æ— è®ºæ˜¯ä½¿ç”¨å‡½æ•°æˆ–æ˜¯ç±»æ¥å£°æ˜ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒå†³ä¸èƒ½ä¿®æ”¹å®ƒè‡ªå·±çš„props React å¯ä»¥å°†å¤šä¸ªsetState() è°ƒç”¨åˆå¹¶æˆä¸€ä¸ªè°ƒç”¨æ¥æé«˜æ€§èƒ½ã€‚ æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶ (stateless functional component)React v16.7.0-alpha(å†…æµ‹) å°†å¼•å…¥ Hooks, è¿™å°†æ„å‘³ç€å‡½æ•°å¼ç»„ä»¶å°†æ‹¥æœ‰ç±»ä¼¼ç±»ç»„ä»¶çš„ç‰¹æ€§ã€‚ æ— ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å‡½æ•°å¼ç»„ä»¶ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºæ— çŠ¶æ€ç»„ä»¶ï¼Œæ²¡æœ‰ä»»ä½•ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œæ„å‘³ç€æ¯æ¬¡ä¸Šå±‚ç»„ä»¶æ ‘çŠ¶æ€å‘ç”Ÿå˜æ›´æ—¶å®ƒä»¬éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œè¿™å°±æ˜¯å› ä¸ºç¼ºå°‘ shouldComponentUpdate æ–¹æ³•å¯¼è‡´çš„ã€‚è¿™ä¹ŸåŒæ ·æ„å‘³ç€æ‚¨ä¸èƒ½å®šä¹‰æŸäº›åŸºäºç»„ä»¶æŒ‚è½½å’Œå¸è½½çš„è¡Œä¸ºã€‚ æ²¡æœ‰ this å’Œ refæ›´æœ‰è¶£çš„æ˜¯æ‚¨åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­æ—¢ä¸èƒ½ä½¿ç”¨ thiså…³é”®å­—æˆ–è®¿é—®åˆ° refã€‚å¯¹äºä¹ æƒ¯äº†ä¸¥æ ¼æ„ä¹‰ä¸Šçš„ç±»æˆ–é¢å‘å¯¹è±¡é£æ ¼çš„äººæ¥è¯´ï¼Œè¿™å¾ˆè®©ä»–ä»¬æƒŠè®¶ã€‚è¿™ä¹Ÿæ˜¯ä½¿ç”¨å‡½æ•°æœ€å¤§çš„äº‰è®ºç‚¹ã€‚å¦ä¸€ä¸ªæœ‰è¶£çš„äº‹å®å°±æ˜¯æ‚¨ä»ç„¶å¯ä»¥è®¿é—®åˆ° contextï¼Œå¦‚æœæ‚¨å°† context å®šä¹‰ä¸ºå‡½æ•°çš„ä¸€ä¸ª propsã€‚ é¿å…å¸¸è§é™·é˜±åœ¨ç¼–å†™æ— çŠ¶æ€å‡½æ•°å¼ç»„ä»¶æ—¶ï¼Œæ‚¨éœ€è¦é¿å…æŸäº›ç‰¹å®šçš„æ¨¡å¼ã€‚é¿å…åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å®šä¹‰å‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸€æ¬¡å‡½æ•°å¼ç»„ä»¶è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œä¸€ä¸ªæ–°çš„å‡½æ•°éƒ½ä¼šè¢«åˆ›å»ºã€‚ 123456const Functional = (&#123;...&#125;) =&gt; &#123; const handleSomething = e =&gt; path(['event', 'target'], e) return ( // ... )&#125; è¿™ä¸ªé—®é¢˜å¾ˆå®¹æ˜“è§£å†³ï¼Œæ‚¨å¯ä»¥å°†è¿™ä¸ªå‡½æ•°ä½œä¸º props ä¼ é€’è¿›å»ï¼Œæˆ–è€…å°†å®ƒå®šä¹‰åœ¨ç»„ä»¶å¤–é¢ã€‚ 12const handleSomething = e =&gt; path(['event', 'target'], e)const Functional = (&#123;...&#125;) =&gt; // ... ç”Ÿå‘½å‘¨æœŸæ¦‚å†µ ç”Ÿå‘½å‘¨æœŸæ¼”ç¤º 1.åˆå§‹åŒ–åœ¨ç»„ä»¶åˆå§‹åŒ–é˜¶æ®µä¼šæ‰§è¡Œ constructor static getDerivedStateFromProps() componentWillMount() / UNSAFE_componentWillMount() render() componentDidMount() 2.æ›´æ–°é˜¶æ®µpropsæˆ–stateçš„æ”¹å˜å¯èƒ½ä¼šå¼•èµ·ç»„ä»¶çš„æ›´æ–°ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ä¼šè°ƒç”¨ä»¥ä¸‹æ–¹æ³•ï¼š componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate() 3.å¸è½½é˜¶æ®µ componentWillUnmount() 4.é”™è¯¯å¤„ç† componentDidCatch() è¯¦è§£1.constructor(props)reactç»„ä»¶çš„æ„é€ å‡½æ•°åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚åœ¨å®ç°React.Componentæ„é€ å‡½æ•°æ—¶ï¼Œéœ€è¦å…ˆåœ¨æ·»åŠ å…¶ä»–å†…å®¹å‰ï¼Œè°ƒç”¨super(props)ï¼Œç”¨æ¥å°†çˆ¶ç»„ä»¶ä¼ æ¥çš„propsç»‘å®šåˆ°è¿™ä¸ªç±»ä¸­ï¼Œä½¿ç”¨this.propså°†ä¼šå¾—åˆ°ã€‚ å®˜æ–¹å»ºè®®ä¸è¦åœ¨constructorå¼•å…¥ä»»ä½•å…·æœ‰å‰¯ä½œç”¨å’Œè®¢é˜…åŠŸèƒ½çš„ä»£ç ï¼Œè¿™äº›åº”å½“åœ¨componentDidMount()ä¸­å†™å…¥ã€‚ constructorä¸­åº”å½“åšäº›åˆå§‹åŒ–çš„åŠ¨ä½œï¼Œå¦‚ï¼šåˆå§‹åŒ–stateï¼Œå°†äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°ç±»å®ä¾‹ä¸Šï¼Œä½†ä¹Ÿä¸è¦ä½¿ç”¨setState()ã€‚å¦‚æœæ²¡æœ‰å¿…è¦åˆå§‹åŒ–stateæˆ–ç»‘å®šæ–¹æ³•ï¼Œåˆ™ä¸éœ€è¦æ„é€ constructorï¼Œæˆ–è€…æŠŠè¿™ä¸ªç»„ä»¶æ¢æˆçº¯å‡½æ•°å†™æ³•ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨propsåˆå§‹åŒ–stateï¼Œåœ¨ä¹‹åä¿®æ”¹stateä¸ä¼šå¯¹propsé€ æˆä»»ä½•ä¿®æ”¹ï¼Œä½†ä»ç„¶å»ºè®®å¤§å®¶æå‡çŠ¶æ€åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œæˆ–ä½¿ç”¨reduxç»Ÿä¸€è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚ 123456constructor(props) &#123; super(props); this.state = &#123; color: props.initialColor &#125;;&#125; 2.static getDerivedStateFromProps(nextProps, prevState)getDerivedStateFromPropsåœ¨ç»„ä»¶å®ä¾‹åŒ–åï¼Œå’Œæ¥å—æ–°çš„propsåè¢«è°ƒç”¨ã€‚ä»–è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›nullè¡¨ç¤ºæ–°çš„propsä¸éœ€è¦ä»»ä½•stateçš„æ›´æ–°ã€‚ å¦‚æœæ˜¯ç”±äºçˆ¶ç»„ä»¶çš„propsæ›´æ”¹ï¼Œæ‰€å¸¦æ¥çš„é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚ è°ƒç”¨steState()ä¸ä¼šè§¦å‘getDerivedStateFromProps()ã€‚ 3. componentWillMount() / UNSAFE_componentWillMount()componentWillMount()å°†åœ¨reactæœªæ¥ç‰ˆæœ¬ä¸­è¢«å¼ƒç”¨ã€‚UNSAFE_componentWillMount()åœ¨ç»„ä»¶æŒ‚è½½å‰è¢«è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨setState()ä¸ä¼šèµ·ä½œç”¨ï¼Œæ˜¯ç”±äºä»–åœ¨render()å‰è¢«è°ƒç”¨ã€‚ ä¸ºäº†é¿å…å‰¯ä½œç”¨å’Œå…¶ä»–çš„è®¢é˜…ï¼Œå®˜æ–¹éƒ½å»ºè®®ä½¿ç”¨componentDidMount()ä»£æ›¿ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨äºåœ¨æœåŠ¡å™¨æ¸²æŸ“ä¸Šçš„å”¯ä¸€æ–¹æ³•ã€‚ 4.render()render()æ–¹æ³•æ˜¯å¿…éœ€çš„ã€‚å½“ä»–è¢«è°ƒç”¨æ—¶ï¼Œä»–å°†è®¡ç®—this.propså’Œthis.stateï¼Œå¹¶è¿”å›ä»¥ä¸‹ä¸€ç§ç±»å‹ï¼š Reactå…ƒç´ ã€‚é€šè¿‡jsxåˆ›å»ºï¼Œæ—¢å¯ä»¥æ˜¯domå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚ å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚ä»–ä»¬å°†ä¼šä»¥æ–‡æœ¬èŠ‚ç‚¹å½¢å¼æ¸²æŸ“åˆ°domä¸­ã€‚ Portalsã€‚react 16ç‰ˆæœ¬ä¸­æå‡ºçš„æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç»„ä»¶è„±ç¦»çˆ¶ç»„ä»¶å±‚çº§ç›´æ¥æŒ‚è½½åœ¨DOMæ ‘çš„ä»»ä½•ä½ç½®ã€‚ nullï¼Œä»€ä¹ˆä¹Ÿä¸æ¸²æŸ“ å¸ƒå°”å€¼ã€‚ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“ï¼Œé€šå¸¸åè·Ÿç»„ä»¶è¿›è¡Œåˆ¤æ–­ã€‚ å½“è¿”å›null,false,ReactDOM.findDOMNode(this)å°†ä¼šè¿”å›nullï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ¸²æŸ“ã€‚ render()æ–¹æ³•å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä»–ä¸åº”è¯¥æ”¹å˜stateï¼Œä¹Ÿä¸èƒ½ç›´æ¥å’Œæµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼Œåº”è¯¥å°†äº‹ä»¶æ”¾åœ¨å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ã€‚å¦‚æœshouldComponentUpdate()è¿”å›falseï¼Œrender()ä¸ä¼šè¢«è°ƒç”¨ã€‚ Fragmentsä½ ä¹Ÿå¯ä»¥åœ¨render()ä¸­ä½¿ç”¨æ•°ç»„ï¼Œå¦‚ï¼š(ä¸è¦å¿˜è®°ç»™æ¯ä¸ªæ•°ç»„å…ƒç´ æ·»åŠ keyï¼Œé˜²æ­¢å‡ºç°è­¦å‘Š)1234567render() &#123; return [ &lt;li key=\"A\"&gt;First item&lt;/li&gt;, &lt;li key=\"B\"&gt;Second item&lt;/li&gt;, &lt;li key=\"C\"&gt;Third item&lt;/li&gt;, ];&#125; æ¢ä¸€ç§å†™æ³•ï¼Œå¯ä»¥ä¸å†™keyï¼ˆv16++ï¼‰123456789render() &#123; return ( &lt;React.Fragment&gt; &lt;li&gt;First item&lt;/li&gt; &lt;li&gt;Second item&lt;/li&gt; &lt;li&gt;Third item&lt;/li&gt; &lt;/React.Fragment&gt; );&#125; å®˜æ–¹ç¤ºä¾‹: 1234567891011121314151617function Clock(props) &#123; return ( &lt;div&gt; &lt;h1&gt;Hello, world!&lt;/h1&gt; &lt;h2&gt;It is &#123;props.date.toLocaleTimeString()&#125;.&lt;/h2&gt; &lt;/div&gt; );&#125;function tick() &#123; ReactDOM.render( &lt;Clock date=&#123;new Date()&#125; /&gt;, document.getElementById('root') );&#125;setInterval(tick, 1000); 5.componentWillReceiveProps()/UNSAFE_componentWillReceiveProps(nextProps)å®˜æ–¹å»ºè®®ä½¿ç”¨getDerivedStateFromPropså‡½æ•°ä»£æ›¿componentWillReceiveProps()ã€‚å½“ç»„ä»¶æŒ‚è½½åï¼Œæ¥æ”¶åˆ°æ–°çš„propsåä¼šè¢«è°ƒç”¨ã€‚å¦‚æœéœ€è¦æ›´æ–°stateæ¥å“åº”propsçš„æ›´æ”¹ï¼Œåˆ™å¯ä»¥è¿›è¡Œthis.propså’ŒnextPropsçš„æ¯”è¾ƒï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­ä½¿ç”¨this.setState()ã€‚ å¦‚æœçˆ¶ç»„ä»¶ä¼šè®©è¿™ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ reactä¸ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–propsæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è°ƒç”¨this.setStateä¹Ÿä¸ä¼šè§¦å‘ã€‚ 6.shouldComponentUpdate(nextProps, nextState)è°ƒç”¨shouldComponentUpdateä½¿reactçŸ¥é“ï¼Œç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—stateå’Œpropsçš„å½±å“ã€‚é»˜è®¤æ¯ä¸ªçŠ¶æ€çš„æ›´æ”¹éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä¿æŒè¿™ä¸ªé»˜è®¤è¡Œä¸ºã€‚ åœ¨æ¸²æŸ“æ–°çš„propsæˆ–stateå‰ï¼ŒshouldComponentUpdateä¼šè¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šåœ¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚è¿”å›falseä¸ä¼šé˜»æ­¢å­ç»„ä»¶åœ¨stateæ›´æ”¹æ—¶é‡æ–°æ¸²æŸ“ã€‚ å¦‚æœshouldComponentUpdate()è¿”å›falseï¼Œcomponentwillupdate,renderå’ŒcomponentDidUpdateä¸ä¼šè¢«è°ƒç”¨ã€‚ åœ¨æœªæ¥ç‰ˆæœ¬ï¼ŒshouldComponentUpdate()å°†ä¼šä½œä¸ºä¸€ä¸ªæç¤ºè€Œä¸æ˜¯ä¸¥æ ¼çš„æŒ‡ä»¤ï¼Œè¿”å›falseä»ç„¶å¯èƒ½å¯¼è‡´ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚å®˜æ–¹å¹¶ä¸å»ºè®®åœ¨shouldComponentUpdate()ä¸­è¿›è¡Œæ·±åº¦æŸ¥è¯¢æˆ–ä½¿ç”¨JSON.stringify()ï¼Œä»–æ•ˆç‡éå¸¸ä½ï¼Œå¹¶ä¸”æŸä¼¤æ€§èƒ½ã€‚ 7.UNSAFE_componentWillUpdate(nextProps, nextState)åœ¨æ¸²æŸ“æ–°çš„stateæˆ–propsæ—¶ï¼ŒUNSAFE_componentWillUpdateä¼šè¢«è°ƒç”¨ï¼Œå°†æ­¤ä½œä¸ºåœ¨æ›´æ–°å‘ç”Ÿä¹‹å‰è¿›è¡Œå‡†å¤‡çš„æœºä¼šã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ã€‚ ä¸èƒ½åœ¨è¿™é‡Œä½¿ç”¨this.setState()ï¼Œä¹Ÿä¸èƒ½åšä¼šè§¦å‘è§†å›¾æ›´æ–°çš„æ“ä½œã€‚å¦‚æœéœ€è¦æ›´æ–°stateæˆ–propsï¼Œè°ƒç”¨getDerivedStateFromPropsã€‚ 8.getSnapshotBeforeUpdate()åœ¨react render()åçš„è¾“å‡ºè¢«æ¸²æŸ“åˆ°DOMä¹‹å‰è¢«è°ƒç”¨ã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶èƒ½å¤Ÿåœ¨å®ƒä»¬è¢«æ½œåœ¨æ›´æ”¹ä¹‹å‰æ•è·å½“å‰å€¼ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()ã€‚ 9.componentDidUpdate(prevProps, prevState, snapshot)åœ¨æ›´æ–°å‘ç”Ÿåç«‹å³è°ƒç”¨componentDidUpdate()ã€‚æ­¤æ–¹æ³•ä¸ç”¨äºåˆå§‹æ¸²æŸ“ã€‚å½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå°†æ­¤ä½œä¸ºä¸€ä¸ªæœºä¼šæ¥æ“ä½œDOMã€‚åªè¦æ‚¨å°†å½“å‰çš„propsä¸ä»¥å‰çš„propsè¿›è¡Œæ¯”è¾ƒï¼ˆä¾‹å¦‚ï¼Œå¦‚æœpropsæ²¡æœ‰æ”¹å˜ï¼Œåˆ™å¯èƒ½ä¸éœ€è¦ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯åšç½‘ç»œè¯·æ±‚çš„å¥½åœ°æ–¹ã€‚ å¦‚æœç»„ä»¶å®ç°getSnapshotBeforeUpdate()ç”Ÿå‘½å‘¨æœŸï¼Œåˆ™å®ƒè¿”å›çš„å€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªâ€œå¿«ç…§â€å‚æ•°ä¼ é€’ç»™componentDidUpdate()ã€‚å¦åˆ™ï¼Œè¿™ä¸ªå‚æ•°æ˜¯undefinedã€‚ 10.componentWillUnmount()åœ¨ç»„ä»¶è¢«å¸è½½å¹¶é”€æ¯ä¹‹å‰ç«‹å³è¢«è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†ï¼Œä¾‹å¦‚ä½¿å®šæ—¶å™¨æ— æ•ˆï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…ç†åœ¨componentDidMountï¼ˆï¼‰ä¸­åˆ›å»ºçš„ä»»ä½•ç›‘å¬ã€‚ 11.componentDidCatch(error, info)é”™è¯¯è¾¹ç•Œæ˜¯Reactç»„ä»¶ï¼Œå¯ä»¥åœ¨å…¶å­ç»„ä»¶æ ‘ä¸­çš„ä»»ä½•ä½ç½®æ•è·JavaScripté”™è¯¯ï¼Œè®°å½•è¿™äº›é”™è¯¯å¹¶æ˜¾ç¤ºå›é€€UIï¼Œè€Œä¸æ˜¯å´©æºƒçš„ç»„ä»¶æ ‘ã€‚é”™è¯¯è¾¹ç•Œåœ¨æ¸²æŸ“æœŸé—´ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥åŠæ•´ä¸ªæ ‘ä¸‹çš„æ„é€ å‡½æ•°ä¸­æ•è·é”™è¯¯ã€‚ å¦‚æœç±»ç»„ä»¶å®šä¹‰äº†æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåˆ™å®ƒå°†æˆä¸ºé”™è¯¯è¾¹ç•Œã€‚åœ¨å®ƒä¸­è°ƒç”¨setState()å¯ä»¥è®©ä½ åœ¨ä¸‹é¢çš„æ ‘ä¸­æ•è·æœªå¤„ç†çš„JavaScripté”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªåå¤‡UIã€‚åªèƒ½ä½¿ç”¨é”™è¯¯è¾¹ç•Œä»æ„å¤–å¼‚å¸¸ä¸­æ¢å¤;ä¸è¦è¯•å›¾å°†å®ƒä»¬ç”¨äºæ§åˆ¶æµç¨‹ã€‚è¯¦ç»† é”™è¯¯è¾¹ç•Œåªä¼šæ•è·æ ‘ä¸­ä¸‹é¢ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚é”™è¯¯è¾¹ç•Œæœ¬èº«ä¸èƒ½æ•è·é”™è¯¯ã€‚ ä¸ºä»€ä¹ˆè™šæ‹Ÿdomä¼šæé«˜æ€§èƒ½?è™šæ‹Ÿdomç›¸å½“äºåœ¨jså’ŒçœŸå®domä¸­é—´åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨dom diffç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„domæ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚ å…·ä½“å®ç°æ­¥éª¤å¦‚ä¸‹ï¼š ç”¨ JavaScript å¯¹è±¡ç»“æ„è¡¨ç¤º DOM æ ‘çš„ç»“æ„ï¼›ç„¶åç”¨è¿™ä¸ªæ ‘æ„å»ºä¸€ä¸ªçœŸæ­£çš„ DOM æ ‘ï¼Œæ’åˆ°æ–‡æ¡£å½“ä¸­ å½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ–°çš„å¯¹è±¡æ ‘ã€‚ç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œè®°å½•ä¸¤æ£µæ ‘å·®å¼‚æŠŠ2æ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ­¥éª¤1æ‰€æ„å»ºçš„çœŸæ­£çš„DOMæ ‘ä¸Šï¼Œè§†å›¾å°±æ›´æ–°äº†ã€‚ å‚è€ƒé“¾æ¥ å‚è€ƒæ–‡æ¡£ React v16.3.0: New lifecycles and context API React.Component mytac","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://timbok.github.io/categories/JavaScript/"}],"tags":[]},{"title":"ç»™Hexoæ­å»ºçš„åšå®¢ç»‘å®šåŸŸå","slug":"HexoåŸŸå","date":"2018-12-02T07:25:54.000Z","updated":"2020-04-15T12:16:58.176Z","comments":true,"path":"2018/12/02/HexoåŸŸå/","link":"","permalink":"https://timbok.github.io/2018/12/02/HexoåŸŸå/","excerpt":"","text":"å‰è¨€å‰å‡ å¤©åˆ©ç”¨é—²ç½®æ—¶é—´ï¼Œåˆ©ç”¨hexoåœ¨GitHubä¸Šæ­å»ºäº†ä¸€ä¸ªé™æ€åšå®¢ï¼Œé‚£ä¹ˆæ—¢ç„¶æ˜¯ä¸ªäººåšå®¢ï¼Œå½“ç„¶è¦ä¸Šè‡ªå·±çš„åŸŸåäº†ã€‚ step-1é¦–å…ˆä½ å¾—ä½ å¾—æ­å»º XXX.github.io è¿™æ ·çš„åšå®¢ï¼Œ[hexoæ•™ç¨‹]ã€‚ step-2ä½ çš„åšå®¢å¯ä»¥è®¿é—®åï¼Œå»é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ç½‘ç«™å»æ³¨å†Œä¸ªåŸŸåã€‚ step-3è·å–åšå®¢çš„ipåœ°å€ Tips: è¿™ä¸€æ­¥ä¸»è¦ä¸ºäº†è§£æåŸŸåï¼Œä¸è·å–IPçš„è¯ï¼Œstep4è§£æAç±»å‹å°±è¡Œ ç¬¬ä¸€ï¼š clone ä½ åˆ›å»ºçš„ ä»“åº“ xxx.github.io ç¬¬äºŒï¼š gitçš„è¾“å…¥ ping www.xxx.github.io å¾—åˆ°IP å¦‚ä¸‹å›¾ï¼š step-4ç­‰åŸŸåå®¡æ ¸å®Œåï¼Œå’Œæˆ‘ç›¸å…³çš„å°±æ¥äº†ã€‚ä»¥ä¸‹ç”¨é˜¿é‡Œäº‘æ³¨å†Œçš„åŸŸåä¸ºä¾‹ã€‚è¿›å…¥é˜¿é‡Œäº‘çš„ç®¡ç†æ§åˆ¶å°-åŸŸåä¸ç½‘ç«™-äº‘è§£æDNSï¼Œè¿›å…¥åŸŸåçš„è§£æè®¾ç½®ï¼Œç‚¹å‡»æ–°æ‰‹æŒ‡å¯¼ï¼Œå°†å¾—åˆ°çš„ IP åœ°å€å¡«åˆ°è®°å½•å€¼ä¸€æ ï¼Œç‚¹å‡»ç¡®å®šå°± OK äº†ã€‚å¡«å®Œä»¥åçš„è§£æåˆ—è¡¨ä¼šå‡ºç°ï¼š è®°å½•å€¼å°±æ˜¯è‡ªå·± github çš„äºŒçº§åŸŸåçš„ IPåœ°å€ã€‚ Tips: ä¸€èˆ¬è§£æéƒ½éœ€è¦ç‚¹æ—¶é—´ï¼Œç­‰ä¸ª20åˆ†é’Ÿå·¦å³å°±å¥½äº† step-5åœ¨hexoé¡¹ç›®ä¸‹ source æ–‡ä»¶ä¸‹åˆ›å»ºCNAME æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€åçš„ï¼‰ï¼Œåœ¨é‡Œé¢å†™ä¸Šè´­ä¹°çš„åŸŸåï¼Œä¾‹å¦‚ï¼š step-6æœ€ååˆ°ä½  xxx.github.io çš„Settingsé‡Œï¼Œå¡«ä¸Šä½ çš„åŸŸå è¿™æ ·æ–°åŸŸåå°±okå•¦ï¼Œå¯ä»¥è®¿é—®äº†ã€‚","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://timbok.github.io/categories/Hexo/"}],"tags":[]},{"title":"Gitä¸­é‡åˆ°çš„å¤§å¤§å°å°çš„å‘","slug":"Git","date":"2018-11-29T12:41:49.000Z","updated":"2020-04-15T12:16:58.175Z","comments":true,"path":"2018/11/29/Git/","link":"","permalink":"https://timbok.github.io/2018/11/29/Git/","excerpt":"","text":"ç›®çš„ï¼šè®°å½•è‡ªå·±å¹³æ—¶åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„å‘ Tips ä¸è¦åœ¨devä¸Šæ“ä½œã€‚ æ›´æ–°git: git update- æš‚å­˜ä¿®æ”¹çš„æ–‡ä»¶12git add [fileName] â€”â€”æš‚å­˜æŸä¸ªæ–‡ä»¶ git add . â€”â€”æš‚å­˜æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶ æ’¤é”€æœ¬åœ°ä¿®æ”¹æ–‡ä»¶12git checkout [fileName] â€”â€”æ’¤é”€æŸä¸ªæ–‡ä»¶ git checkout . â€”â€”æ’¤é”€æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶ æäº¤æš‚å­˜åŒºæ–‡ä»¶ fixï¼šä¿®å¤bug updateï¼šæ›´æ–°æ–‡ä»¶ addï¼šæ–°å¢æ–‡ä»¶ modifyï¼šé‡å‘½å deleteï¼šåˆ é™¤æ–‡ä»¶ git commit -m &quot;ä½ çš„æäº¤å¤‡æ³¨&quot; ä¸æƒ³commitï¼Œé‚£å°±å‚¨è—12345git stash â€”â€”å‚¨è— git stash pop/apply â€”â€”å¼¹å‡ºå‚¨è— git stash save 'message' â€”â€”å‚¨è—æ˜¯åŠ message git stash drop stash@&#123;$num&#125; â€”â€”ä¸¢å¼ƒstash@&#123;$num&#125;å­˜å‚¨ï¼Œä»åˆ—è¡¨ä¸­åˆ é™¤è¿™ä¸ªå­˜å‚¨ git stash clear --åˆ é™¤æ‰€æœ‰ç¼“å­˜çš„stash å°†æœ¬åœ°ä»“åº“çš„ä»£ç æ¨åˆ°è¿œç¨‹åˆ†æ”¯1git push [è¿œç¨‹åˆ†æ”¯å] åˆ‡æ¢åˆ†æ”¯1&gt; git checkout [ä½ è¦åˆ‡æ¢çš„åˆ†æ”¯å] æ³¨é‡Šï¼šåˆ‡æ¢åˆ†æ”¯ä¹‹å‰ï¼Œä¸€å®šè¦å°†ä¿®æ”¹çš„æ–‡ä»¶æäº¤æˆ–è€…æ”¾è¿›å‚¨è—åŒº æ‹‰å–è¿œç¨‹åˆ†æ”¯ä»£ç 12git pull orgin [åˆ†æ”¯å] git pull â€”â€”æ‹‰å–å½“å‰åˆ†æ”¯çš„ä»£ç  åˆå¹¶åˆ†æ”¯1git merge [ä½ è¦åˆå¹¶çš„åˆ†æ”¯å] æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯1git branch æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯1git branch -a ä¿®æ”¹åˆ†æ”¯åç§°git branch -m ordBranch newBranch åˆ é™¤æœ¬åœ°åˆ†æ”¯git branch -d/-D [ä½ è¦åˆ é™¤çš„åˆ†æ”¯] åˆ é™¤è¿œç¨‹åˆ†æ”¯git push origin --delete [ä½ è¦åˆ é™¤æ‰çš„åˆ†æ”¯] ç­‰åŒäº git push origin :[ä½ è¦åˆ é™¤æ‰çš„åˆ†æ”¯] æœ¬åœ°åˆ†æ”¯æ¨åˆ°è¿œç¨‹å¹¶å…³è”git push --set-upstream origin _branch æŸ¥çœ‹æäº¤è®°å½•12git log git log -5 æŸ¥çœ‹äº”æ¡è®°å½• æŸ¥çœ‹è¢«åˆ é™¤çš„æäº¤è®°å½•git reflog å›æ»šä»£ç 12git reset [commitId] å›æ»šä»£ç ä½†ä¿®æ”¹çš„ä»£ç è¿˜åœ¨git reset --hard [commitId] å›æ»šä»£ç ä¸”ä¿®æ”¹çš„ä»£ç ä¹Ÿæ²¡äº† æ¨é€ä»£ç git push orgin [å½“å‰åˆ†æ”¯]:devlop è¿æ¥è¿œç¨‹ä»“åº“123git remote add origin ä»“åº“åœ°å€ä»“åº“åœ°å€ï¼šhttps://git.coding.net/xxxxxxxxxxxxx/my-project.git git push -u orgin master åˆ é™¤è¿œç¨‹ä»“åº“git remote remove origin è¿œç¨‹ä»“åº“åˆ é™¤ï¼Œæœ¬åœ°åˆ†æ”¯æ²¡æœ‰åˆ é™¤123git remote show origin æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯çš„ä¿¡æ¯git remote prune origin --dry-run æŸ¥çœ‹å¯æ¸…ç†çš„è¿œç¨‹åˆ†æ”¯git remote prune origin åˆ é™¤å¯æ¸…ç†çš„è¿œç¨‹åˆ†æ”¯ è®°ä½è¿œç¨‹gitä»“åº“è´¦å·å¯†ç æ°¸ä¹…è®°å½• git config --global credential.helper store è‡ªå®šä¹‰è®°ä½æ—¶é—´ - 1å°æ—¶ git config credential.helper â€˜cache â€“timeout=3600â€™ é‡ç½®gitå¯†ç git config --unset credential.helper ä¿®æ”¹è¿œç¨‹ä»“åº“ågit remote set-url origin [] ç›´æ¥æŒ‡å®šcloneæŸä¸ªåˆ†æ”¯ï¼šgit clone -b &lt;branch name&gt; [remote repository address]","categories":[{"name":"Git","slug":"Git","permalink":"https://timbok.github.io/categories/Git/"}],"tags":[]},{"title":"ä¸‰åˆ†é’Ÿæ•™ä½ åŒæ­¥ visual studio code è®¾ç½®","slug":"vscode","date":"2018-11-28T11:57:11.000Z","updated":"2020-04-15T12:16:58.182Z","comments":true,"path":"2018/11/28/vscode/","link":"","permalink":"https://timbok.github.io/2018/11/28/vscode/","excerpt":"","text":"ç®€ä»‹Visual Studio Code(ä»¥ä¸‹ç®€ç§°vsCode)ç°åœ¨å·²ç»æ¸æ¸æˆä¸ºå‰ç«¯å¼€å‘çš„ä¸»åŠ›å·¥å…·ï¼Œè°è®©å®ƒè¿™ä¹ˆè½»ä¾¿ï¼ŒåŠŸèƒ½åˆè¿™ä¹ˆè½»ä¾¿å‘¢ã€‚ç”¨vscode Codingçš„å°ä¼™ä¼´ä»¬ä¹Ÿä¸€å®šä¼šè£…å¾ˆå¤šæ’ä»¶å§ã€‚ä½†æ˜¯å½“ä½ å‡†å¤‡æ›´æ¢ç”µè„‘çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯ä¸ºè¿ç§»æ’ä»¶å’Œè®¾ç½®è€Œçƒ¦æ¼ï¼Ÿæˆ‘æ›¾ç»æ¢ç”µè„‘çš„æ—¶å€™ï¼ŒæŠŠvsCodeä¸Šè‡ªå·±å¿ƒçˆ±çš„æ’ä»¶ä¸€ä¸ªä¸ªè®°ä¸‹ï¼Œç„¶åå»æ–°ç”µè„‘ä¸Šé‡è£…ï¼Œå¤ªè ¢äº†ã€‚ä»Šå¤©æˆ‘å°±æŠŠvsCodeåŒæ­¥è®¾ç½®å’Œæ’ä»¶çš„æ–¹æ³•å‘Šè¯‰å¤§å®¶ã€‚ å‡†å¤‡å·¥ä½œ ä¸‹è½½Settings Syncæ’ä»¶ GitHubè´¦å· 1.å®‰è£…Settings Sync Setting Sync å¿«æ·é”®ï¼š 1) ä¸Šä¼ ï¼š Shift + Alt + U (Sync: Update / Upload Settings) 2) ä¸‹è½½ï¼š Shift + Alt + D (Sync: Download Settings) å¦‚æœå¿«æ·é”®æœ‰å†²çªï¼Œå¯Ctrl + K + Så¿«æ·é”®è®¾ç½®é…ç½®å…¶å®ƒå¿«æ·é”® æˆ– Ctrl + P / F1 åœ¨å‘½ä»¤çª—å£è¾“å…¥ &gt;sync å³ä¼šå‡ºç°ç›¸åº”å‘½ä»¤ä¾›é€‰æ‹© 2.æ‰“å¼€GitHub è¿™æ ·ä½ å°±å¾—åˆ°ä¸€ä¸ªtokenï¼Œæœ€å¥½æ‰¾ä¸ªåœ°æ–¹è®°ä¸‹æ¥ã€‚å› ä¸ºå®ƒå°±æ˜¯åŒæ­¥è®¾ç½®çš„å…³é”®ã€‚ 3.å°†tokené…ç½®åˆ°vsCode(Sync: Update / Uplaod Settings) Shift + Alt + U åœ¨å¼¹çª—é‡Œè¾“å…¥ä½ çš„tokenï¼Œ å›è½¦åä¼šç”ŸæˆsyncSummary.txtæ–‡ä»¶ syncSummary.txtæ–‡ä»¶ä¼šå­˜å‚¨VSCodeçš„è®¾ç½®åŠæ‰€å®‰è£…çš„æ’ä»¶åˆ—è¡¨ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ–°ç‰ˆæœ¬çš„vsCode æ‰“å¼€è®¾ç½®ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥syncï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„tokenäº† 4.è®¾ç½®åŒæ­¥ä¸‹è½½è®¾ç½®(Sync: Download Settings) Shift + Alt + D åœ¨å¼¹çª—é‡Œè¾“å…¥ä½ çš„gistå€¼ï¼Œç¨åç‰‡åˆ»ä¾¿å¯åŒæ­¥æˆåŠŸ 5.å¦‚æœè¦é‡ç½®åŒæ­¥è®¾ç½®ï¼Œå˜æ›´å…¶å®ƒtokenCtrl+P / F1 å¼¹å‡ºè¾“å…¥&gt;sync,å³å¯é‡æ–°é…ç½®ä½ çš„å…¶å®ƒtokenæ¥åŒæ­¥ 6.Tipsä¸Šä¼ åŒæ­¥è®¾ç½®çš„æ—¶å€™ï¼ŒvsCodeåº•ä¸‹å¯ä»¥çœ‹åˆ°æ“ä½œä¿¡æ¯ Setting Sync å¯åŒæ­¥åŒ…å«çš„æ‰€æœ‰æ‰©å±•å’Œå®Œæ•´çš„ç”¨æˆ·æ–‡ä»¶å¤¹ 1) è®¾ç½®æ–‡ä»¶ 2) å¿«æ·é”®è®¾ç½®æ–‡ä»¶ 3) Launch File 4) Snippets Folder 5) VSCode æ‰©å±•è®¾ç½® 6) å·¥ä½œç©ºé—´ åšå®¢åŒæ­¥æ›´æ–° å‚è€ƒæ–‡ç«  Settings Syncæ›´æ–°è¯´æ˜","categories":[{"name":"å·¥å…·èµ„æº","slug":"å·¥å…·èµ„æº","permalink":"https://timbok.github.io/categories/å·¥å…·èµ„æº/"}],"tags":[]}]}