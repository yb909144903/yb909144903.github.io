<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>
    
    javascripté—¯å…³ç¬”è®° |
    
    Timbok&#39;s Blog
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="å‰ç«¯ Git React Es6 JavaScript">
  
  
  
  
  <meta name="description" content="ä»‹ç»é€šè¿‡Array/Object/Function/ApiåŸºç¡€ç±»å‹ç¼–å†™ã€‚ çœ‹åˆ°è‡ªå·±ä¸äº†è§£çš„æˆ–è€…æ¯”è¾ƒæ–°é¢–çš„ç”¨æ³•ä¾¿ä¼šå†™ä¸Šã€‚ ä¸å®šæ—¶æ›´æ–°å†…å®¹ã€‚  æœ¬æ–‡é¦–å‘äºæˆ‘çš„ä¸ªäººç½‘ç«™: Timbok.top  ç›®å½• Array è¿­ä»£æ–¹æ³• splitå’Œjoin splice from   Object objectæ˜ å°„   Function promise async-await è·å–å‡½æ•°å‚æ•°å   Api å¯é€‰é“¾ é€—">
<meta name="keywords" content="å‰ç«¯ git react JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScripté—¯å…³ç¬”è®°">
<meta property="og:url" content="https://timbok.github.io/2019/02/23/JavaScripté—¯å…³ç¬”è®°/index.html">
<meta property="og:site_name" content="Timbok&#39;s Blog">
<meta property="og:description" content="ä»‹ç»é€šè¿‡Array/Object/Function/ApiåŸºç¡€ç±»å‹ç¼–å†™ã€‚ çœ‹åˆ°è‡ªå·±ä¸äº†è§£çš„æˆ–è€…æ¯”è¾ƒæ–°é¢–çš„ç”¨æ³•ä¾¿ä¼šå†™ä¸Šã€‚ ä¸å®šæ—¶æ›´æ–°å†…å®¹ã€‚  æœ¬æ–‡é¦–å‘äºæˆ‘çš„ä¸ªäººç½‘ç«™: Timbok.top  ç›®å½• Array è¿­ä»£æ–¹æ³• splitå’Œjoin splice from   Object objectæ˜ å°„   Function promise async-await è·å–å‡½æ•°å‚æ•°å   Api å¯é€‰é“¾ é€—">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-05-08T03:06:27.166Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScripté—¯å…³ç¬”è®°">
<meta name="twitter:description" content="ä»‹ç»é€šè¿‡Array/Object/Function/ApiåŸºç¡€ç±»å‹ç¼–å†™ã€‚ çœ‹åˆ°è‡ªå·±ä¸äº†è§£çš„æˆ–è€…æ¯”è¾ƒæ–°é¢–çš„ç”¨æ³•ä¾¿ä¼šå†™ä¸Šã€‚ ä¸å®šæ—¶æ›´æ–°å†…å®¹ã€‚  æœ¬æ–‡é¦–å‘äºæˆ‘çš„ä¸ªäººç½‘ç«™: Timbok.top  ç›®å½• Array è¿­ä»£æ–¹æ³• splitå’Œjoin splice from   Object objectæ˜ å°„   Function promise async-await è·å–å‡½æ•°å‚æ•°å   Api å¯é€‰é“¾ é€—">
  
  <link rel="alternate" href="/atom.xml" title="Timbok&#39;s Blog" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/avatar.jpg">
  <link rel="apple-touch-icon" href="/css/images/avatar.jpg">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face {
      font-family: futura-pt;
      src: url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");
      font-weight: 500;
      font-style: normal;
    }

    @font-face {
      font-family: futura-pt;
      src: url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");
      font-weight: 500;
      font-style: normal;
    }

    @font-face {
      font-family: futura-pt;
      src: url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");
      font-weight: lighter;
      font-style: normal;
    }

    @font-face {
      font-family: futura-pt;
      src: url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");
      font-weight: 400;
      font-style: italic;
    }
  </style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
  <link rel="stylesheet" href="/css/dialog.css">
  

  

  
  <link rel="stylesheet" href="/css/header-post.css">
  

  

  
  <link rel="stylesheet" href="/css/vdonate.css">
  

  <script>
    console.log("%cTimbok",
      " text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:5em"
    );
    console.log('%cè¿™é‡Œéƒ½æ˜¯å¾ˆä¸€èˆ¬çš„åšå®¢ï¼Œä½†æ˜¯å¸Œæœ›ä½ æˆ‘ä¸€èµ·è¿›æ­¥ã€‚','font-size: 15px');
  </script>

</head></html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>
    <link href="https://cdn.bootcss.com/csshake/1.5.3/csshake-little.min.css" rel="stylesheet">
    <link href="//at.alicdn.com/t/font_943855_whj85qlkoi.css" rel="stylesheet">
    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand shake-little" style="
                 margin-top: 0px;" href="#" data-toggle="modal" data-target="#myModal">
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/avatar.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">é¦–é¡µ</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">å½’æ¡£</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">åˆ†ç±»</a> </li>
                
                  <li> <a class="main-nav-link" href="/message">ç•™è¨€</a> </li>
                
                  <li> <a class="main-nav-link" href="/share">åˆ†äº«</a> </li>
                
                  <li> <a class="main-nav-link" href="/introduce">å…³äº</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æ— æ ‡é¢˜)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </ul></div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-JavaScripté—¯å…³ç¬”è®°" style="width: 75%; float:left;" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      JavaScripté—¯å…³ç¬”è®°
    </h1>
  

      </header>
    
    
      <div class="article-meta">
        
	<a href="/2019/02/23/JavaScripté—¯å…³ç¬”è®°/" class="article-date">
	  <time datetime="2019-02-23T01:20:27.000Z" itemprop="datePublished">2019-02-23</time>
	</a>

        
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>

        
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

      </div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>é€šè¿‡Array/Object/Function/ApiåŸºç¡€ç±»å‹ç¼–å†™ã€‚</p>
<p>çœ‹åˆ°è‡ªå·±ä¸äº†è§£çš„æˆ–è€…æ¯”è¾ƒæ–°é¢–çš„ç”¨æ³•ä¾¿ä¼šå†™ä¸Šã€‚</p>
<p>ä¸å®šæ—¶æ›´æ–°å†…å®¹ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºæˆ‘çš„ä¸ªäººç½‘ç«™: <a href="https://timbok.top/2019/01/30/TypeScript/" target="_blank" rel="noopener">Timbok.top</a></p>
</blockquote>
<h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><ul>
<li><strong>Array</strong><ul>
<li><a href="#è¿­ä»£æ–¹æ³•">è¿­ä»£æ–¹æ³•</a></li>
<li><a href="#splitå’Œjoin">splitå’Œjoin</a></li>
<li><a href="#splice">splice</a></li>
<li><a href="#from">from</a></li>
</ul>
</li>
<li><strong>Object</strong><ul>
<li><a href="#objectæ˜ å°„">objectæ˜ å°„</a></li>
</ul>
</li>
<li><strong>Function</strong><ul>
<li><a href="#promise">promise</a></li>
<li><a href="#async-await">async-await</a></li>
<li><a href="#è·å–å‡½æ•°å‚æ•°å">è·å–å‡½æ•°å‚æ•°å</a></li>
</ul>
</li>
<li><strong>Api</strong><ul>
<li><a href="#å¯é€‰é“¾">å¯é€‰é“¾</a></li>
<li><a href="#é€—å·è¡¨è¾¾å¼">é€—å·è¡¨è¾¾å¼</a></li>
<li><a href="#åŸå‹å’ŒåŸå‹é“¾">åŸå‹å’ŒåŸå‹é“¾</a></li>
</ul>
</li>
</ul>
<h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><h2 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h2><ol>
<li>every()æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å› trueï¼Œåˆ™è¿”å› true</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.every(<span class="function">(<span class="params">item, index, arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>some()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å› trueï¼Œåˆ™è¿”å› true</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.some(<span class="function">(<span class="params">item, index, arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>filter()æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å› true çš„é¡¹ç»„æˆçš„æ•°ç»„</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.filter(<span class="function">(<span class="params">item, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item &gt; <span class="number">2</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// [3, 4]</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>map()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.map(<span class="function">(<span class="params">item, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item * index;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// [0, 2, 6, 12]</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li>forEach()æ–¹æ³• å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œæœ¬è´¨ä¸Šä¸ä½¿ç”¨ for å¾ªç¯è¿­ä»£æ•°ç»„ä¸€æ ·</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.forEach(<span class="function">(<span class="params">item, index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol start="6">
<li><strong>reduce() æ–¹æ³•</strong>æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆè®¡ç®—ä¸ºä¸€ä¸ªå€¼ã€‚å¯¹ç©ºæ•°ç»„æ˜¯ä¸ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°çš„ã€‚</li>
</ol>
<blockquote>
<p>arr.reduce(callback,[initialValue])</p>
</blockquote>
<ul>
<li>callback ï¼ˆæ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°ï¼ŒåŒ…å«å››ä¸ªå‚æ•°ï¼‰<ul>
<li>previousValue ï¼ˆä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒè¿”å›çš„å€¼ï¼Œæˆ–è€…æ˜¯æä¾›çš„åˆå§‹å€¼ï¼ˆinitialValueï¼‰ï¼‰</li>
<li>currentValue ï¼ˆæ•°ç»„ä¸­å½“å‰è¢«å¤„ç†çš„å…ƒç´ ï¼‰</li>
<li>index ï¼ˆå½“å‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼‰</li>
<li>array ï¼ˆè°ƒç”¨ reduce çš„æ•°ç»„ï¼‰</li>
</ul>
</li>
<li>initialValue ï¼ˆä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callback çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ï¼‰</li>
</ul>
<p><strong>æ— è¿”å›å€¼</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr.reduce(<span class="function">(<span class="params">pev, item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(pev, item);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœä¾æ¬¡ä¸ºï¼š0 1; undefined 2; undefined 3;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æœ‰è¿”å›å€¼</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pevä¸ºä¸Šæ¬¡è¿­ä»£returnçš„å€¼</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> result = arr.reduce(<span class="function">(<span class="params">pev, item</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(pev);</span><br><span class="line">    <span class="keyword">return</span> pev + item;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 10</span></span><br><span class="line"><span class="comment">// pevè¿è¡Œç»“æœä¾æ¬¡ä¸ºï¼š0, 1, 3, 6</span></span><br></pre></td></tr></table></figure></p>
<h2 id="splitå’Œjoin"><a href="#splitå’Œjoin" class="headerlink" title="splitå’Œjoin"></a>splitå’Œjoin</h2><p><strong>split()</strong>: ç”¨äºæŠŠä¸€ä¸ªå­—ç¬¦ä¸²åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> string = <span class="string">'1, 2, 3, 4, 5'</span>;</span><br><span class="line">string.split(<span class="string">','</span>); <span class="comment">// ["1", "2", "3", "4", "5"]</span></span><br></pre></td></tr></table></figure></p>
<p>å¦‚æœstringä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> string = <span class="string">''</span>;</span><br><span class="line">string.split(<span class="string">','</span>); <span class="comment">// [""]</span></span><br><span class="line">string.split(); <span class="comment">// [""]</span></span><br></pre></td></tr></table></figure></p>
<p><strong>join()</strong>: ç”¨äºæŠŠæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">array.join(); <span class="comment">// '1,2,3,4,5' é»˜è®¤ç”¨ï¼Œåˆ†å‰²</span></span><br><span class="line">array.join(<span class="string">'|'</span>); <span class="comment">// "1|2|3|4|5" é»˜è®¤ç”¨ï¼Œåˆ†å‰²</span></span><br></pre></td></tr></table></figure></p>
<h2 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h2><p>splice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ã€‚</p>
<p><strong>æ³¨é‡Š</strong>ï¼šè¯¥æ–¹æ³•ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚</p>
<p><code>arrayObject.splice(index,howmany,item1,.....,itemX)</code></p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>å¿…éœ€ã€‚æ•´æ•°ï¼Œè§„å®šæ·»åŠ /åˆ é™¤é¡¹ç›®çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„ç»“å°¾å¤„è§„å®šä½ç½®ã€‚</td>
</tr>
<tr>
<td>howmany</td>
<td>å¿…éœ€ã€‚è¦åˆ é™¤çš„é¡¹ç›®æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸ä¼šåˆ é™¤é¡¹ç›®ã€‚</td>
</tr>
<tr>
<td>item1, â€¦, itemX</td>
<td>å¯é€‰ã€‚å‘æ•°ç»„æ·»åŠ çš„æ–°é¡¹ç›®ã€‚</td>
</tr>
</tbody>
</table>
<p>ä¸¾ä¸ªä¾‹å­ğŸŒ°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="comment">//å¢åŠ </span></span><br><span class="line">arr.splice(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// arr = [1]</span></span><br><span class="line">arr.splice(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// arr = [1, 2]</span></span><br><span class="line">arr.splice(<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>); <span class="comment">// arr = [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤</span></span><br><span class="line">arr.splice(<span class="number">2</span>, <span class="number">1</span>); <span class="comment">// arr = [1, 2]</span></span><br></pre></td></tr></table></figure></p>
<h2 id="from"><a href="#from" class="headerlink" title="from"></a>from</h2><p><strong>MDNé‡Šä¹‰</strong>ï¼šArray.from() æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„</p>
<p>ç”¨æ³•ï¼š</p>
<ul>
<li><p>å°†å­—ç¬¦ä¸²æ‹†æˆæ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="string">'foo'</span>); </span><br><span class="line"><span class="comment">// ["f", "o", "o"]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">'name'</span>, </span><br><span class="line">    <span class="number">1</span>: <span class="string">'age'</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">'sex'</span>,</span><br><span class="line">    <span class="number">3</span>: [<span class="string">'user1'</span>,<span class="string">'user2'</span>,<span class="string">'user3'</span>],</span><br><span class="line">    <span class="string">'length'</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(array )</span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// ['name','age','sex',['user1','user2','user3']]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨lengthç”Ÿæˆæ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">4</span> &#125;, (...arg) =&gt; arg[<span class="number">1</span>])</span><br><span class="line"><span class="comment">// [0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h1><h2 id="objectæ˜ å°„"><a href="#objectæ˜ å°„" class="headerlink" title="objectæ˜ å°„"></a>objectæ˜ å°„</h2><p>å®šä¹‰ä¸€ä¸ªobjectä½œä¸ºé…ç½®å¯¹è±¡æ¥å­˜æ”¾ä¸åŒçŠ¶æ€ï¼Œé€šè¿‡é“¾è¡¨æŸ¥æ‰¾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> statusMap = &#123;</span><br><span class="line">    <span class="number">1</span>:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'a1'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">2</span>:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'b2'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* n.... */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span> </span><br><span class="line">statusMap[a]() <span class="comment">// a1</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ¯”è¾ƒæ¸…æ™°ï¼Œå°†æ¡ä»¶é…ç½®ä¸å…·ä½“æ‰§è¡Œåˆ†ç¦»ã€‚å¦‚æœè¦å¢åŠ å…¶ä»–çŠ¶æ€ï¼Œåªä¿®æ”¹é…ç½®å¯¹è±¡å³å¯ã€‚</p>
<h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><h2 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h2><p>ECMAscript 6 åŸç”Ÿæä¾›äº† Promise å¯¹è±¡ã€‚</p>
<p>Promise å¯¹è±¡ä»£è¡¨äº†æœªæ¥å°†è¦å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”¨æ¥ä¼ é€’å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p>
<p><strong>Promise å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹:</strong></p>
<p>1ã€å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š</p>
<ul>
<li>pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚</li>
<li>fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li>
<li>rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li>
</ul>
<p>åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯ Promise è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯ã€Œæ‰¿è¯ºã€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ã€‚</p>
<p>2ã€ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promise å¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä» Pending å˜ä¸º Resolved å’Œä» Pending å˜ä¸º Rejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœã€‚å°±ç®—æ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹ Promise å¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚</p>
<p><strong>ç®€å•å®ç°ï¼š</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_promise</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    params&gt;<span class="number">0</span> ? resolve(<span class="string">'æ­£æ•°'</span>) : reject(<span class="string">'è´Ÿæ•°'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">_promise(<span class="number">1</span>).then(<span class="function"><span class="params">res</span>=&gt;</span><span class="built_in">console</span>.log(res)) <span class="comment">// æ­£æ•°</span></span><br><span class="line"></span><br><span class="line">_promise(<span class="number">-1</span>).catch(<span class="function"><span class="params">res</span>=&gt;</span><span class="built_in">console</span>.log(res)) <span class="comment">// è´Ÿæ•°</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h3><p><code>Promise.all</code>å¯ä»¥å°†å¤šä¸ªPromiseå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åŒæ—¶ï¼ŒæˆåŠŸå’Œå¤±è´¥çš„è¿”å›å€¼æ˜¯ä¸åŒçš„ï¼ŒæˆåŠŸçš„æ—¶å€™è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœæ•°ç»„ï¼Œè€Œå¤±è´¥çš„æ—¶å€™åˆ™è¿”å›æœ€å…ˆè¢«rejectå¤±è´¥çŠ¶æ€çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="string">'æˆåŠŸäº†'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve(<span class="string">'success'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p3 = <span class="built_in">Promise</span>.reject(<span class="string">'å¤±è´¥'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([p1, p2]).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)               <span class="comment">//['æˆåŠŸäº†', 'success']</span></span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.all([p1,p3,p2]).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error)      <span class="comment">// 'å¤±è´¥'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯</strong>ï¼ŒPromise.allè·å¾—çš„æˆåŠŸç»“æœçš„æ•°ç»„é‡Œé¢çš„æ•°æ®é¡ºåºå’ŒPromise.allæ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œå³p1çš„ç»“æœåœ¨å‰ï¼Œå³ä¾¿p1çš„ç»“æœè·å–çš„æ¯”p2è¦æ™šã€‚è¿™å¸¦æ¥äº†ä¸€ä¸ªç»å¤§çš„å¥½å¤„ï¼šåœ¨å‰ç«¯å¼€å‘è¯·æ±‚æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œå¶å°”ä¼šé‡åˆ°å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè·å–å’Œä½¿ç”¨æ•°æ®çš„åœºæ™¯ï¼Œä½¿ç”¨Promise.allæ¯«æ— ç–‘é—®å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 id="Promise-race"><a href="#Promise-race" class="headerlink" title="Promise.race"></a>Promise.race</h3><p>é¡¾åæ€ä¹‰ï¼ŒPromse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'success'</span>)</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    reject(<span class="string">'failed'</span>)</span><br><span class="line">  &#125;, <span class="number">500</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.race([p1, p2]).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(error)  <span class="comment">// æ‰“å¼€çš„æ˜¯ 'failed'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="async-await"><a href="#async-await" class="headerlink" title="async-await"></a>async-await</h2><p>ES2017 æ ‡å‡†å¼•å…¥äº†<code>async</code> å‡½æ•°ï¼Œä½¿å¾—å¼‚æ­¥æ“ä½œå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚</p>
<p><code>async</code> å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿä¸€å¥è¯ï¼Œå®ƒå…¶å®å°±æ˜¯<code>promise</code> å’Œ<code>Generator</code> å‡½æ•°çš„è¯­æ³•ç³–ã€‚</p>
<h3 id="async"><a href="#async" class="headerlink" title="async"></a>async</h3><p><code>async</code> ç”¨æ¥è¡¨ç¤ºå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå®šä¹‰çš„å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thenæ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);<span class="comment">// 123</span></span><br><span class="line">&#125;);</span><br><span class="line">è‹¥ <span class="keyword">async</span> å®šä¹‰çš„å‡½æ•°æœ‰è¿”å›å€¼ï¼Œ<span class="keyword">return</span> <span class="number">123</span>;ç›¸å½“äº<span class="built_in">Promise</span>.resolve(<span class="number">123</span>),æ²¡æœ‰å£°æ˜å¼çš„ <span class="keyword">return</span>åˆ™ç›¸å½“äºæ‰§è¡Œäº†<span class="built_in">Promise</span>.resolve();</span><br></pre></td></tr></table></figure>
<h3 id="await"><a href="#await" class="headerlink" title="await"></a>await</h3><p><code>await</code> å¯ä»¥ç†è§£ä¸ºæ˜¯ async wait çš„ç®€å†™ã€‚await å¿…é¡»å‡ºç°åœ¨ async å‡½æ•°å†…éƒ¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">notAsyncFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> <span class="built_in">Math</span>.random();</span><br><span class="line">&#125;</span><br><span class="line">notAsyncFunc();<span class="comment">//Uncaught SyntaxError: Unexpected identifier</span></span><br></pre></td></tr></table></figure>
<p><code>await</code> åé¢å¯ä»¥è·Ÿä»»ä½•çš„JS è¡¨è¾¾å¼ã€‚è™½ç„¶è¯´ <code>await</code> å¯ä»¥ç­‰å¾ˆå¤šç±»å‹çš„ä¸œè¥¿ï¼Œä½†æ˜¯å®ƒæœ€ä¸»è¦çš„æ„å›¾æ˜¯ç”¨æ¥ç­‰å¾… <code>Promise</code> å¯¹è±¡çš„çŠ¶æ€è¢« <code>resolved</code>ã€‚å¦‚æœ<code>awaitçš„</code>æ˜¯ <code>promise</code>å¯¹è±¡ä¼šé€ æˆå¼‚æ­¥å‡½æ•°åœæ­¢æ‰§è¡Œå¹¶ä¸”ç­‰å¾… <code>promise</code> çš„è§£å†³,å¦‚æœç­‰çš„æ˜¯æ­£å¸¸çš„è¡¨è¾¾å¼åˆ™ç«‹å³æ‰§è¡Œã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">second</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">' enough sleep~'</span>);</span><br><span class="line">        &#125;, second);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'normalFunc'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">awaitDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> normalFunc();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'something, ~~'</span>);</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> sleep(<span class="number">2000</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(result);<span class="comment">// ä¸¤ç§’ä¹‹åä¼šè¢«æ‰“å°å‡ºæ¥</span></span><br><span class="line">&#125;</span><br><span class="line">awaitDemo();</span><br><span class="line"><span class="comment">// normalFunc</span></span><br><span class="line"><span class="comment">// VM4036:13 something, ~~</span></span><br><span class="line"><span class="comment">// VM4036:15  enough sleep~</span></span><br></pre></td></tr></table></figure>
<p>å¸Œæœ›é€šè¿‡ä¸Šé¢çš„ demoï¼Œå¤§å®¶å¯ä»¥ç†è§£æˆ‘ä¸Šé¢çš„è¯ã€‚</p>
<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p>ä¸Šè¿°çš„ä»£ç å¥½åƒç»™çš„éƒ½æ˜¯resolveçš„æƒ…å†µï¼Œé‚£ä¹ˆrejectçš„æ—¶å€™æˆ‘ä»¬è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sleep</span>(<span class="params">second</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            reject(<span class="string">'want to sleep~'</span>);</span><br><span class="line">        &#125;, second);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">errorDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br><span class="line">errorDemo();<span class="comment">// VM706:11 Uncaught (in promise) want to sleep~</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºäº†å¤„ç†Promise.reject çš„æƒ…å†µæˆ‘ä»¬åº”è¯¥å°†ä»£ç å—ç”¨ try catch åŒ…è£¹ä¸€ä¸‹</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">errorDemoSuper</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = <span class="keyword">await</span> sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(result);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">errorDemoSuper();<span class="comment">// want to sleep~</span></span><br><span class="line"><span class="comment">// æœ‰äº† try catch ä¹‹åæˆ‘ä»¬å°±èƒ½å¤Ÿæ‹¿åˆ° Promise.reject å›æ¥çš„æ•°æ®äº†ã€‚</span></span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€ç‚¹ï¼Œawaitå¿…é¡»åœ¨asyncå‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­çš„ã€‚</p>
<p><a href="https://segmentfault.com/a/1190000011526612#articleHeader5" target="_blank" rel="noopener">å‚è€ƒæ–‡ç« </a></p>
<h2 id="è·å–å‡½æ•°å‚æ•°å"><a href="#è·å–å‡½æ•°å‚æ•°å" class="headerlink" title="è·å–å‡½æ•°å‚æ•°å"></a>è·å–å‡½æ•°å‚æ•°å</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getParameterName</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> fn !== <span class="string">'object'</span> &amp;&amp; <span class="keyword">typeof</span> fn !== <span class="string">'function'</span> ) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> COMMENTS = <span class="regexp">/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg</span>;</span><br><span class="line">    <span class="keyword">const</span> DEFAULT_PARAMS = <span class="regexp">/=[^,)]+/mg</span>;</span><br><span class="line">    <span class="keyword">const</span> FAT_ARROWS = <span class="regexp">/=&gt;.*$/mg</span>;</span><br><span class="line">    <span class="keyword">let</span> code = fn.prototype ? fn.prototype.constructor.toString() : fn.toString();</span><br><span class="line">    code = code</span><br><span class="line">        .replace(COMMENTS, <span class="string">''</span>)</span><br><span class="line">        .replace(FAT_ARROWS, <span class="string">''</span>)</span><br><span class="line">        .replace(DEFAULT_PARAMS, <span class="string">''</span>);</span><br><span class="line">    <span class="keyword">let</span> result = code.slice(code.indexOf(<span class="string">'('</span>) + <span class="number">1</span>, code.indexOf(<span class="string">')'</span>)).match(<span class="regexp">/([^\s,]+)/g</span>);</span><br><span class="line">    <span class="keyword">return</span> result === <span class="literal">null</span> ? [] :result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¤ºä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params">x, y</span>) </span>&#123; <span class="keyword">return</span> x, y &#125;;</span><br><span class="line"></span><br><span class="line">getParameterName(example); <span class="comment">// ["x", "y"]</span></span><br></pre></td></tr></table></figure>
<h1 id="Api"><a href="#Api" class="headerlink" title="Api"></a>Api</h1><h2 id="å¯é€‰é“¾"><a href="#å¯é€‰é“¾" class="headerlink" title="å¯é€‰é“¾?."></a>å¯é€‰é“¾<code>?.</code></h2><p><strong>MDNé‡Šä¹‰</strong></p>
<blockquote>
<p>å¯é€‰é“¾æ“ä½œç¬¦?.èƒ½å¤Ÿå»è¯»å–ä¸€ä¸ªè¢«è¿æ¥å¯¹è±¡çš„æ·±å±‚æ¬¡çš„å±æ€§çš„å€¼è€Œæ— éœ€æ˜ç¡®æ ¡éªŒé“¾æ¡ä¸Šæ¯ä¸€ä¸ªå¼•ç”¨çš„æœ‰æ•ˆæ€§</p>
</blockquote>
<p>åŸºæœ¬ä½¿ç”¨<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> prop = obj?.prop</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> prop = obj &amp;&amp; obj.prop</span><br></pre></td></tr></table></figure></p>
<p>å¯é€‰é“¾ä¸å‡½æ•°è°ƒç”¨</p>
<p>å‡½æ•°è°ƒç”¨æ—¶å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œä½¿ç”¨å¯é€‰é“¾å¯ä»¥ä½¿è¡¨è¾¾å¼è‡ªåŠ¨è¿”å›undefinedè€Œä¸æ˜¯æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props.onSearch?.()</span><br></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„</strong>ï¼šå¯é€‰é“¾åœ¨èµ‹å€¼æ—¶æ— æ•ˆ<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> object = &#123;&#125;;</span><br><span class="line">object?.property = <span class="number">1</span>; <span class="comment">// Uncaught SyntaxError: Invalid left-hand side in assignment</span></span><br></pre></td></tr></table></figure></p>
<h2 id="é€—å·è¡¨è¾¾å¼"><a href="#é€—å·è¡¨è¾¾å¼" class="headerlink" title="é€—å·è¡¨è¾¾å¼"></a>é€—å·è¡¨è¾¾å¼</h2><p><strong>MDNé‡Šä¹‰</strong>ï¼šå¯¹å®ƒçš„æ¯ä¸ªæ“ä½œæ•°æ±‚å€¼ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼Œå¹¶è¿”å›æœ€åä¸€ä¸ªæ“ä½œæ•°çš„å€¼ã€‚</p>
<p>ä¾‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">num</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">return</span> a, b, c;</span><br><span class="line">&#125;</span><br><span class="line">num() <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p>
<h2 id="åŸå‹å’ŒåŸå‹é“¾"><a href="#åŸå‹å’ŒåŸå‹é“¾" class="headerlink" title="åŸå‹å’ŒåŸå‹é“¾"></a>åŸå‹å’ŒåŸå‹é“¾</h2><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p>åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰æ˜¯å…è®¸æ‹¥æœ‰å±æ€§çš„ã€‚æ‰€æœ‰çš„å‡½æ•°ä¼šæœ‰ä¸€ä¸ªç‰¹åˆ«çš„å±æ€§ â€”â€” <code>prototype</code>ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯åŸå‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>åŸå‹å¯¹è±¡å°±ç›¸å½“äºä¸€ä¸ªå…¬å…±çš„åŒºåŸŸï¼Œæ‰€æœ‰åŒä¸€ä¸ªç±»çš„å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä¸­å…±æœ‰çš„å†…å®¹ï¼Œç»Ÿä¸€è®¾ç½®åˆ°åŸå‹å¯¹è±¡ä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> timbok = <span class="keyword">new</span> Person(<span class="string">'timbok'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> lucy = <span class="keyword">new</span> Person(<span class="string">'lucy'</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(timbok.sayName === lucy.sayName); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºåŒä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ new ç”Ÿæˆå‡ºæ¥çš„å®ä¾‹ï¼Œéƒ½ä¼šå¼€å‡ºæ–°çš„ä¸€å—å †åŒºï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¸­ timbok å’Œ lucyçš„<code>sayName</code>ä¸ç›¸ç­‰ã€‚</p>
<p>å½“ä½¿ç”¨<code>prototype</code>æ—¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.eat = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'åƒ'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> timbok = <span class="keyword">new</span> Person(<span class="string">'timbok'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> lucy = <span class="keyword">new</span> Person(<span class="string">'lucy'</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(timbok.eat === lucy.eat); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h3><p>åœ¨JavaScriptä¸­ä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´ä¹Ÿæœ‰å…³ç³»ï¼Œå¹¶ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ã€‚å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨JavaScriptä¸­æ˜¯é€šè¿‡prototypeå¯¹è±¡æŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘Objectå¯¹è±¡ä¸ºæ­¢ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåŸå‹æŒ‡å‘çš„é“¾æ¡ï¼Œä¸“ä¸šæœ¯è¯­ç§°ä¹‹ä¸ºåŸå‹é“¾ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.constructor === Person <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">Person.prototype === timbok.__proto__ <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»<code>åŸå‹å¯¹è±¡</code>ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ™å»<code>åŸå‹çš„åŸå‹ä¸­</code>å¯»æ‰¾,ç›´åˆ°æ‰¾åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼ŒObjectå¯¹è±¡çš„åŸå‹æ²¡æœ‰åŸå‹ï¼Œå¦‚æœåœ¨ObjectåŸå‹ä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›undefinedã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.a) <span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log(person.b) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>person.a</strong>:</p>
<p>å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾<code>a</code> -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°<code>person.__proto__ï¼Œä¹Ÿå°±æ˜¯ Person.prototype</code>å†…æ‰¾ -&gt; æ‰¾åˆ°äº†</p>
<p><strong>person.b</strong>:</p>
<p>å…ˆåœ¨personå¯¹è±¡é‡Œæ‰¾<code>b</code> -&gt; æ²¡æ‰¾åˆ°ä¼šå†åˆ°<code>person.__proto__</code>å†…æ‰¾ -&gt; æŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ -&gt; æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚Objectä¸ºæ­¢ -&gt; æ‰¾ä¸åˆ°å°±undefined</p>
<h3 id="è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦"><a href="#è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦" class="headerlink" title="è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦"></a>è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦</h3><p>è¦æƒ³å¼„æ‡‚<code>new</code>ï¼Œå¾—å…ˆäº†è§£ä¸€ä¸‹ä½•ä¸º<code>æ„é€ å‡½æ•°</code>ï¼Ÿ</p>
<h4 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h4><p>æ„é€ å‡½æ•°ä¸å…¶ä»–å‡½æ•°çš„å”¯ä¸€åŒºåˆ«ï¼Œå°±åœ¨äºè°ƒç”¨å®ƒä»¬çš„æ–¹å¼ä¸åŒã€‚ä¸è¿‡ï¼Œæ„é€ å‡½æ•°æ¯•ç«Ÿä¹Ÿæ˜¯å‡½æ•°ï¼Œä¸å­˜åœ¨å®šä¹‰æ„é€ å‡½æ•°çš„ç‰¹æ®Šè¯­æ³•ã€‚ä»»ä½•å‡½æ•°ï¼Œ<code>åªè¦é€šè¿‡ new æ“ä½œç¬¦</code>æ¥è°ƒç”¨ï¼Œé‚£å®ƒå°±å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°</p>
<p>ç”¨ä»¥ä¸‹çš„ä¾‹å­æ¥æ¨¡ä»¿ <code>var person = new Person()</code> çš„è¿‡ç¨‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. éœ€è¦ä¸€ä¸ªåˆ›é€ å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Creator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name=<span class="string">'creator'</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"åˆ›é€ å™¨"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. æ–°å»ºå˜é‡ï¼Œå¼€è¾Ÿå†…å­˜</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. é€šè¿‡ __proto__ æŒ‡å‘Creatorçš„åŸå‹</span></span><br><span class="line">person.__proto__ = Creator.prototype</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. call person ä½¿å…¶å¯ä»¥æ‰©å±•name</span></span><br><span class="line">Creator.call(person) <span class="comment">// åˆ›é€ å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.åœ¨åŸå‹ä¸Šå¢åŠ æ–¹æ³•</span></span><br><span class="line">Creator.prototype.action = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'åˆ›é€ åŠ¨ä½œ'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.action() <span class="comment">// åˆ›é€ åŠ¨ä½œ</span></span><br><span class="line"><span class="built_in">console</span>.log(person) <span class="comment">// Creator &#123;name: 1&#125;</span></span><br></pre></td></tr></table></figure>
<p>å…³äº <a href="https://juejin.im/post/59bfe84351882531b730bac2" target="_blank" rel="noopener">thisã€applyã€callã€bind</a> å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚</p>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'æ•‘æ•‘å­©å­å§ï¼Œæˆ‘æƒ³å–ä¸€ç‚¹ç‚¹å¥¶èŒ¶ï¼', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'æ‰“èµæ”¯æŒ', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: "https://raw.githubusercontent.com/yb909144903/PictureBed/develop/img/webchat.jpg",
  alipayImage: "https://raw.githubusercontent.com/yb909144903/PictureBed/develop/img/alipay.jpg",
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>æœ¬æ–‡ä½œè€…:  </strong>Timbok
          </li>
          <li class="post-copyright-link">
          <strong>æœ¬æ–‡é“¾æ¥:  </strong>
          <a href="/2019/02/23/JavaScripté—¯å…³ç¬”è®°/" target="_blank" title="JavaScripté—¯å…³ç¬”è®°">https://timbok.github.io/2019/02/23/JavaScripté—¯å…³ç¬”è®°/</a>
          </li>
          <li class="post-copyright-license">
            <strong>ç‰ˆæƒå£°æ˜:   </strong>
            æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„
          </li>
         
        </ul>
<div>
</div></div>
      
      
        
	<!-- Valine start -->
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  <div id="vcomments" style="margin-top: 20px;"></div>
  <script>
      new Valine({
          el: '#vcomments',
          appId: '2OIV4MkEvPw7WNQEXOKh9YNq-gzGzoHsz',
          appKey: 'rvPKKHDlqLtjJhcIaUg0XETR',
          avatar: 'monsterid',
          placeholder: 'æ¥å•Šï¼Œå¿«æ´»å•Šï¼ã„Ÿ( â–”, â–” )ã„',
      })
  </script>
	<!-- Valine end -->


      
      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/28/ç™¾åº¦ç¾åŒ–/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          ç»™ä½ çš„ç™¾åº¦ç”»ä¸ªå¦†
        
      </div>
    </a>
  
  
    <a href="/2019/02/18/MacBookå¿«æ·é”®/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">MacBookå¸¸ç”¨å¿«æ·é”®</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ä»‹ç»"><span class="nav-number">1.</span> <span class="nav-text">ä»‹ç»</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ç›®å½•"><span class="nav-number">2.</span> <span class="nav-text">ç›®å½•</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Array"><span class="nav-number">3.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#è¿­ä»£æ–¹æ³•"><span class="nav-number">3.1.</span> <span class="nav-text">è¿­ä»£æ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#splitå’Œjoin"><span class="nav-number">3.2.</span> <span class="nav-text">splitå’Œjoin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#splice"><span class="nav-number">3.3.</span> <span class="nav-text">splice</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#from"><span class="nav-number">3.4.</span> <span class="nav-text">from</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Object"><span class="nav-number">4.</span> <span class="nav-text">Object</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#objectæ˜ å°„"><span class="nav-number">4.1.</span> <span class="nav-text">objectæ˜ å°„</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Function"><span class="nav-number">5.</span> <span class="nav-text">Function</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#promise"><span class="nav-number">5.1.</span> <span class="nav-text">promise</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise-all"><span class="nav-number">5.1.1.</span> <span class="nav-text">Promise.all</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise-race"><span class="nav-number">5.1.2.</span> <span class="nav-text">Promise.race</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#async-await"><span class="nav-number">5.2.</span> <span class="nav-text">async-await</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#async"><span class="nav-number">5.2.1.</span> <span class="nav-text">async</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#await"><span class="nav-number">5.2.2.</span> <span class="nav-text">await</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é”™è¯¯å¤„ç†"><span class="nav-number">5.2.3.</span> <span class="nav-text">é”™è¯¯å¤„ç†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è·å–å‡½æ•°å‚æ•°å"><span class="nav-number">5.3.</span> <span class="nav-text">è·å–å‡½æ•°å‚æ•°å</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Api"><span class="nav-number">6.</span> <span class="nav-text">Api</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯é€‰é“¾"><span class="nav-number">6.1.</span> <span class="nav-text">å¯é€‰é“¾?.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é€—å·è¡¨è¾¾å¼"><span class="nav-number">6.2.</span> <span class="nav-text">é€—å·è¡¨è¾¾å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸå‹å’ŒåŸå‹é“¾"><span class="nav-number">6.3.</span> <span class="nav-text">åŸå‹å’ŒåŸå‹é“¾</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸå‹"><span class="nav-number">6.3.1.</span> <span class="nav-text">åŸå‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸå‹é“¾"><span class="nav-number">6.3.2.</span> <span class="nav-text">åŸå‹é“¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦"><span class="nav-number">6.3.3.</span> <span class="nav-text">è¡ç”Ÿæ‰©å±•-newæ“ä½œç¬¦</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æ„é€ å‡½æ•°"><span class="nav-number">6.3.3.1.</span> <span class="nav-text">æ„é€ å‡½æ•°</span></a></li></ol></li></ol></li></ol></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <!-- <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p> -->
	      <p id="copyRightEn">Copyright &copy; 2017 - 2021 Timbok&#39;s Blog All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				è®¿å®¢æ•° : <span id="busuanzi_value_site_uv"></span> |  
				è®¿é—®é‡ : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/message" class="mobile-nav-link">Message</a>
  
    <a href="/share" class="mobile-nav-link">Share</a>
  
    <a href="/introduce" class="mobile-nav-link">Introduce</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-130181265-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->







	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>



	<script type="text/javascript">
    var id = '996ec7f06c07b1e3b09cd843ae120862';
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + id;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Timbok&#39;s Blog
          </div>
          <div class="panel-body"> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </div>
          <div class="panel-body">
            Copyright Â© 2021 Timbok All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>